2004-04-21  Jens Finke  <jens@triq.net>

	* libeom/eom-full-screen.c (eom_full_screen_instance_init):
	Check actual monitor/screen size. Fixes xinerama problems
	in #137137 partially.

2004-04-09  Guntupalli Karunakar  <karunakar@freedomink.org>

   * configure.in: Added "gu" (Gujarati) to ALL_LINGUAS.

2004-04-02  Iñaki Larrañaga  <dooteo@euskalgnu.org>

	* configure.in: Added "eu" (Basque) to ALL_LINGUAS.

2004-03-31  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "af" to ALL_LINGUAS.

======== 2.6.0 ======

2004-03-22  Jens Finke  <jens@triq.net>

	* configure.in: Updated library requirements.
	Bumped version to 2.6.0.

	* NEWS: Updated.

2004-03-19  Seth Nickell  <seth@gnome.org>

	* libeom/eom-file-selection.c: (eom_file_selection_new):

	If using VFS, allow the file chooser to return non-local
 	URIs. Fixes a regression caused by GTK+ API change.

2004-03-22  Jens Finke  <jens@triq.net>

	* help/it/eom-it.omf,
	* help/it/eom.xml,
	* help/it/eom_start_window.png: Italian documentation
	update by Lucca Feretti <elle.uca@libero.it>. #136620

2004-03-22  Guntupalli Karunakar  <karunakar@freedomink.org>

   * configure.in: Added "pa" (Punjabi) to ALL_LINGUAS.

2004-03-17  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

======= 2.5.91 =======

2004-03-15  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.5.91

	* NEWS: Updated.

======= 2.5.90 =======

2004-03-08  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.5.90

	* NEWS: updated.

2004-03-08  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.c (eom_collection_item_update):
	New function.
	(eom_collection_item_set_pixbuf): Delay emit of SIZE_CHANGED
	signal until the item actually has been updated on the canvas
	level.

2004-03-05  Jens Finke  <jens@triq.net>

	Fixes #134981.

	* art/loading.png: New file, borrowed from caja.

	* art/Makefile.am: Added loading.png to icons data.

	* collection/eom-collection-item.c (get_busy_pixbuf): Indicate
	busy state by new loading icon.

2004-03-05  Jens Finke  <jens@triq.net>

	* libeom/eom-file-selection.c (eom_folder_selection_new): Removed
	this function, incorporated the functionality into eom_file_selection_new.

2004-03-05  Jonathan Blandford  <jrb@gnome.org>

	* libeom/eom-file-selection.c: There are now 4 actions. - Fixes #135816

2004-03-01  Jens Finke  <jens@triq.net>

	* libeom/eom-file-selection.c: (eom_file_selection_new): Don't set
	'folder-mode' property, allow multiple selections.
	(eom_folder_selection_new): Set chooser action to
	GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER.

2004-03-01  Jan Arne Petersen  <jpetersen@uni-bonn.de>

	* libeom/eom-file-selection.c: (eom_file_selection_add_filter),
	(eom_file_selection_new):
	Fix FileFilter (see #128396).

2004-02-26  Breda McColgan <breda.mccolgan@sun.com>

	* help/C/eom.xml: Updated based on technical review comments from Jens.
	* help/C/eom-C.omf: Updated date and software version.

2004-02-23  Ole Laursen  <olau@hardworking.dk>

	* libgpi/gpi-dialog.glade: Removed the dummy title "dialog1" of
	the dialog so that it won't show up in .po files (fixes bug
	#119170).

======= 2.5.6 =======

2004-02-23  Jens Finke  <jens@triq.net>

    * configure.in: Bumped version to 2.5.6

    * NEWS: Updated

2004-02-23  Danilo Šegan  <dsegan@gmx.net>

	* collection/eom-collection-view.c (eom_collection_view_get_prop):
	Mark "Images: %i/%i" for translation.

2004-02-21  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "en_CA" to ALL_LINGUAS.

2004-02-19  Jens Finke  <jens@triq.net>

	Fixes bug #134857. Hint by Jan Arne Petersen.

	* shell/recent-files/egg-recent-model.c: Updated from libegg.

2004-02-19  Jens Finke  <jens@triq.net>

	Fix AIX compilation problems - #134866.

	* libeom/eom-image.h
	* shell/eom-window.h: No trailing comma after last enum constant.

	* libeom/eom-scroll-view.c: No C++ comments in C source files.

2004-02-19  Jens Finke  <jens@triq.net>

	* MAINTAINERS,
	* AUTHORS,
	* TODO,
	* HACKING: Updated.

2004-02-19  Alessio Frusciante  <algol@firenze.linux.it>

	* eom.schemas.in: Fixed some typos.

2004-02-18  Breda McColgan <breda.mccolgan@sun.com>

	* help/C/eom.xml: Updated for MATE 2.6 release.
	* help/C/eom-C.omf: Updated for MATE 2.6 release.
	* help/C/l10n.txt: Updated for MATE 2.6 release.
	* help/C/figures/eom_start_window.png: Updated for MATE 2.6 release.

====== 2.5.5 ======

2004-02-16  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.5.5

	* NEWS: Updated.

2004-02-15  Jens Finke  <jens@triq.net>

	* libeom/eom-file-selection.c (eom_folder_selection_new),
	(eom_file_selection_new): Don't force specific window size.

2004-02-15  Jens Finke  <jens@triq.net>

	Don't lost exif data scroll position when switching to a new image
	in collection view. Fixes #123463.

	* libeom/eom-info-view.c (clear_single_row), (clear_values): New
	functions.
	(set_row_data): New function. Set data for a given treeview path
	or appends a new row if it doesn't exist.
	(append_row): Removed.
	(add_image_size_attribute): Use set_row_data.
	(exif_entry_cb): Use hashtable to determine the row for a given
	exif attribute.
	(eom_info_view_set_image),
	(image_changed_cb): Clear list, but don't use new model.

====== 2.5.4 =======

2004-02-03  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.5.4

	* NEWS: Updated.

2004-02-02  Jens Finke  <jens@triq.net>

	Applied patch by Christian Neumair. Fixes bug #128796.

	* collection/MATE_EOM_Collection.server.in.in: Add mnemonic for
	"View as Image Collection".

2004-02-02  Jens Finke   <jens@triq.net>

	Fixes #132263.

	* collection/eom-collection-view.c (have_broken_filenames),
	(get_title_from_uri): New function.
	(eom_collection_view_get_prop): Obtain title from base_uri.
	(get_collection_model): Connect to list-prepared signal.

	* collection/eom-save-dialog.c (eg_save_dialog_update): Removed
	debug output.

	* libeom/eom-image-list.[ch] (eom_image_list_dispose),
	(eom_image_list_instance_init): Init/free new attributes.
	(real_dir_loading),
	(real_file_loading): Determine base uri.
	(prepare_loading_context): Don't leak info object on error.
	(eom_image_list_get_base_uri): New function.

	* libeom/eom-image.c (eom_image_get_caption): Copy static string
	in error case.

2004-01-29  Jason Leach  <leach@wam.umd.edu>

	* shell/recent-files/egg-recent-view-gtk.c:
	* shell/recent-files/egg-recent-view-gtk.h: Add these to the
	repository, egg-recent.h needs them.

	* shell/recent-files/Makefile.am (EGG_RECENT_FILES): Add
	egg-recent-view-gtk.[ch] here.
	(#132823, Malcolm Tredinnick)

2004-01-27  Balamurali Viswanathan  <balamurali.viswanathan@wipro.com>

	* libeom/eom-file-selection.c (response_cb): Check for the
	existence of the file only if "Save" button  is clicked on the
	save image dialog. Solves bug #131654

2004-01-27  Jason Leach  <leach@wam.umd.edu>

	* shell/recent-files/Makefile.am (regenerate-built-sources): New
	make target to automate updating the libegg sources.

	* shell/recent-files/update-from-egg.sh: The small script that
	makes updating simple.

	* shell/recent-files/egg-recent-item.c:
	* shell/recent-files/egg-recent-item.h:
	* shell/recent-files/egg-recent-model.c:
	* shell/recent-files/egg-recent-util.c:
	* shell/recent-files/egg-recent.h:
	Sync these files with their latest copies from libegg so as to
	include any bugfixes since 2003-04-12, the previous sync.
	(#121455, Laurent Vivier)

2004-01-18  Jens Finke  <jens@triq.net>

	* shell/Makefile.am (INCLUDES): Removed $(MATECONF_CFLAGS), these are
	now all in $(EOM_CFLAGS). Patch by German Poo Caaman~o, fixes
	#131766.

2004-01-14  Jens Finke  <jens@triq.net>

	* shell/main.c (sort_files): Deal with uri == NULL. Fixes bug
	#130726 partly, at least doesn't crash anymore.
	(show_nonexistent_file): Better error message.
	(handle_cmdline_args),
	(string_array_to_list): Use GSList instead of GList.

====== 2.5.3 =======

2004-01-13  Jens Finke  <jens@triq.net>

	* configure.in: Release time again: 2.5.3.

	* Makefile.am (EXTRA_DIST): Removed OrigTree.pm stuff, intltool
	changed once again.

	* NEWS: Updated.

2004-01-11  Jens Finke  <jens@triq.net>

	* libeom/uta.c (uta_find_first_glom_rect): Fixed logic typo. Patch
	by Dave Jones (davej@redhat.com), report by Telsa Gwynne, fixes bug
	#130924.

2004-01-09  Roozbeh Pournader  <roozbeh@sharif.edu>

	* THANKS: fixed a typo (#130946).

2004-01-06  Jens Finke  <jens@triq.net>

	* libeom/eom-image-jpeg.c (eom_image_jpeg_save): Check for
	successful tmp file creation.
	(eom_image_jpeg_save_lossless): Use
	mate_vfs_get_local_path_from_uri.

	* libeom/eom-image-view.c (save_uri): Deal with text_uri == NULL.

2004-01-03  Jens Finke  <jens@triq.net>

	Allow loading of multiple single images into a collection
	view. [Got broken when switching to EomImageList.]

	* collection/Makefile.am (SOURCES): Added
	eom-collection-view-iface.[ch].

	* collection/eom-collection-view-iface.[ch]: New files.

	* idl/Eom.idl: Removed old cruft. New MATE::EOM::CollectionView
	interface.

	* collection/eom-collection-view.c (get_collection_model): New func.
	(load_uri_cb): Reworked
	(load_uri_list_cb): New func.
	(eom_collection_view_construct): Add EOM::CollectionView interface.

	* collection/MATE_EOM_Collection.server.in.in: Added
	IDL:MATE/EOM/CollectionView:1.0 to list of repo_ids.

	* libeom/eom-image-list.c (real_file_loading),
	(eom_image_list_add_files): New func.
	(eom_image_list_add_directory): Clean up.

	* shell/eom-window.c (add_control_to_ui): New func.
	(eom_window_open_list),
	(eom_window_open): Reworked functions. *_open_list uses the
	CollectionView::loadURIList interface, while *_open uses
	BonobPersistFile::load.

2004-01-03  Robert Sedak  <robert.sedak@sk.htnet.hr>

        * configure.in: Added "hr" in ALL_LINGUAS.

2003-12-31  Jens Finke  <jens@triq.net>

	Preview for the file selector.

	* libeom/eom-file-selection.c (eom_file_selection_dispose),
	(eom_file_selection_finalize), (eom_file_selection_class_init),
	(eom_file_selection_instance_init),
	(set_preview_label),
	(set_preview_pixbuf),
	(update_preview_cb),
	(eom_file_selection_add_preview): New functions.
	(eom_file_selection_new): Add preview widget.

	* libeom/eom-file-selection.h: Added pointer to private struct.

====== 2.5.2.1 =====

2003-12-29  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.5.2.1

	* Makefile.am: Added OrigTree.pm from intltool-modules to
	EXTRA_DIST - #130062.

	* NEWS: Updated.

2003-12-27  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.c (ensure_max_string_width):
	Prefer non-alphanumeric characters for positions to wrap caption.

2003-12-27  Jens Finke  <jens@triq.net>

	Indicate modified images by bold caption in collection view.

	* collection/eom-collection-item.c (image_changed_cb): Update
	caption too.
	(get_item_image_caption): New function.
	(transform_caption): Removed.
	(eom_collection_item_construct): Use get_item_image_caption, use
	markup property for caption item.

===== 2.5.2 =====

2003-12-22  Jens Finke  <jens@triq.net>

	* configure.in: Version 2.5.2

	* NEWS: Updated.

2003-12-21  Jens Finke  <jens@triq.net>

	* libeom/eom-image-list.c (compare_quarks),
	(get_supported_mime_types), (is_supported_mime_type): New
	functions.
	(directory_visit_cb): Put only images into the list, which are
	actually supported by GdkPixbuf.

2003-12-21  Jens Finke  <jens@triq.net>

	* libeom/eom-file-selection.c (eom_file_selection_add_filter):
	Added filter which displays 'All Files'.

2003-12-21  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.c (save_image_loading_finished):
	Adapted to new eom_image_save signature.

	* libeom/eom-file-selection.[ch] (eom_file_selection_add_filter):
	Attach GdkPixbufFormat to filter for further reference.
	(eom_file_selection_get_format): New function.

	* libeom/eom-image-jpeg.[ch] (get_tmp_filepath),
	(move_file_to_uri): New functions.
	(eom_image_jpeg_save),
	(eom_image_jpeg_save_lossless): Dump data to temporary file first
	and move it to final destination afterwards.

	* libeom/eom-image.[ch] (real_image_load): Set image status to failed
	if we read 0 bytes.
	(eom_image_save): Added GdkPixbufFormat parameter, better
	retrieving of target filetype.

	* viewer/eom-image-view.c (verb_SaveAs_cb): Get image format from
	file chooser.
	(save_uri): New function, which takes an additional
	GdkPixbufFormat parameter.

2003-12-19  Jens Finke  <jens@triq.net>

	* libeom/eom-image.c (eom_image_save): Update URI and clear
	caption strings after save.

	* libeom/eom-image.h (eom_image_save): non-const target URI.

	* viewer/eom-image-view.c (eom_image_view_get_prop): View caption
	of modified images with appended asterisk.
	(image_changed_cb): Notify listerns about title change, too.

2003-12-14  Jens Finke  <jens@triq.net>

	* libeom/eom-full-screen.c (prepare_data): Disable automatic image
	switching for single images always.

2003-12-13  Thomas Vander Stichele  <thomas at apestaart dot org>

        * configure.in: added ACLOCAL_AMFLAGS so maintainer builds pick up m4's

2003-12-11  Kaushal Kumar  <kaushal.kumar@wipro.com>

	* libeom/eom-file-selection.c (eom_file_selection_add_filter):
	Fix compilation (Bugzilla bug #129083).

2003-12-10  Jens Finke  <jens@triq.net>

	* libeom/eom-file-selection.c: Mark "All Images" string for translation.

2003-12-10  Jan Arne Petersen  <jpetersen@uni-bonn.de>

	Use the new gtk+ 2.4 file chooser and add file filter support.

	* libeom/eom-file-selection.c: (is_filename_valid): replace
	gtk_file_selection_* methods with gtk_file_chooser_* methods.
	(response_cb): use the new gtk_file_chooser_get_current_folder method.
	(eom_file_selection_construct): add file filter support.
	(eom_file_selection_new): replace gtk_file_selection_* methods with
	gtk_file_chooser_* methods.

	* libeom/eom-file-selection.h: change super class of EomFileSelection
	from GtkFileSelection to GtkFileChooserDialog

	* shell/eom-window.c: (verb_FileOpen_cb): replace gtk_file_selection_* methods with
        gtk_file_chooser_* methods.
	(open_uri_list_cleanup), (eom_window_drag_data_received): the uri-list is now a GSList
	instead of a GList.

	* shell/eom-window.h: the uri-list is now a GSList instead of a GList.

	* shell/main.c: (sort_files), (open_uri_list_cb): the uri-list is now a GSList
	instead of a GList.

	* viewer/eom-image-view.c: (verb_SaveAs_cb): replace gtk_file_selection_* methods with
        gtk_file_chooser_* methods.

===== 2.5.1 =====

2003-12-08  Jens Finke  <jens@triq.net>

	* NEWS: Updated.

	Released 2.5.1

2003-12-08  Jens Finke  <jens@triq.net>

	Patch by pasupathi.duraisamy@wipro.com - Bug #119469

	* libeom/eom-file-selection.c (replace_file): New function
	(response_cb): Check if the file exists and ask user if she wants
	to overwrite it.

2003-12-08  Jens Finke  <jens@triq.net>

	Lossless saving for local/unmodified files and local/modified jpeg
	images. Needs more testing.

	* Makefile.am:
	* acconfig.h: Added jpegutils compile magic.

	* configure.in: Bumped version to 2.5.1. Define ENABLE_JPEG.

	* viewer/Makefile.am,
	* collection/Makefile.am: Link to libeom-jpegutils conditionally.

	* libeom/Makefile.am: Include jpegutils dir.

	* libeom/eom-image-jpeg.[ch]: Build only if HAVE_JPEG is true.
	(eom_image_jpeg_save_lossless): New function.

	* libeom/eom-image-private.h: New file_type attribute.

	* libeom/eom-image.c (real_image_load): Store file format used for
	loading of the image.
	(is_local_uri),
	(get_save_file_type_by_suffix): New functions.
	(eom_image_save): Reworked function. Tries to be as smart as
	possible in using the least lossy save method.

	* libeom/eom-transform.[ch] (eom_transform_get_transform_type):
	New function.

	* jpegutils/*: New files, borrowed from GThumb.

2003-11-24  Jens Finke  <jens@triq.net>

	Display filesize information.

	* libeom/eom-image-private.h: Added bytes attribute.

	* libeom/eom-image.[ch](real_image_load): Init bytes attribute.
	(eom_image_get_bytes): New public function.

	* libeom/eom-info-view.c (add_image_size_attribute): Display
	filesize information.
	(loading_info_finished_cb): Load size attributes again (for the
	special case, where the image is already loaded).

	* viewer/eom-image-view.c (eom_image_view_get_prop): Display
	filesize in the statusbar.

2003-11-24  Jens Finke  <jens@triq.net>

	Select/show the image in the wraplist, that was last viewed in the
	slideshow on returning from fullscreen mode. Fixes #118617.

	* collection/eom-collection-view.c (slideshow_hide_cb): New function
	(verb_SlideShow_cb): Register for hide signal of the fullscreen widget.

	* collection/eom-wrap-list.c (eom_wrap_list_set_current_image):
	New function.

	* libeom/eom-full-screen.[ch] (eom_full_screen_hide): Don't
	destroy widget.
	(prepare_data): Set current iter also in the single image case.
	(eom_full_screen_get_last_image): New public function.

	* libeom/eom-image-list.c (eom_image_list_iter_valid): Check for iter != NULL.

	* viewer/eom-image-view.c (verb_FullScreen_cb): Destroy fullscreen
	widget on hide signal.

===== 2.5.0.1 ====

2003-11-10  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.5.0.1

	* NEWS: Updated

2003-11-06  Breda McColgan  <Breda.McColgan@sun.com>

	* help/C/eom.xml: Updated for MATE 2.4.2
	* help/C/eom-C.omf : Updated to reflect new manual version number and date
	* help/C/l10n.txt: Updated Summary of Changes section
	* help/C/figures/eom_start_window.png: Updated screenshot

2003-11-03  Jens Finke  <jens@triq.net>

	Allow tool-/statusbar hiding. Based on a patch by Kaushal Kumar,
	fixes #114231.

	* eom.schemas.in: Added new keys for storing toolbar and statusbar
	visibility state.

	* shell/eom-shell-ui.xml: Added View/Toolbar and View/Statusbar items.

	* shell/eom-window.c (verb_ShowHideAnyBar_cb),
	(toolbar_visibility_changed_cb),
	(statusbar_visibility_changed_cb): New functions.
	(eom_window_destroy): Remove config change listener.
	(eom_window_construct): Setup show/hide stuff.
	(adapt_window_size): Consider statusbar visibility on window
	height calculation.

2003-11-03  Jens Finke  <jens@triq.net>

	* libeom/Makefile.am (SOURCES): Added eom-config-keys.h

	* libeom/eom-config-keys.h: New file. Contains definitions for all MateConf keys.

	* viewer/eom-image-view.[ch]:
	* shell/eom-preferences.c:
	* shell/main.c
	* libeom/eom-full-screen.c: Use eom-config-keys.h defintions.

2003-11-02  Jens Finke  <jens@triq.net>

	* shell/Makefile.am
	* collection/Makefile.am: Link against X_LIBS.

2003-11-02  Jens Finke  <jens@triq.net>

	Based on a patch by Shivaram Upadhyayula. Fixes #104805.

	* acconfig.h: undef HAVE_SUNKEYSYM_H

	* configure.in: Ensure that we link against X libs.

	* libeom/eom-full-screen.[ch] (eom_full_screen_enable_SunF36): New
	function.
	(eom_full_screen_key_press): Quit on SunXK_F36.

	* viewer/eom-image-view-ui.xml:
	* collection/eom-collection-view-ui.xml: Added hidden
	slideshow/fullscreen menuitem with SunF36 accel.

	* viewer/eom-image-view.c (eom_image_view_create_ui):
	* collection/eom-collection-view.c (eom_collection_view_create_ui):
	Add callback for hidden fullscreen item on Sun keyboards.

	* viewer/Makefile.am: Link against X_LIBS.

2003-10-29  Jens Finke  <jens@triq.net>

	Improved slideshow component: automatic browsing, upscale flag,
	endless loop / single run

	* eom.glade: Reworked the slideshow preferences page.
	Rephrased image interpolation text - #122543.

	* eom.schemas.in: New keys in /apps/eom/full_screen: loop,
	upscale, seconds.

	* libeom/eom-full-screen.c:
	(check_automatic_switch): New function.
	(eom_full_screen_show): Setup timer for automatic browsing.
	(eom_full_screen_hide): Remove timer.
	(show_next_image): Consider loop flag. If set, stop browsing on
	first or last image.
	(eom_full_screen_key_press): Pause/continue automatic browsing
	with 'p' key.
	(eom_full_screen_destroy): Free first iter.
	(eom_full_screen_instance_init): Init new attributes.
	(prepare_data): Remeber first iter.
	(eom_full_screen_new): Obtain configuration values.

	* eom_image_list.[ch] (eom_image_list_iter_equal): New function.

	* eom-preferences.c (spin_button_changed_cb): New function.
	(eom_preferences_show): Connect widgets on slideshow preferences
	page.

2003-10-27  Jens Finke  <jens@triq.net>

	Consider eom/window/open_new_window configuration key again. Fixes
	long-time bug #91189.

	* eom.schemas.in: Set default of the open_new_window key to false.

	* shell/eom-window.c (eom_window_open_list): Deactivate control.

	* shell/main.c (open_window): Query open_new_window key to
	determine if the current window should be reused or not.

2003-10-26  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.c (free_image_list): New
	function, which releases a list of images returned by
	eom_wrap_list_get_selected_images.
	(save_image_init_loading): Don't add another ref to an image.
	(verb_SlideShow_cb),
	(save_dlg_response_cb),
	(apply_transformation),
	(verb_Undo_cb): Free image list.

2003-10-26  Jens Finke  <jens@triq.net>

	* collection/eom-collection-model.[ch]: Removed.

	* collection/Makefile.am (SOURCES): Removed eom-collection-mode.[ch].

	* collection/eom-collection-view.c:
	* collection/eom-wrap-list.c:
	Replaced EomCollectionModel with EomImageList.

	* libeom/Makefile.am (SOURCES): Added eom-image-list.[ch].

	* libeom/eom-image-list.[ch]: New files.

	* libeom/eom-full-screen.[ch]: Uses new EomImageList object. Large
	refactoring, simplified code.

	* libeom/libeom-marshal.list: Added two declarations.

	* collection/eom-collection-view.c (verb_SlideShow_cb):
	* viewer/eom-image-view.c (verb_FullScreen_cb): Adapted to new
	EomFullScreen API.

2003-10-26  Jens Finke  <jens@triq.net>

	* libeom/eom-image-private.h: Added EomImageStatus enumeration.

	* libeom/eom-image.c:
	(eom_image_new_uri),
	(real_image_load),
	(eom_image_load),
	(eom_image_free_mem_private),
	(eom_image_cancel_load),
	(eom_image_is_loaded): Store image status explicitly in private
	status attribute.
	(real_image_load): Free exif data on cancel.
	(eom_image_cancel_load): Don't join thread, this isn't actually
	required in the current design.

2003-10-26  Jens Finke  <jens@triq.net>

	* configure.in: We require libexif 0.5.12.

	* libeom/eom-image.c (exif_loader_write): Removed.
	(real_image_load): Use ExifLoader from libexif.

	* libeom/eom-image-private.h: Include exif-data.h

2003-10-25  Jens Finke  <jens@triq.net>

	Introduced EomImageCache, which caches the last five loaded images
	and takes care of free'ing them if the cache overflows.

	* libeom/eom-image-cache.[ch]: New files.

	* libeom/Makefile.am (SOURCES): Added new files.

	* collection/eom-collection-view.c (handle_selection_changed):
	Don't free used memory for displayed image explicitly.

	* libeom/eom-full-screen.c (show_next_image),
	(eom_full_screen_destroy): Dito.

	* libeom/eom-image-private.h (eom_image_free_mem_private): New
	declaration.

	* libeom/eom-image.c (eom_image_dispose): Use eom_image_free_mem
	function.
	(real_image_load): Add image to cache on successful loading.
	(eom_image_load): Inform cache that this is the last recently used
	image.
	(eom_image_free_mem): Free image resources and remove image from
	cache.
	(eom_image_free_mem_private): Only free image resources.

2003-10-21  Jens Finke  <jens@triq.net>

	* collection/Makefile.am: Don't distribute auto-generated files in
	the tarball. - #125118

===== 2.5.0 =====

2003-10-20  Jens Finke  <jens@triq.net>

	* NEWS: Updated.

2003-10-12  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.c (set_pixbuf),
	(eom_collection_item_construct): Use named constants instead of
	constant values for padding, spacing etc.
	(eom_collection_item_get_size): Removed.
	(eom_collection_item_get_heights): Renamed into
	eom_collection_item_get_size, return also the width of the item.

	* collection/eom-collection-item.h: New named constants for
	spacing, padding and maximal item width.

	* collection/eom-wrap-list.c Dropped support for different layout
	modes.
	(get_item_view_position): Removed unused variables.
	(do_layout_check): Use MAX_ITEM_WIDTH constant. Removed support
	for different layout modes (horizontal, rectangle).
	(calculate_row_height): Adapt to new eom_collection_item_size
	signature.
	(do_item_rearrangement): Use MAX_ITEM_WIDTH constant for
	calculation. Adapted to eom_collection_item_size changes.

	* collection/eom-collection-view.c (layout_changed_cb): Removed.

2003-10-12  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.c (set_pixbuf): Added flag wether
	or not a frame should be shown around the thumbnail.
	(thumbnail_finished_cb),
	(image_changed_cb): Show frame.
	(thumbnail_failed_cb),
	(eom_collection_item_construct): Hide frame.

	* configure.in: Bumped version to 2.5.0.

2003-10-12  Jens Finke  <jens@triq.net>

	* collection/eom-canvas-pixbuf.c (compute_viewport_affine),
	(eom_canvas_pixbuf_point): Free pixbuf.

	* collection/eom-collection-item.c (set_pixbuf): dito.

2003-10-12  Jens Finke  <jens@triq.net>

	Better thumbnail layout in collection view.

	* collection/eom-canvas-pixbuf.[ch]: New files. Like
	MateCanvasPixbuf but doesn't ignore transparent parts when
	checking for point in item.

	* collection/Makefile.am (SOURCES): Added new files.

	* collection/eom-collection-item.[ch]
	(eom_collection_item_point): Removed.
	(eom_collection_item_class_init): Added 'size_changed' signal.
	(set_pixbuf): Emit 'size_changed' signal if the size of the pixbuf
	changed.
	(eom_collection_item_construct): Use EomCanvasPixbuf
	class. Removed background item.
	(eom_collection_item_get_heights): New function.

	* collection/eom-wrap-list.c (get_item_view_position): Read
	row/col position from the item's user data.
	(handle_item_size_changed): New function, invokes layout checks.
	(add_image): Connect to item's size_changed signal.
	(set_item_position): New function.
	(calcualte_row_height): New function.
	(calculate_item_position): Removed.
	(rearrange_single_item): Removed.
	(do_item_rearrangement): Calculate exact height for each row,
	align images properly.
	(do_update): Handle new ITEM_SIZE_CHANGED update hint.

2003-10-11  Jens Finke  <jens@triq.net>

	* Makefile.am: Changed variable names to fit their purpose better.

	* eom.desktop.in: Added X-MATE-DocPath entry. - #123101

2003-10-11  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.c (eom_image_view_get_prop): Mark the
	whole status string for translation not only 'pixel'. - #124196

2003-10-09  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.c (eom_image_view_get_prop): Mark
	'pixel' for translation - #124196.

===== mate-2-4 branch =======

2003-10-03  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.c (eom_collection_view_get_prop):
	Use eel_format_uri_for_display for formatting the window title.

2003-09-28  Jens Finke  <jens@triq.net>

	Code cleanup. Monitor image modifications.

	* libeom/eom-info-view.c: Better management of image callback ids.
	(add_image_size_attribute),
	(add_image_filename_attribute),
	(add_image_exif_attribute): New functions
	(fill_list): Removed.
	(loading_size_prepared_cb): Use add_image_size_attribute.
	(image_changed_cb): New function.
	(eom_info_view_set_image): Use add_image_filename_attribute.

2003-09-28  Jens Finke  <jens@triq.net>

	Fixes the duplicated entries for width/height information in the
	image info view.

	* libeom/eom-info-view.c: (fill_list): Don't add image
	width/height information here, this is always already done by the
	loading_size_prepared_cb function.

2003-09-28  Jens Finke  <jens@triq.net>

	* configure.in: Added switch for disabling libexif support.

2003-09-21  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.c (create_user_interface): Create
	horizontal splitter to hold info view only if libexif is
	available. Otherwise put the image view directly into the vertical
	pane.

	* libeom/eom-scroll-view.c (paint_rectangle): Check if widget is
	drawable (fixes crash on shutdown). Check if scaled image width
	and height is > 1.

2003-09-21  Hidetoshi Tajima <hidetoshi.tajima@sun.com>

	* shell/main.c (show_nonexistent_files): Prepare non-ascii uris
	for display correctly. - #122671.

2003-09-15  Jens Finke  <jens@triq.net>

	* libeom/eom-image.c (have_broken_filenames): New function.
	(eom_image_get_caption): Be smart when translate caption to utf8
	encoding. Use eel_make_valid_utf8 as last fallback.

	* viewer/eom-image-view.c (load_uri_cb): Ensure that we have a
	valid uri with eel_make_uri_from_input. Fixes #117838.

===== 2.4.0 =====

2003-09-09  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.4.0

	* NEWS: Updated.

2003-09-08  Jens Finke  <jens@triq.net>

	This patch is approved by the release team.

	* collection/eom-collection-view.c (create_user_interface): Use
	gtk_hpaned instead of specialised
	eom_horizontal_splitter. Otherwise we will _always_ crash if no
	libexif support is compiled in (which is probably the default
	setup). This needs fixing in further versions.

2003-09-05  Guntupalli Karunakar  <karunakar@freedomink.org>

	* hi.po: Added "hi" to ALL_LINGUAS.

2003-09-04  Irene Ryan <irene.ryan@sun.com>

	* help/C/eom.xml: updated Help to reflect changes for MATE 2.4 in
	V2.3.5 of the application.
	* help/C/eom-C.omf: updated manual version and date information
	* help/C/l10n.txt: updated instructions for L10N teams

====== 2.3.90 =====

2003-09-01  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.3.90

	* NEWS: Updated.

2003-08-28  William Jon McCann  <mccann@jhu.edu>

	* Makefile.am: Removed ACLOCAL_AMFLAGS.  Fixes bug #120871.

====== 2.3.6 =====

2003-08-25  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.3.6

	* NEWS: Updated.

2003-08-06  Martin Kretzschmar  <m_kretzschmar@gmx.net>

	* libeom/eom-hig-dialog.c (eom_hig_dialog_new): add terminating
	NULL in g_object_set.

2003-07-25  Jens Finke  <jens@triq.net>

        Based on a patch by Gustavo J. A. M. Carneiro
	<gustavo@users.sourceforge.net> - #118204.

	* configure.in: Require libmatecomponentui >= 2.3.3.

	* collection/main.c (main),
	* viewer/main.c (main): Make the factory wait for one minute after
	becoming unused before deciding to quit. This default behavior can
	be disabled by adding the --nowait commandline parameter.

2003-07-21  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.c (load_uri_cb):
	* collection/main.c (eom_collection_factory):
	* libeom/eom-image.c (update_exif_data):
	* libeom/eom-scroll-view.c (display_map_event):
	* viewer/eom-image-view.c (finalize),
	(load_uri_cb):
	* viewer/main.c (eom_image_viewer_factory): Kicked out/ #ifdef'd
	debug output.

2003-07-21  Andreas Köhler <andi5.py@gmx.net>

	* shell/main.c (show_nonexistent_files): Actually destroy the
	dialog - #117673.

2003-07-21  Andreas Köhler <andi5.py@gmx.net>

	Fixes bug #117270.

	* collection/eom-collection-view.c
	(eom_collection_view_create_ui),
	* viewer/eom-image-view.c (eom_image_view_create_ui): Make
	separator in edit menu visible.

	* shell/eom-shell-ui.xml: Added initially hidden separator which
	will be shown explicitly if required.

2003-07-20  Martin Kretzschmar <m_kretzschmar@gmx.net>

	* libeom/eom-hig-dialog.c (eom_hig_dialog_new): Don't print
	additional newline after message text - #117799.

====== 2.3.5 =====

2003-07-16  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.3.5

	* NEWS: Updated

2003-07-16  Jens Finke  <jens@triq.net>

	* collection/eom-wrap-list.c (do_item_rearrangement): Set scroll
	region height correctly.

2003-07-16  Jens Finke  <jens@triq.net>

	* shell/eom-window.c (verb_HelpAbout_cb): Don't mark copyright
	string for translation - #117449.

2003-07-14  Jens Finke  <jens@triq.net>

	* libeom/eom-hig-dialog.c (eom_hig_dialog_new): Set empty title.

2003-07-14  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.[ch]
	(eom_collection_item_get_size): New function.

	* collection/eom-collection-view.c
	(create_user_interface): Set wrap list scroll policy to
	automatic. Patch by Andreas Köhler.

	* collection/eom-wrap-list.c
	(get_item_view_position),
	(do_layout_check),
	(calculate_item_position),
	(do_item_rearrangement): Improved horizontal item
	arrangement. Should produce less empty space now.

2003-07-13  John Fleck <jfleck@inkstain.net>

	* Makefile.am
	* autogen.sh
	* configure.in
	* help/C/Makefile.am
	* help/de/Makefile.am
	* help/es/Makefile.am
	* help/fr/Makefile.am
	* help/it/Makefile.am
	* help/ja/Makefile.am
	* help/ko/Makefile.am
	* help/sv/Makefile.am
	* help/zh_CN/Makefile.am
	* help/zh_TW/Makefile.am
	remove:
	* xmldocs.make
	update to new docs build system.
	Requires latest mate-common to build from cvs


2003-07-13  Telsa Gwynne  <hobbit@aloss.ukuu.org.uk>

	* configure.in: Added "cy" (Welsh) to ALL_LINGUAS

2003-07-06  Jens Finke  <jens@triq.net>

	* libeom/eom-hig-dialog.[ch] (eom_hig_dialog_new): Set string
	parameter to const.

	* viewer/eom-image-view.c (eom_image_view_get_prop): Don't show
	anything in the statusbar if no image is loaded. If the image size
	isn't known show only the zoom factor.
	(image_loading_failed_cb): New function. Presents error dialog to
	the user.
	(load_uri_cb): Connect to loading_failed signal for an image and
	disconnect signals properly from previously loaded image.
	(eom_image_view_construct): Save MateComponentControl reference.

2003-07-06  Jens Finke  <jens@triq.net>

	This patch should fix bug #114189.

	* libeom/eom-image.c (real_image_load): Connect to size prepared
	signal even for images in non-progressive loading mode.

	* shell/eom-window.c (widget_realized_cb): New function.
	(eom_window_construct): Connect to realize signal of statusbar to
	notice when the widget's size is determined.
	(adapt_window_size): Perform resize only if all required
	information are available.
	(property_changed),
	(check_for_control_properties): Set desired width/height directly.

2003-07-05  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.c: Draw a black frame around each
	thumbnail.

2003-07-05  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.c (handle_selection_changed):
	Check for info_view != NULL.
	(create_user_interface): Create info view only if exif library is
	installed (we don't show any other relevant infos yet.)  Use
	special eom splitter widgets.

	* libeom/Makefile.am (SOURCES): Added new eom splitter files.

	* libeom/eom-horizontal-splitter.[ch],
	* libeom/eom-vertical-splitter.[ch]: Specilised new eom splitters
	widgets.

2003-07-02  Jens Finke  <jens@triq.net>

	General UI polishing.

	* collection/eom-collection-view-ui.xml: Removed empty tips. Added
	pixmaps to rotate menu functions.

	* shell/eom-window.c (verb_HelpAbout_cb): Unified copyright sign.-
	#101726, patch by Christian Neumair.

	* viewer/eom-image-view-ctrl-ui.xml: Added pixmaps to zoom menu
	items.

	* viewer/eom-image-view-ui.xml: Added undo function.

	* viewer/eom-image-view.c (verb_Undo_cb): Call image undo function.

2003-07-02  Jordi Mallach  <jordi@sindominio.net>

	* eom.desktop.in: Add X-Bugzilla entries.

====== 2.3.4 =====

2003-07-02  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.3.4

	* NEWS: Updated.

	* README: Updated.

2003-06-30  Jens Finke  <jens@triq.net>

	* eom.schemas.in: Kicked out long time deprecated mateconf keys.

2003-06-30  Jens Finke  <jens@triq.net>

	* shell/eom-preferences.c (eom_preferences_show): Hide 'slide
	show' preferences page, since options haven't been implemented
	until feature freeze.

2003-06-29  Jens Finke  <jens@triq.net>

	* art/stock-rotate-90-16.png,
	* art/stock-rotate-270-16.png,
	* art/stock-rotate-180-16.png: New icons.
	* art/Makefile.am (icons_DATA): Added new icons.

	* viewer/eom-image-view-ui.xml: Added menu icons for rotate
	operations.

	* viewer/eom-image-view.c (popup_menu_cb): Handle
	rotate operations from context menu.
	(popup_entries): Added rotate functions.

2003-06-29  Jens Finke  <jens@triq.net>

	* libgpi/gpi-dialog.glade: Removed atk property strings,
	they don't seem to be necessary here - #116015.

2003-06-25  Jens Finke  <jens@triq.net>

	* shell/eom-window.c (eom_window_construct): Disable matecomponent
	toolbar configuration.

2003-06-25  Jens Finke  <jens@triq.net>

	* libeom/eom-image.c (create_thumbnails): Check if image is
	altered and create/update thumbnail if necessary.

2003-06-23  Jens Finke  <jens@triq.net>

	* collection/eom-slide-show.[ch],
	* collection/eom-collection-preferences.[ch]: Removed deprecated
	files.

	* collection/Makefile.am (SOURCES): Removed above files.

	* viewer/eom-embeddable.c,
	* viewer/eom-embeddable.h,
	* viewer/eom-embeddable-view.c,
	* viewer/eom-embeddable-view.h,
	* viewer/eom-control.c,
	* viewer/eom-control.h,
	* viewer/eom-full-screen.c,
	* viewer/eom-full-screen.h,
	* viewer/eom-util.h,
	* viewer/eom-util.c,
	* viewer/eom-image.c,
	* viewer/eom-image.h,
	* viewer/eom-image-io.c,
	* viewer/eom-image-io.h:

	Removed long outdated source files. Most of the functionality is
	now in libeom.

	* viewer/Makefile.am (SOURCES): Removed above files.

2003-06-21  Jens Finke  <jens@triq.net>

	* collection/eom-save-dialog.[ch]: New files.

	* collection/Makefile.am (LDADD): Added libjpeg flags.
	(SOURCES): Added eom-save-dialg.[ch].

	* collection/eom-collection-view-ui.xml: Added File/Save item.

	* collection/eom-collection-view.c
	(save_image_init_loading),
	(set_commands_sensitive_state),
	(save_image_loading_failed),
	(save_image_loading_finished),
	(save_dlg_close),
	(save_dlg_delete_cb),
	(save_dlg_response_cb),
	(verb_Save_cb): New functions for saving a bunch of files.
	(eom_collection_view_construct): Save reference to control object.

	* viewer/Makefile.am (LDADD): Added libjpeg flags.

	* viewer/eom-image-view.c (image_changed_cb): New
	function. Notifies matecomponent listeners when the image changed.
	(load_uri_cb): Connect to image_changed signal.

2003-06-15  Taneem Ahmed  <taneem@eyetap.org>

	* configure.in: Added "bn" to ALL_LINGUAS.

2003-06-12  Jens Finke  <jens@triq.net>

	* configure.in: Added check for optional libjpeg.

	* libeom/Makefile.am (SOURCES): Added eom-image-private.h,
	eom-image-jpeg.[ch].

	* libeom/eom-image.c (update_exif_data): New function.
	(exif_loader_write): Fixed byte skipping computation.
	(real_image_load): Update image size in exif data if
	transformation has been applied. Emit transformed signal only in
	progressive mode.
	(image_transform): Update image size in exif and private data.
	(eom_image_undo): Update modified flag, fixed mem leaks.
	(eom_image_save): If target file is jpeg and image has exif data,
	use jpeg save method to preserve exif data. Remove all
	transformation objects.
	(eom_image_is_modified): New function.

	* libeom/eom-image-private.h: New. Moved EomImagePrivate definition to
	here. Makeing it accessable by associated classes.

	* libeom/eom-image-jpeg.[ch]: New. Provides special functions for
	saving jpegs.

2003-06-10  SamÃºel JÃ³n Gunnarsson  <sammi@techattack.nu>

	* configure.in: Added "is" into ALL_LINGUAS

2003-06-05  Christian Schaller <Uraeus@gnome.org>

	* MATE_EOM.server.in.in: Add image/svg+xml to supported mimetype list i
	since just image/SVG isn't the proper mimetype. This tiny fix should
	make the moz-matecomponent stuff be able to display SVG files properly

2003-06-05  Jens Finke  <jens@triq.net>

	* Makefile.am (EXTRA_DIST): Removed config.rpath.

	* NEWS, configure.in: Prepared release 2.3.3.

	* xmldocs.make: Applied build fix patch by Art Haas
	<ahaas@airmail.net>

2003-06-05  Abel Cheung  <maddog@linux.org.hk>

	* eom.schemas.in: Fix description typo. (800x800 is incorrect,
	  no a localization issue. #106052 can be closed.)

2003-05-31  Jens Finke <jens@triq.net>

	* collection/eom-wrap-list.c
	(eom_wrap_list_drag_data_get_cb): New function.
	(eom_wrap_list_instance_init): Register as drag source.

	* libeom/eom-image.[ch] (eom_image_get_uri): New function.

2003-05-31  Jens Finke <jens@triq.net>

	Added progress indication.

	* collection/eom-collection-view.c: New property "image/progress".
	(image_progress_cb): New function.
	(apply_transformation): Setup the progress indication stuff.
	(handle_selection_changed): Connect to the image progress changed
	signal.
	(eom_collection_view_construct): Register "image/progress" property.

	* collection/eom-collection-view-ui.xml: Added "Undo" mnemonic.

	* libeom/eom-image.c (eom_image_class_init): New signal
	"progress".
	(check_load_status): Check for progress changes and emit signal if
	appropriate.
	(transform_progress_hook_async): New function.
	(real_image_load): Determine file size of image to load and update
	progress status. Ref/unref clean up when transforming the image.
	(check_progress_sync),
	(transform_progress_hook_sync): New functions.
	(image_transform): Register progress hooks on image transformation.
	(eom_image_transform): Init progress check function.

	* libeom/eom-transform.[ch] (eom_transform_apply): Added callback
	function, which is called in intervalls to update progress status.

	* shell/eom-window.c (eom_window_construct): Show progressbar on statusbar.
	(check_for_control_properties),
	(property_changed_cb): Handle progress property.

	* viewer/eom-image-view.c (image_progress_cb): New functin.
	(load_uri_cb): Connect to object's progress signal.
	(eom_image_view_construct): Register "image/progress" property.

2003-05-27  Abel Cheung  <maddog@linux.org.hk>

	* eom.schemas.in: Fix description typo.

2003-05-24  Lutz Mueller <lutz@users.sourceforge.net>

	* libgpi/test-gpi.c: New. Won't get installed.
	* libgpi/Makefile.am: Hook up test-gpi.c
	* libgpi/gpi-dialog-pixbuf-page.c: Fix typo.
	* libgpi/gpi-mgr-pixbuf.c: At least show the numbers. Resizing needs
	  still to be done.

2003-05-12  Lutz Mueller <lutz@users.sourceforge.net>

	* configure.in: Use GPI_CFLAGS in order to speed up compilation of
	  files in libgpi.

2003-05-12  Lutz Mueller <lutz@users.sourceforge.net>

	* eom-print-setup.[c,h]
	* eom-preview.[c,h]
	* eom-preview-page.[c,h]: Removed. Code moved to libgpi.

2003-05-12  Lutz Mueller <lutz@users.sourceforge.net>

	* libgpi/*: New. Ideas from the printing code in EOM-1.0.
	* configure.in
	* Makefile.am
	* viewer/Makefile.am
	* viewer/eom-image-view-ui.xml
	* viewer/eom-image-view.c: Hook up libgpi.

2003-05-12  Jens Finke <jens@triq.net>

	Using affine matrices for describing transformations applied to an
	image. In collection view, transformations will be delayed and
	applied only on the thumbnails until the image is really
	loaded.

	* configure.in: Check for libart.

	* collection/eom-collection-item.c (image_changed_cb): Update
	thumbnail if image has been modified.
	(eom_collection_item_construct): Connect to changed signal.

	* collection/eom-collection-view-ui.xml: Added menu entries for
	rotation, flipping and undo.

	* collection/eom-collection-view.c (verb_Undo_cb),
	(apply_transformation), (verb_FlipHorizontal_cb),
	(verb_FlipVertical_cb), (verb_Rotate90ccw_cb),
	(verb_Rotate90cw_cb), (verb_Rotate180_cb): New functions.
	(handle_selection_changed): Check if the same image is selected.

	* libeom/Makefile.am (SOURCES): Added eom-transform.[ch]

	* libeom/eom-transform.[ch]: New files. GObject wrapper around an
	affine transformation.

	* libeom/eom-image.[ch] (eom_image_dispose): Consider undo stack and
	current transformation.
	(check_load_status): Emit image changed if loading is done and
	transformation applied.
	(real_image_load): Changed the mutex locking strategie. The
	post-loading transformation is done asynchronously.
	(image_transform),
	(eom_image_undo),
	(eom_image_transform): New functions, which provide the
	modification interface.
	(eom_iamge_flip_vertical), (eom_image_flip_horizontal),
	(eom_image_rotate_clock_wise),
	(eom_image_rotate_counter_clock_wise), (eom_image_rotate180): Removed.

	* viewer/eom-image-view.c (apply_transformation): New function,
	which applies a transformation to an EomImage object.
	(verb_FlipHorizontal_cb), (verb_FlipVertical_cb),
	(verb_Rotate*_cb): Instantiate an appropriate EomTransform object
	and use the apply_transformation function.

2003-05-09  Paisa Seeluangsawat  <paisa@colorado.edu>

	* configure.in (ALL_LINGUAS): Added "th".

2003-05-09  Danilo Å egan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2003-05-05  Federico Mena Quintero  <federico@ximian.com>

	* collection/eom-wrap-list.c (do_layout_check): Compute the right
	number of rows or columns.

2003-05-04  Jens Finke  <jens@triq.net>

	* shell/recent-files/Makefile.am (SOURCES): Added egg-recent.h.

	* configure.in: Bumped version to 2.3.1

	* NEWS: Updated

	Released version 2.3.1.

2003-04-28  Jens Finke  <jens@triq.net>

	* libeom/eom-full-screen.c (show_next_image): Free images only if
	we have more than three.
	(eom_full_screen_instance_init): Actually, do fullscreen again
	(erm, forgot my testing code :)
	(check_advance_loading): Initiate image loading only, if it hasn't
	been loaded yet.

	* libeom/eom-image.[ch] (real_image_load): Removed assert for now
	so that we don't crash eventually with exif support enabled. Spew
	out a warning only. Should be fixed though.
	(eom_image_is_loaded): New function.

2003-04-27  Jens Finke  <jens@triq.net>

	* libeom/eom-full-screen.c: Queue the images to load and load one
	by one. Simplified the code.

	* libeom/eom-image.[ch] (eom_image_new_uri),
	(eom_image_new): Removed load mode parameter.
	(eom_image_load): Removed return parameter. Instead, emit load
	finished signal if the image is already loaded.
	(eom_image_free_mem): Set load status to none.

	* libeom/eom-info-view.c (eom_info_view_set_image):
	* viewer/eom-image-view.c (load_uri_cb):
	* collection/eom-collection-model.c (directory_visit_cb):
	(real_file_loading): Removed load mode paramter for eom_image_new.

	* libeom/eom-scroll-view.c (eom_scroll_view_set_image): Removed
	the special case when an image is already loaded. Submit
	LOAD_DEFAULT to eom_image_load.

2003-04-27  Jens Finke  <jens@triq.net>

	* libeom/eom-full-screen.c (eom_full_screen_destroy): Remove
	cursor hide timeout handler.

2003-04-21  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.c (eom_collection_item_new):
	Don't call canvas item construct function, use the 'parent'
	property instead.

2003-04-17  Jens Finke  <jens@triq.net>

	* Makefile.am: Fixed schemas installation based on a patch by
	 Bobby Kashani <bobk@ocf.berkeley.edu>.

2003-04-12  Jens Finke  <jens@triq.net>

	* shell/eom-window.c (open_uri_list_cleanup),
	(eom_window_drag_data_received),
	(adapt_window_size),
	(eom_window_open_list): Removed debug messages.
	(eom_window_construct): Limit list of recent files to 5.

	* shell/main.c (open_window),
	(open_uri_list_cb): Removed debug messages.

2003-04-12  Jens Finke  <jens@triq.net>

	Support for list of recent files.

	* configure.in (AC_OUTPUT): Added shell/recent-files/Makefile

	* shell/Makefile.am: Build and link against recent files helper
	library.

	* shell/eom-shell-ui.xml: Placeholder for list of recent files.

	* shell/eom-window.c (open_recent_cb): New function.
	(eom_window_destroy): Free recent model/view.
	(eom_window_construct): Setup recent file objects.
	(eom_window_open_list): Add file to the list of recently opened
	files.

2003-04-08  Jens Finke  <jens@triq.net>

	* collection/MATE_EOM_Collection.server.in.in: Added
	MateComponentZoomable interface.

	* collection/eom-collection-view.c (verb_ZoomIn_cb),
	(verb_ZoomOut_cb), (verb_ZoomToDefault_cb), (verb_ZoomToFit_cb),
	(zoomable_set_frame_cb),
	(zoomable_set_zoom_level_cb),
	(zoomable_zoom_in_cb),
	(zoomable_zoom_out_cb),
	(zoomable_zoom_to_fit_cb),
	(zoomable_zoom_to_default_cb),
	(view_zoom_changed_cb): New functions.
	(create_user_interface): Connect to zoom_changed signal of scroll
	view.
	(eom_collection_view_construct): Add MateComponentZoomable interface.
	(eom_collection_view_create_ui): Merge zoom verbs to user
	interface if neccessary.

2003-04-07  Mike Lei <mike.lei@sun.com>

	* configure.in: Added Makefile support for docs in
	  help/{de,es,fr,it,sv,ja,ko,zh_CN,zh_TW}

	* add docs for above lanuages

2003-04-06  Jens Finke  <jens@triq.net>

	* viewer/eom-full-screen.c (check_cursor_hide),
	(eom_full_screen_motion): Use simple counter to determine when the
	pointer should be hidden.

2003-04-06  Jens Finke  <jens@triq.net>

	* viewer/eom-image-view-ui.xml: Added mnemonics for all menu
	items (#107831).

2003-04-06  Jens Finke  <jens@triq.net>

	* libeom/cursors.c: Added invisible cursor data.
	(cursor_get): Made it a non public function.
	(cursor_set): New function, which directly set the desired cursor
	for the widget.

	* libeom/cursors.h: New cursor types: CURSOR_INVISBLE and
	CURSOR_DEFAULT.

	* libeom/eom-full-screen.c: Implemented automatic cursor
	hiding. Fixes #92184.
	(check_cursor_hide),
	(eom_full_screen_motion): New functions.
	(eom_full_screen_show): Init cursor hiding stuff.
	(eom_full_screen_class_init): Register mouse motion event
	callback.

	* libeom/eom-scroll-view.c (check_scrollbar_visibility): Set
	cursor type according to the state of the scrollbars.
	(is_image_movable): New function.
	(eom_scroll_view_button_press_event): Use cursor_set, set it only
	if the image is movable.
	(eom_scroll_view_button_release_event): Use cursor_set.

2003-04-02  Federico Mena Quintero  <federico@ximian.com>

	* libeom/eom-image.c (real_image_load): Use a macro rather than a
	hardcoded value for the buffer size.  Also, increased it to 64 KB
	so that we don't do so many system calls.

	* libeom/eom-scroll-view.c (eom_scroll_view_get_image_size):
	"*width = *height = 0", not "width = height = 0".
	(NUM_IMAGE_CALLBACKS): Use a macro rather than a hardcoded value
	for the number of signals we connect to.
	(ZoomMode): Use an enum rather than ints.
	(ProgressiveState): Likewise.
	(update_scrollbar_values): Use gtk_adjustment_changed() rather
	than emitting signals for the adjustments directly.
	(set_zoom): Use NULL, not 0, when calling
	check_scrollbar_visibility().
	(display_key_press_event): Likewise.
	(display_map_event): Likewise.
	(image_loading_update_cb): Likewise.
	(image_loading_finished_cb): Likewise.
	(image_changed_cb): Likewise.
	(eom_scroll_view_zoom_fit): Likewise.
	(eom_scroll_view_set_image): Likewise.
	(check_scrollbar_visibility): We don't use the return value
	anywhere, so make it return void.
	(is_unity_zoom): Take in an EomScrollView, not a private
	structure.
	(pack_pixbuf): Removed.
	(paint_rectangle): Compute the background color correctly for the
	TRASNP_BACKGROUND case.
	(scroll_to): Use gtk_adjustment_value_changed() rather than
	emitting signals for the adjustments directly.
	(compute_center_zoom_offsets): Do not allow negative offsets so
	the image doesn't creep to the right when we zoom down at the
	upper left corner.
	(set_zoom_fit): Set the new offsets before emitting the signal.
	(display_map_cb): Removed.
	(eom_scroll_view_new): Do not make the whole table non-double-buffered.

	* libeom/eom-scroll-view.h (TransparencyStyle): Rename
	TRANSP_CHECKEDPATTERN to TRANSP_CHECKED.

2003-03-31  Alexander Larsson  <alexl@redhat.com>

	* collection/MATE_EOM_Collection.server.in.in:
	Add caja:required_directory_content_mime_types keyword.

2003-03-30  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.c (set_pixbuf): Removed
	free_pixbuf flag; calculate image position more simple.
	(eom_collection_item_construct): Add invisble frame around an
	pixbuf to ensure same size for all items.

2003-03-30  Jens Finke  <jens@triq.net>

	* eom.glade: Enable 'As background' radio button.

	* eom.schemas.in: Updated transparency indicator description.

	* libeom/eom-full-screen.c (eom_full_screen_new): Set black
	background style for scroll view widget.

	* libeom/eom-image.c (real_image_load): Use GError with
	GdkPixbufLoader.

	* libeom/eom-scroll-view.c (paint_background): Use
	gdk_window_clear_area.
	(paint_rectangle): Calculate background color correctly for
	transparent parts.
	(eom_scroll_view_style_set): New function.
	(style_set_event): Removed.

	* shell/eom-preferences.c (eom_preferences_show): Connect
	background_radio button.

2003-03-25  Jens Finke  <jens@triq.net>

	* libeom/eom-image.c (real_image_load): Close the
	gdk_pixbuf_loader before we access the pixbuf. Fixes #109139.

2003-03-24  Jens Finke  <jens@triq.net>

	* NEWS: Updated.

	Released version 2.3.0.

2003-03-23  Jens Finke  <jens@triq.net>

	* collection/main.c (main): Check if the factory is already registered,
 	before registering a new one.

	* shell/eom-window.c (eom_window_open_list): Save first loaded
	uri, for session recovery (this works in most common cases, but
	needs some fixing in case we load multiple uris in one window,
	eg. collection view).

2003-03-20  Shivram U  <shivaram.upadhyayula@wipro.com>

	* viewer/main.c (main): Check if the factory is already registered,
 	before registering a new one.

2003-03-21  Jens Finke  <jens@triq.net>

	* libeom/Makefile.am (EXTRA_DIST): Added libeom-marshal.list.

	* Makefile.am (EXTRA_DIST): Removed eom-glade.h.

2003-03-20  Jens Finke  <jens@triq.net>

	* eom.glade: Set untranslated title for color picker dialog.

	* eom.gladep: Don't output translatable strings in extra file.

	* po/POTIFLES.in: Added eom-info-view.c, removed
	eom-collection-control.c, eom-collection-preferences.c,
	eom-image-helper.c

	* po/POTFILES.skip: Removed most of the files in the collection
	dir, added MATE_EOM_Collection.server.in, viewer/eom-image-io.c

2003-03-20  Jens Finke  <jens@triq.net>

	* eom.glade: Higified the preferences dialog and added a
	preliminary page for the slideshow component.

	* eom-glade.h: Removed from cvs (we list the glade file in
	POTFILES.in directly).

	* eom-preferences.c (key_press_cb): Removed. Ignore ESC key,
	fixes #105720.
	(eom_preferences_show): Open HIGified glade dialog.

2003-03-18  Federico Mena Quintero  <federico@ximian.com>

	* configure.in: Require eel 2.2.0 or higher.

	* shell/main.c (make_canonical_uri): Use
	eel_make_uri_from_shell_arg().

2003-03-16  Jens Finke  <jens@triq.net>

	* configure.in: Removed librsvg compile dependency. If you want
	svg support you need librsvg anyway, but gdk-pixbuf queries for
	available loader modules on runtime.

2003-03-16  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view-ui.xml: Added toolbar buttons for
	selecting next/previous image.

	* collection/eom-collection-view.c (verb_ImagePrev_cb),
	(verb_ImageNext_cb): New functions.

	* collection/eom-wrap-list.c (model_prepared): Set last_item_clicked.

	* collection/eom-wrap-list.h (eom_wrap_list_select_left),
	(eom_wrap_list_select_right): Made them public.

	* shell/eom-shell-ui-xml: Added placholder for toolbar items.

2003-03-14  Jens Finke  <jens@triq.net>

	* README: Updated.

2003-03-14  Jens Finke  <jens@triq.net>

	* libeom/eom-image.c (real_image_load): Guard the exif assertion
	with HAVE_EXIF.

2003-03-13  Jens Finke  <jens@triq.net>

	* libeom/eom-image.c (real_image_load): Assert that exif attribute
	is NULL on load.
	(eom_image_free_mem): Free exif info too.

2003-03-13  Jens Finke  <jens@triq.net>

	Added optional libexif support to read information stored in the
	images by digital cameras.

	* acconfig.h, configure.in: Added check for optional libexif
	library.

	* libeom/eom-info-view.[ch]: New widget, displays image
	information.

	* libeom/Makefile.am (SOURCES): Added eom-info-view.[ch]

	* libeom/eom-image.[ch] (eom_image_dipose): Free exif data.
	(eom_image_class_init): New signal loading_info_finished.
	(eom_image_instance_init): Init exif attribute.
	(check_load_status): Fire loading_info_finished signal, if flag is
	set.
	(exif_loader_write): New function, tries to read exif data from a
	stream of data chunks.
	(real_image_load): Take care for all the exif stuff and call
	exif_loader_write for every consumed data chunk.
	(eom_image_load): Make sure we only return TRUE if the image is
	really completely loaded.
	(eom_image_cancel_load): Don't join dead threads.
	(eom_image_get_exif_information): New public function. Returns
	exif data or NULL.

	* collection/eom-collection-view.c (handle_selection_changed):
	Feed info view with selected image.
	(create_user_interface): Add eom-info-view widget to the ui.

2003-03-13  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "ml" to ALL_LINGUAS.

2003-03-11  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.c (verb_SlideShow_cb): Unref
	start image.
	(eom_collection_view_dispose): Unref displayed image.
	(eom_collection_view_instance_init): Init new variable.
	(handle_selection_changed): Free ressources of the previously
	viewed image and store reference the the new one.

2003-03-11  Jens Finke  <jens@triq.net>

	* libeom/eom-image.[ch]: Switched to a thread based loading
	mechanism.
	(eom_image_dispose): Free mutex.
	(check_load_status): New function.
	(load_area_updated),
	(load_size_prepared),
	(real_image_load),
	(eom_image_load): Reworked, so that they use the thread based
	approach.
	(eom_image_get_pixbuf): Add mutex around pixbuf accessing.
	(eom_image_cancel_load): New function.

	* libeom/eom-scroll-view.c (free_image_resources): Cancel loading
	of the previous shown image.

	* shell/eom-window.c (property_changed_cb): Be quite.

2003-03-11  Jens Finke  <jens@triq.net>

	* libeom/eom-image.[ch] (eom_image_dispose): Free caption and
	caption_key.
	(eom_image_get_caption): Save caption string for further
	use. Assure that it's a proper UTF-8 string.
	(eom_image_get_collate_key): New function, returns a key for fast
	compare of UTF strings.

	* collection/eom-collection-item.c
	(eom_collection_item_construct): Don't free caption string.

	* collection/eom-collection-model.c (compare_filename_cb): New
	function.
	(real_dir_loading): Sort image list.
	(real_file_loading): Insert image into sorted list.

2003-03-10  Jens Finke  <jens@triq.net>

	* collection/eom-wrap-list.c (ensure_item_is_visible): Removed
	debug output.

	* collection/eom-collection-view.c (create_user_interface): Add
	frame around the image and wrap list areas.

2003-03-08  Jens Finke  <jens@triq.net>

	* collection/eom-wrap-list.c (get_item_view_position): Consider
	padding on the left/upper edge.
	(handle_item_event): Make sure selected item is completely
	visible.
	(ensure_item_is_visible),
	(eom_wrap_list_select_up),
	(eom_wrap_list_select_down),
	(eom_wrap_list_select_left),
	(eom_wrap_list_select_right): New functions.
	(eom_wrap_list_key_press_cb): Handle cursor keys.
	(calculate_item_position),
	(do_item_rearrangement): Add padding on the left/upper side.

2003-03-07  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.c (thumbnail_finished_cb),
	(set_pixbuf): Removed debug messages.

	* collection/eom-collection-view.c (update_properties): Removed
	debug message.

	* collection/eom-wrap-list.c
	(model_image_added),
	(model_prepared): Set global hint for request_update properly.

2003-03-07  Jens Finke  <jens@triq.net>

	* libeom/eom-wrap-list.c: Reverted previous patch (was quite a bad
	idea).

	* collection/eom-collection-view.c (verb_SlideShow_cb): Free list
	if it comes from the wrap list.

2003-03-07  Jens Finke  <jens@triq.net>

	* libeom/eom-full-screen.[ch]: Improved the in advance loading of
	images. Also frees image data, which is probably not shown
	next.

	* libeom/eom-scroll-view.c (eom_scroll_view_dispose): Free uta and
	remove possibly active idle handler.

	* collection/eom-wrap-list.c (eom_wrap_list_get_selected_images):
	Just return pointer to internal list.

	* collection/eom-collection-view.c (verb_SlideShow_cb): Consider
	selections when assembling the list of images for the slide show.

	* viewer/eom-image-view.c (verb_FullScreen_cb): Free list.

2003-03-07  Jens Finke  <jens@triq.net>

	* libeom/eom-image.c (load_image_real): Unref GdkPixbufLoader.

2003-03-06  Jens Finke  <jens@triq.net>

	* libeom/eom-full-screen.[ch]: Extended, so that it can cope with
	a list of images (slideshow).

	* collection/eom-collection-view.c (verb_SlideShow_cb): Adapted to
	reworked EomFullScreen.
	(create_user_interface): Give wraplist focus by default.

	* collection/eom-wrap-list.c (eom_wrap_list_key_press_cb): New
	function.
	(eom_wrap_list_class_init): Overwrite default key press handler.
	(eom_wrap_list_new): Register widget events.
	(handle_canvas_click),
	(handle_item_event): Grab focus, if widget hasn't.

	* viewer/eom-image-view.c (verb_FullScreen_cb): Adapted to
	EomFullScreen.

2003-03-06  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.c (thumnail_finished_cb),
	(ensure_max_string_width): Removed unused variables.

	* collection/eom-collection-model.[ch]
	(eom_collection_model_get_image_list): New function.

	* collection/eom-collection-view.c: Fixed some minor compile
	warnings.
	(create_user_interface): Set default size for wrap list and image
	view widgets.

	* collection/eom-wrap-list.c (handle_canvas_click): Ensure that
	at least always one item is selected.
	(eom_wrap_list_size_request): Removed.
	(model_prepared): Select first item by default.

	* collection/main.c: Include stdlib.h.

	* libeom/eom-image.c: No debug output of image references.

2003-03-03  Jens Finke  <jens@triq.net>

	* shell/eom-window.c (eom_window_has_contents): Check for
	ctrl_frame != NULL.
	(eom_window_construct): Don't create MateComponentControlFrame here ...
	(eom_window_open_list): ... but here. So we get a fresh control
 	frame for each new MateComponentControl.

2003-03-03  Jens Finke  <jens@triq.net>

	* eom.desktop.in: Changed name to 'Image Viewer' (#12705).

2003-03-03  Jens Finke  <jens@triq.net>

	* libeom/eom-scroll-view.c (free_image_resources): New function
	which cleans up all resources related to the viewed image.
	(eom_scroll_view_set_image): Call free_image_resources if there
	has been an image loaded already.
	(eom_scroll_view_dispose): Call free_image_resources.

2003-03-03  Jens Finke  <jens@triq.net>

	* libeom/eom-image.c (dispatch_image_finished): Unref image.
	(add_image_to_queue): Ref image before putting it into the queue.
	(eom_image_new_uri),
	(eom_image_finalize): Added ref counting for all produced image
	objects.
	(real_image_load): Unref the processed image object.
	(eom_image_load): Ref the image object before submitting it to the
	real_image_load idle callback.

	* libeom/eom-scroll-view.c (eom_scroll_view_dispose): Oops,
	implemented this function. We finally free something.

	* shell/eom-window.c (open_uri_list_cleanup): New function.
	(eom_window_class_init): Register open_uri_list_cleanup as cleanup
	handler for the open-uri-list signal.

	* shell/main.c (open_uri_list_cb): Don't free the uri_list. Will
	be done by the cleanup handler in eom-window.c.

	* viewer/eom-image-view.c (load_uri_cb): Don't ref new created
	image object.

2003-03-03  Jens Finke  <jens@triq.net>

	* viewer/eom-image-view-ctrl-ui.xml: Fixed keybindings for zoom
	commands.

2003-03-02  Jens Finke  <jens@triq.net>

	* libeom/eom-image.c: Don't include eom-image-helper.h.

2003-03-02  Jens Finke  <jens@triq.net>

	* shell/eom-window.c (verb_FileOpen_cb): Allow multiple selections
	in the file open dialog.

2003-03-02  Jens Finke  <jens@triq.net>

	* viewer/eom-image-view.c (eom_image_view_get_prop): Calculate
	desired image size correctly if the image is larger than the
	screen.

2003-03-02  Jens Finke  <jens@triq.net>

	* libeom/eom-image-helper.[ch]: Removed.

2003-03-02  Jens Finke  <jens@triq.net>

	Re-enabled image saving.

	* libeom/eom-file-selection.c (get_save_formats): Moved to
	eom-pixbuf-util.
	(eom_append_menu_entry),
	(check_extension),
	(is_filename_valid),
	(changed_cb): Free values from gdk_pixbuf_format calls.

	* libeom/eom-image.c: Changed "changed" signal name to
	"image_changed".
	(eom_image_save): Rely completely on GdkPixbuf for image saving
	and use GdkPixbufFormat information to determine the filetype.
	This removes xpm saving support from eom, but the right way should
	be to put this into gdk-pixbuf anyway.

	* libeom/eom-pixbuf-util.c (eom_pixbuf_get_savable_formats): New
	function, previously in eom-file-selection.c.

	* libeom/eom-scroll-view.c (eom_scroll_view_set_image):
	s/changed/image_changed.

	* viewer/eom-iamge-view.c (verb_SaveAs_cb): Reenabled.
	(item_factory_translate_cb): Use gettext again.
	(save_uri_cb): Use HIG dialogs.

2003-03-01  Jens Finke  <jens@triq.net>

	Fixed compiler warnings in libeom.

	* libeom/accessible-image-view-factory.h: Declare get type
	function for accessible image view _factory_.

	* libeom/accessible-image-view.c
	(accessible_image_view_get_image_size):
	s/scroll_view/eom_scroll_view.

	* libeom/eom-full-screen.c (eom_full_screen_show),
	(eom_full_screen_new): Removed unused variables.

	* libeom/eom-image.c (eom_image_save): Use g_return_val_if_fail.
	(eom_image_get_caption): Return NULL if uri is NULL.

	* libeom/eom-image.h: Declare eom_image_error_quark function.

	* libeom/eom-pixbuf-util.c (eom_pixbuf_flip_horizontal),
	(eom_pixbuf_flip_vertical): Removed unused variables.
	(eom_pixbuf_rotate_90_cw),
	(eom_pixbuf_rotate_90_ccw): Return NULL if pixbuf is NULL.

	* libeom/eom-scroll-view.c (update_scrollbar_values): Removed
	unused variables.
	(paint_rectangle): Added default case on bgr style to initialize
	check_1 and check_2 variables.
	(set_zoom): Made static, removed unused variable.
	(set_zoom_fit), (eom_scroll_view_set_transparency),
	(eom_scroll_view_new): Removed unused variables.

2003-03-01  Jens Finke  <jens@triq.net>

	* libeom/eom-file-selection.c: Use GdkPixbufFormat api for
	querying the supported file formats. Remember last visited
	directory during a session (#90767). Don't force selected file
	type extensions on loading (#102117, #102116). Always allow
	directory loading.

	* libeom/eom-hig-dialog.c (eom_hig_dialog_new): Assert stock_id !=
	NULL and header != NULL. Handle case where body is NULL.

2003-02-28  Jens Finke  <jens@triq.net>

	* shell/main.c: Reworked the way file paths are converted to
	URIs. This should fix bugs #95561, #104961 and #105192. We have a
	single function now which is in charge of this, wether you use the
	commandline, the open dialog or dnd. HIGified the error
	dialogs. Removed fallbacks if no collection-view is build.

	* shell/eom-window.[ch]: Reworked the file loading. There is now
	exactly one function in charge of file loading. This simplifies
	the code a lot. Added signals for creating a new window and
	opening a file, since these actions are handled now by main.c.

	* shell/session.c (load_uri_with_role): Adapted to new
	eom_window_open function.

2003-02-26  Jens Finke  <jens@triq.net>

	* libeom/eom-hig-dialog.[ch]: New files. A HIG compatible message
	dialog.

	* libeom/Makefile.am (SOURCES): Added eom-hig-dialog.[ch] files.

2003-02-24  Jens Finke  <jens@triq.net>

	* viewer/eom-image-view.c: Fixed compiler warnings.

2003-02-24  Jens Finke  <jens@triq.net>

	* viewer/eom-image-view.c (eom_image_view_get_prop): Return image
	caption if title property is requested.

2003-02-22  Roozbeh Pournader  <roozbeh@sharif.edu>

	* configure.in: Added "fa" to ALL_LINGUAS.

2003-02-22  Jens Finke  <jens@triq.net>

	* collection/eom-collection-model.[ch]:
	(eom_collection_model_class_init): Fixed image_added signal
	registration.
	(eom_collection_model_set_uri): Renamed to
	eom_collection_model_add_uri.
	(eom_collection_model_set_uri_list): Removed.

	* collection/eom-collection-view.c (load_uri_cb): Call
	eom_collection_model_add_uri.

	* collection/eom-wrap-list.c:
	(compare_item_caption),
	(get_item_by_unique_id): Removed.
	(eom_wrap_list_get_n_selected),
	(request_update),
	(do_update),
	(add_image),
	(handle_item_event): Fixed compiler warnings:
	(model_image_added): Connect image event signal, update n_items
	attribute, initiate loading.

2003-02-21  Jens Finke  <jens@triq.net>

	* collection/eom-collection-item.[ch]: Oops, forgot to cvs add
	these files.

2003-02-21  Jens Finke  <jens@triq.net>

	* configure.in: Removed deprecated tests for libjpeg, libpng,
	libpreview, evolution, gnocam and more compiler warnings. Always
	build collection view.  Updated library requirements and added
	gdk-pixbuf to dependency list. Use mateconf macro (bug #106130, patch
	by Julio Merino <jmmv@hispabsd.org>).

	* Makefile.am: Build collection always.

	* viewer/Makefile.am,
	* collection/Makefile.am (INCLUDES):
	s/EXTRA_WARNING_CFLAGS/WARN_CFLAGS.
	(LDADD) Removed graphic libs.

	* libeom/Makefile.am,
	* shell/Makefile.am (INCLUDES): Always have collection,
	s/EXTRA_WARNING_CFLAGS/WARN_CFLAGS.


	* shell/eom-preferences.c (eom_preferences_show):
	s/g_strncascecmp/g_strcasecmp.

2003-02-21  Jens Finke  <jens@triq.net>

	Collection makes use of the new EomImage class.

	* collection/eom-collection-item.[ch]: New files. A class for
	clickable canvas items.

	* collection/eom-wrap-list.[ch]: Make use of EomCollectionItem and
	EomImage objects.

	* collection/eom-collection-view.[ch]: Merged the MateComponentControl
	interface into it. Splitted the view, so that selected images in
	the collection are also displayed in a separate ScrollView.

	* collection/eom-slide-show.h: Include eom-scroll-view.h instead
	of deprecated headers.

	* collection/main.c (eom_collection_factory): Create an
	EomCollectionView object.

	* collection/Makefile.am: Removed libpreview stuff, evolution stuff (not
	supported until evo2) and deprecated files from SOURCES.

	* collection/cimage.c,
	* collection/cimage.h,
	* collection/eom-collection-control.c,
	* collection/eom-collection-control.h,
	* collection/eom-image-loader.c,
	* collection/eom-image-loader.h,
	* collection/eom-image-loader-preview.c,
	* collection/eom-image-loader-preview.h,
	* collection/eom-image-loader-simple.c,
	* collection/eom-image-loader-simple.h,
	* collection/eom-item-factory.c,
	* collection/eom-item-factory-clean.c,
	* collection/eom-item-factory-clean.h,
	* collection/eom-item-factory.h,
	* collection/eom-item-factory-simple.c,
	* collection/eom-item-factory-simple.h: Removed these files. The
	functionality of all these classes is now mainly in EomImage and
	EomCollectionItem.

2003-02-21  Jens Finke  <jens@triq.net>

	* libeom/eom-image.[ch]: Added thumbnail generation stuff.
	(eom_image_load_thumbnail),
	(eom_image_get_pixbuf_thumbnail),
	(eom_image_free_mem),
	(eom_image_get_caption): New functions.

	* libeom/scroll-view.c (eom_scroll_view_set_image): Reduced
	flicker on image switching.

	* libeom/.cvsignore: Added libeom-marshal.[ch].

2003-02-14  Jens Finke  <jens@triq.net>

	New eom architecture. Moved more stuff into libeom and basically merged
	image-view.[ch] and ui-image.[ch]. The result is eom-scroll-view.[ch].

	* libeom/ui-image.[ch],
	* libeom/image-view.[ch]: Removed.

	* libeom/eom-scroll-view.[ch]: New, basic widget for displaying an
	EomImage.

	* libeom/eom-image-helper.[ch],
	* libeom/eom-image.[ch]: Image model, provides all operations on
	an image.

	* libeom/eom-full-screen.[ch]: Moved from viewer. Uses a
	EomScrollView widget for displaying the image.

	* libeom/libeom-marshal.list: New, list of callback marshallers.

	* libeom/Makefile.am: SOURES file list updated, added
	libeom-marshal.[ch] generation.

	* libeom/accessible-image-view.[ch]: Use EomScrollView instead of
	ImageView. Fixed indention.

	* libeom/eom-pixbuf-util.c (eom_pixbuf_flip_vertical): Free
	pixbuf.

	* libeom/eom-pixbuf-util.h: Added include guards.

	* libeom/zoom.[ch] (zoom_image_has_standard_size): Removed.

	* viewer/Makefile.am (SOURCES): Removed everything except main.c
	and eom-image-view.[ch]

	* viewer/eom-image-view.[ch]: Rewritten. This matecomponent object serves
	as a simple wrapper for an EomScrollView and EomImage and provides
	onyl gui and glue code. It implements the PersistFile, Control and
	Zoomable interfaces.

	* viewer/main.c (eom_image_viewer_factory): Removed EomImage
	matecomponent stuff.

	* shell/eom-window.c (sb_policy_changed): Removed.
	(eom_window_init): Don't register for policy changes.
	(adapt_window_size): New function.
	(property_changed_cb): New window/width, window/height properties.
	(adapt_window_size_to_control): Simplified, call
	adapt_window_size.

	* configure.in: Bumped version to 2.3.0.

=========== branched for Mate 2.4 development ========================

2003-02-10  Mohammad DAMT  <mdamt@bisnisweb.com>

	* configure.in: Added "id" to ALL_LINGUAS

2003-02-09  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "kn" to ALL_LINGUAS.

2003-02-08  Kang Jeong-Hee <Keizi@mail.co.kr>

        * Makefile.am: Added ACLOCAL_AMFLAGS. bug #102296

2003-01-28  Glynn Foster <glynn.foster@sun.com>

	* configure.in: Bumped to version 2.2.0
	* NEWS: Update

2003-01-28  Glynn Foster <glynn.foster@sun.com>

	* Makefile.am: Use $(builddir) instead of $(srcdir) when installing
	the mateconf schemas.

2003-01-27  Irene Ryan <irene.ryan@sun.com>

	* help/C/eom.xml: updates to the manual for 2.2 and to address bug #103953.
	* help/C/eom-C.omf: updating manual release info.

2003-01-21  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "mn" to ALL_LINGUAS.

2002-05-21  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in: Added Amharic (am) and Macedonian (mk) to ALL_LINGUAS.

2003-01-07  Alex Duggan <aldug@gnome.org>

	* eom.desktop.in: add startup-notification support to
	.desktop file.  Fixes # 101086

2003-01-06  Jens Finke <jens@triq.net>

	* configure.in: Bumped to version 1.1.4

	* NEWS: Updated

	Released version 1.1.4

2002-12-09  Jens Finke <jens@triq.net>

        * configure.in: Bumped to version 1.1.3.

        * NEWS: Updated.

2002-12-03  Christian Neumair  <chris@mate-de.org>

	* shell/eom-shell-ui.xml: Add priority flags to toolbar widgets,
	thanks to Glynn Foster <glynn.foster@sun.com> (fixes #96481).

2002-11-25  Jens Finke  <jens@triq.net>

	* Release version 1.1.2.

2002-11-22  Kjartan Maraas  <kmaraas@gnome.org>

	* eom.schemas.in: Fix a small typo.

2002-11-15  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS.

2002-11-03 Jens Finke  <jens@triq.net>

	* NEWS: Updated.

	* Released version 1.1.1.

2002-11-03  Jens Finke  <jens@triq.net>

	Removed mate-print dependency, this isn't supported
	in the Mate2 version yet.

	* configure.in: Removed libmateprint dependency. Updated required
	library versions. Bumped version to 1.1.1.

	* viewer/eom-image-view.c,
	* viewer/eom-util.c: Protected print related code with #if
	MATE2_PRINTING_WORKS.

	* viewer/Makefile.am: Removed eom-print-setup.[ch] files from
	SOURCES.

2002-10-15  Irene Ryan <irene.ryan@sun.com>

	* help/C/eom.xml: fix bug #91027
	* help/C/eom-C.omf: update manual date and version number
	* help/C/l10n.txt: new file containing instructions for
	  the L10N team about how to take screenshots for the manual

2002-10-15  Kjartan Maraas  <kmaraas@gnome.org>

	* viewer/eom-image-view-ui.xml: Fix a typo.
	* eom.glade: Fix another typo.

2002-10-14  Jens Finke  <jens@triq.net>

	* shell/main.c (make_canonical_uri): Reworked function, calls now
	mate_vfs_unescape_string.

2002-10-13  Jens Finke  <jens@triq.net>

	* README, TODO: Updated.

	* Released version 1.1.0.

2002-10-13  Jens Finke  <jens@triq.net>

	* NEWS: Updated.

2002-10-13  Jens Finke  <jens@triq.net>

	* shell/eom-preferences.c (key_press_cb): Close dialog on ESC key.

2002-10-13  Jens Finke  <jens@triq.net>

	* Makefile.am: Added intltool rule for eom.schemas.in file.

	* eom.schemas: Renamed to eom.schemas.in.

	* eom-glade.h: String updates from the preference dialog.

2002-10-10  Jens Finke  <jens@triq.net>

	* collection/eom-collection-view.xml: Adapted to changes in view menu.

	* eom.glade: Added mnemonics to preference dialog.

	* libeom/.cvsignore: Added MATE_EOM.server.in

2002-10-10  Jens Finke  <jens@triq.net>

	New preference dialog.

	* configure.in: Check for libglade.

	* Makefile.am: Added glade related stuff.

	* eom.schemas: Changed keys for image view, so that they better
	reflect the preference dialog settings.

	* eom.glade,
	* eom.gladep,
	* eom-glade.h: New glade related files.

	* libeom/image-view.[ch] (paint_rectangle): Consider use_check_pattern variable.
	(image_view_set_check_type),
	(image_view_set_check_size): Set use_check_pattern variable.
	(image_view_set_transparent_color): New function.

	* shell/Makefile.am: Added eom-preferences.[ch] files.

	* shell/eom-preferences.[ch]: New files.

	* shell/eom-shell-ui.xml: Added Edit/Preferences menu item.

	* shell/eom-window.c (verb_EditPreferences_cb): New function.

	* viewer/eom-image-view-ui.xml: Removed preference settings from
	the menu.

	* viewer/eom-image-view.c: Removed all stuff related to the
	setting/changing of preferences through the menu.
	(dither_changed_cb),
	(check_size_changed_cb),
	(check_type_changed_cb): Removed.
	(interp_type_changed_cb): Reworked.
	(trans_color_changed_cb),
	(transparency_changed_cb): New function.
	(eom_iamge_view_construct): Adapted to new mateconf schema.
	Removed ui related properties from property bag.

	* viewer/eom-image-view.h: Adapted mateconf keys.

2002-10-10  Kjartan Maraas  <kmaraas@gnome.org>

	* shell/eom-window.c (eom_window_init): Plug a leak.
	#95358.

2002-09-30  Jens Finke  <jens@triq.net>

	* NEWS: Updated.

2002-09-30  Jens Finke  <jens@triq.net>

	Better HIG compliance.

	* shell/eom-shell-ui.xml: s/New Window/_New/,
	s/Contents/_Contents/, removed delimiter between new and open file
	entry.

	* viewer/eom-image-view-ctrl-ui.xml: Fixed zoom labels and
	shortcuts.

	* viewer/eom-image-view-ui.xml: Fixed print and save labels and
	shortcuts. Define label of view and edit menu here.

	* viewer/eom-image-view.c: Fixed zoom labels and shortcuts in
	popup menu.

2002-09-23  Jens Finke  <jens@triq.net>

	* libeom/Makefile.am (SOURCES): Addee eom-pixbuf-util.[ch].

	* libeom/eom-pixbuf-util.[ch]: New files.

	* shell/eom-shell-ui.xml: Added placeholder for Edit and View
	menu.

	* shell/eom-window.c (add_control_to_ui): Don't make View menu
	visible here. This will be done automatically by matecomponent now.

	* viewer/eom-image-view-ui.xml: Added Edit menu with rotate and
	flip functions.

	* viewer/eom-image-view.c (image_modified_cb),
	(verb_FlipHorizontal_cb),
	(verb_FlipVertical_cb),
	(verb_Rotate90ccw_cb),
	(verb_Rotate90cw_cb),
	(verb_Rotate180_cb): New functions.
	(eom_image_view_create_ui): Add ui callbacks for new functions.
	(eom_image_view_construct): Connect to modified signal of
	eom-image object.

	* viewer/eom-image.[ch] (eom_image_class_init): Added modified
	signal.
	(eom_image_rotate_clock_wise),
	(eom_image_rotate_counter_clock_wise),
	(eom_image_rotate_180),
	(eom_image_flip_horizontal),
	(eom_image_flip_vertical): New functions.

2002-09-23  Jens Finke  <jens@triq.net>

	* collection/eom-image-loader-preview.c
	(eom_image_loader_preview_dispose): Shutdown async cache.

2002-09-20  Arvind Samptur <arvind.samptur@wipro.com>
	* eom.desktop.in: added %U for Exec, will launch the application
	with file dropped on the icon.

2002-09-17  Jens Finke  <jens@triq.net>

	* collection/eom-image-loader-preview.c: No need for async cache
	object anymore.

2002-09-11  Federico Mena Quintero  <federico@ximian.com>

	* viewer/eom-control.c (plug_size_allocate): Count the number of
	size allocations since we were set up and if we hit a threshold,
	fit the image to the window.  This is a totally horrible hack to
	fix #88499.  Can someone with more brain power and patience
	*please* fix GTK+ and MateComponent and remove this hack.
	(zoom_changed_cb): New callback; report the changed zoom level to
	the zoomable.

2002-08-25  Alex Graveley  <alex@ximian.com>

	* libeom/MATE_EOM.server.in.in: Add image/bmp as a supported
	mime-type, as it now exists in addition to image/x-bmp (don't ask
	me).

2002-08-21  Federico Mena Quintero  <federico@ximian.com>

	* viewer/eom-image-view.c (image_view_popup_menu_cb): New
	callback; we now support the standard Shift-F10 binding for popup
	menus.

	* libeom/image-view.c (image_view_key_press_event): Call the
	parent class handler so that bindings work.

2002-08-20  Jens Finke  <jens@triq.net>

	* shell/main.c: s/EOM_COLLECTION_WORKS/HAVE_COLLECTION

2002-08-20  Jens Finke  <jens@triq.net>

	Allow caja to use the collection as directory view.

	* collection/MATE_EOM_Collection.server.in.in: Added PersistFile
	interface to list of repo_ids. Reformatted file.

	* collection/eom-collection-view.c
	(load_uri_cb): New function.
	(eom_collection_view_construct): Merge persist file interface to
	object.

2002-08-20  Federico Mena Quintero  <federico@ximian.com>

	Fixes the EOM part of #90133.  Thanks to JeyaSudha Duraipandy for
	figuring it out.

	* shell/session.c (session_save): Do save information for windows
	that do not have a URI set.
	(load_uri_with_role): Only call eom_window_open() if the URI is
	not empty.

2002-08-20  Jens Finke  <jens@triq.net>

	* collection/eom-slide-show.[ch]: New files. Implement simple
	slide show functionality.

	* collection/eom-collection-view-ui.xml: New file. Adds
	View->'Slide Show' menu item.

	* collection/Makefile.am: Added new files

	* collection/eom-collection-view.c
	(verb_SlideShow_cb): New function.
	(eom_collection_view_create_ui): Setup collection  user interface.

2002-08-19  Jens Finke  <jens@triq.net>

	* collection/eom-image-loader-preview.c: Manage a reference to a
	PreviewCacheAsync object. Removed USE_ASYNC flag.

	* collection/eom-item-factory-clean.c (update_item_image): Handle
	the case where the thumbnail is NULL properly.

2002-08-18  Jens Finke  <jens@triq.net>

	Fixes bug #85222.

	* shell/eom-window.c (eom_window_open): Use open_failure_dialog
	function to display error message.

2002-08-18  Jens Finke  <jens@triq.net>

	Fixes bug #89513.

	* viewer/eom-image-view-ui.xml: Added F11 as accel for fullscreen
	mode.

	* viewer/eom-full-screen.c (eom_full_screen_show): Fixed compiler
	warning.
	(eom_full_screen_key_press): Added F11 to the list of valid keys
	to quit the fullscreen view.

2002-08-17  Jens Finke <jens@triq.net>

	* NEWS: Updated.

2002-08-17  Jens Finke <jens@triq.net>

	Added optional usage of libpreview (CVS version), which
	implements thumbnail creation/storage after Thumbnail Management
	Standard.

	* configure.in: Added check for libpreview if collection view is
	enabled.

	* collection/Makefile.am (EXTRA_DIST): Added
	eom-collection-marshal.list.

	* collection/eom-image-loader-simple.[ch]: New files.

	* collection/eom-image-loader-preview.[ch]: New files. Image
	loader, which utilizes libpreview library.

	* collection/Makefile.am: Added libpreview conditional stuff and
	the new files.

	* collection/eom-collection-model.c: Removed image loading stuff.

	* collection/eom-collection-view.c
	(eom_collection_view_construct): Create either simple or
	libpreview image loader.

	* collection/eom-image-loader.[ch]: Reworked this as abstract
	interface. Moved previous implementation to
	eom-image-loader-simple.[ch].

	* collection/eom-item-factory-clean.[ch]: Added FACTORY DEBUG flag.
	(eom_item_factory_clean_instance_init): Set default thumbnail size
	to 96x96.
	(eom_item_factory_clean_dispose): Free image loader.
	(update_item_image): Added debug messages. Start thumbnail
	creation.
	(image_loading_finished),
	(image_loading_failed_cb): New functions.
	(eom_item_factory_clean_construct): Aded loader argument, setup
	loader object.
	(eom_item_factory_clean_new): Added loader argument.

	* collection/eom-item-factory.c: Removed marshal_* function
	declarations.

	* collection/eom-item-factory.h: Removed eom_item_factory_new
	declaration.

	* collection/eom-wrap-list.c: Fixed debug message guards.
	(do_item_selection_changed_update): Check for item != NULL.

2002-08-11  Ross Burton  <ross@burtonini.com>

	* eom.desktop.in: Add encoding keyword, and fix up Terminal and
	Categories keywords.

2002-08-13  Jens Finke  <jens@triq.net>

	* libeom/Makefile.am: Set HAVE_COLLECTION flag, if collection is
	enabled.

	* libeom/eom-file-selector.c (is_filename_valid): Check if
	filename is a directory.
	(eom_file_selection_new): Allow directories on load if we have the
	collection component.

2002-08-13  Jens Finke  <jens@triq.net>

	Misc code cleanups. Selection changes don't force the whole item
	to be updated.

	* collection/cimage.[ch] (get_unique_id): Removed.
	(cimage_instance_init): Set id = 0.
	(cimage_new_uri): Use quark from text uri as id. Set caption.
	(cimage_set_caption): Make utf8 validation check.

	* collection/eom-collection-model.c: Use consistent name scheme
	for the signals. Signals submit only the id of a _single_ modified
	image.  This required some straight forward changes in the code.
	(add_image_to_selection_list): New function.
	(select_all_images),
	(unselect_all_images): New functions, which support
	mass-selecting/-unselecting images.

	* collection/eom-collection-model.h: Use G_TYPE checks in
	macros. Changed signal declarations. s/guint unique_id/GQuark id.

	* collection/eom-collection-view.c: (delete_item),
	(model_selection_changed): Adaptions to model signal changes.

	* collection/eom-item-factory-clean.c (update_item_caption): Don't
	create caption string, just use the one from the cimage object.

	* collection/eom-wrap-list.c: Misc code cleanups.
	(model_selection_changed),
	(model_selected_all),
	(model_selected_none),
	(add_item_update): New function.
	(model_image_changed),
	(model_image_added),
	(model_image_removed): Simplified code.
	(eom_wrap_list_set_model): Adaptions to model signal changes.
	(get_next_unique_id): Removed.
	(do_item_changed_update),
	(do_item_added_update),
	(do_item_removed_update): Handle only a single image id, no lists
	anymore.
	(do_item_selection_changed_update),
	(item_selection_update_single),
	(do_item_selection_update_all): New function.
	(do_update): Check for selection updates.

2002-08-10  Jens Finke  <jens@triq.net>

	* collection/eom-item-factroy-clean.[ch]: New default icon factory
	with a much nicer look.

	* collection/Makefile.am (SOURCES): Added clean factory files.

	* collection/eom-collection-view.c
	(eom_collection_view_construct): Create a clean factory object.

	* collection/eom-image-loader.c (scale_image): Use bilinear
	scaling.

2002-08-07   Thomas Meeks <thomas@imaginator.com>

	* doc/C/eom.sgml: Added ICB file support

	* libeom/MATE_EOM.server.in.in: ditto.

2002-08-07  Jens Finke  <jens@triq.net>

	* collection/eom-collection-control.c (handle_open_uri): Use
	CORBA_Object_release to free control frame object.

2002-08-05  Jens Finke  <jens@triq.net>

	* collection/eom-collection-control.c (handle_open_uri): Release
	control and controle frame objects properly.

	* collection/eom-collection-view.c (eom_collection_view_dispose):
	Free mateconf client and ui component.
	(eom_collection_view_get_property_bag): Ref property bag.

	* collection/eom-wrap-list.c (eom_wrap_list_dispose),
	(eom_wrap_list_finalize): Removed debug messages.

2002-08-04  Jens Finke  <jens@triq.net>

	* collection/eom-collection-control.c:
	(eom_collection_control_set_ui_container),
	(eom_collection_control_unset_ui_container),
	(eom_collection_control_construct): Don't hold a MateComponentUIComponent
	reference per object, this isn't neccessary.
	(eom_collection_control_activate): Use the first MateComponentControl
	parameter to access collection control reference.

	* collection/eom-collection-view.c: Don't hold private reference
	to the factory object. Removed property control stuff.
	(prop_control_get_prop),
	(prop_control_get_cb): Removed.

	* collection/eom-wrap-list.c (eom_wrap_list_set_factory): Ref the
	factory object.

2002-08-04  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 1.1.0 (development version
	towards Mate 2.2)

	* NEWS: Updated.

2002-08-04  Jens Finke  <jens@triq.net>

	Fixes #85927.

	* shell/eom-window.c (eom_window_init): ctrl_widget = NULL.
	(eom_window_construct): Don't add widget from
	matecomponent_control_frame.
	(add_control_to_ui): Add control widget to shell container if not
	done yet.
	(activate_uri_cb): eom_window_open can handle uri's so don't
	extract the path first.

2002-08-04  Jens Finke  <jens@triq.net>

	Drags into an empty window will reuse it instead of opening a new
	one.

	* shell/eom-window.c (eom_window_has_contents): Determine empty
	windows through availabilty of a control not a widget.

2002-08-02  Jens Finke <jens@triq.net>

	* collection/eom-collection-model.c (directory_visit_cb): Fixed
	mime type based check, which files we display (only images).

	* collection/eom-collection-view.c (eom_collection_view_get_prop):
	Display only the filename of the selected image not the whole path.

	* collection/eom-item-factory-simple.c (ensure_max_caption_width):
	Pango aware rewrite of previous shrink_to_width function.
	(update_item_image),
	(update_item_caption),
	(update_item_selection): New functions.
	(ii_factory_update_item): Split functionality across the three new
	functions. Added hint parameter to decide which parts of the icon
	needs an update.

	* collection/eom-item-factory.[ch]
	(eom_item_factory_update_item),
	(eom_item_factory_class_init): Added hint parameter to abstract
	item update function.

	* collection/eom-wrap-list.c
	(do_item_changed_update),
	(do_item_added_update): Set update hint parameter.

	* collection/eom-collection-marshal.list: Changed paramter list
	for factory update item marshaller.

2002-07-29  Federico Mena Quintero  <federico@ximian.com>

	Fixes #89372.

	* shell/main.c (show_nonexistent_files): Oops,
	gtk_message_dialog_new() takes a printf() format, so use it - if
	our filenames contained percent characters, we would screw up.
	(make_canonical_uri): Escape the filename before passing it to
	mate-vfs.

	* shell/eom-window.c (eom_window_open_dialog): Likewise.

	* shell/util.c (open_failure_dialog): Unescape the URI.

2002-07-29  Federico Mena Quintero  <federico@ximian.com>

	* libeom/image-view.c (image_view_scroll_event): Reverted
	scrollwheel change.  No modifiers means zoom, shift+wheel means
	scroll, shift+control+wheel means scroll in the other direction.
	Rationale:  you can already scroll around the image by simply
	dragging it around.  Zooming is more useful, I think, so that you
	can completely navigate around the image without ever touching the
	keyboard.

2002-07-29  Jens Finke  <jens@triq.net>

	* libeom/image-view.c (image_view_button_press_event): Don't
	handle the mouse buttons 4/5, this is handled by
	image_view_scroll_event.
	(image_view_scroll_event): Made the scroll wheel and modifier
	behaviour more consistent with other applications: scroll wheel =
	scroll vertical, shift + scroll wheel = zoom in/out, ctrl + scroll
	wheel = scroll horizontal.

2002-07-28  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sq" to ALL_LINGUAS.

2002-07-25  Jens Finke  <jens@triq.net>

	Fixes #85190. Makes the UI more HIG compliant.

	* shell/eom-shell-ui.xml: Removed "Close" button from toolbar
	added "New" button.

2002-06-30  Ross Burton  <ross@burtonini.com>

	* viewer/eom-control.c: Set the location of the UI file when
	loading it (fixes #86932).

2002-07-25  Jens Finke  <jens@triq.net>

	We have a real fullscreen again.

	* viewer/eom-fullscreen-view.c (eom_full_screen_show): Call zoom
	to fit.
	(eom_full_screen_instance_init): Removed unneccessary window
	calls, move window at position 0,0.
	(eom_full_screen_new): Set window type at object creation time.

2002-07-24  Federico Mena Quintero  <federico@ximian.com>

	* configure.in: Bumped version number to 1.0.2.

	* collection/Makefile.am: Added the marshal files to
	BUILT_SOURCES.  Also, they should be named
	eom-collection-marshal.[ch], not eom-collection-view-marshal.[ch].

2002-07-20  Jens Finke <jens@triq.net>

	* collection/.cvsignore: Updated.

	* collection/Makefile.am: use .server.in.in file instead, and
	do libexec sed job on it.

	* collection/MATE_EOM_Collection.server.in: Renamed to
	*.server.in.in and added libexec prefix dummy.

2002-07-19  Jens Finke <jens@triq.net>

	* Makefile.am (SUBDIRS): Compile collection if desired.

	* configure.in: Added compile option stuff, wether to enable the
	collection view or not (off by default).

	* collection/Makefile.am: Renamed program to eom-collection-view
	and moved it to libexec dir.

	* collection/eom-collection-control.c
	* collection/eom-collection-model.c
	* collection/eom-collection-preferences.c
	* collection/eom-collection-view.c
	* collection/eom-warp-list.c: Ported remaining GtkObject stuff to
	GObject.

	* collection/eom-item-factory-simple (ii_factory_update_item): Get
	correct pango_context.

	* shell/Makefile.am: Enable collection support if desired.

	* shell/eom-window.c (get_collection_control): Load collection
	component by iid.
	(get_collection_control):
	(get_collection_control_list): Define dummy functions of these if
	we compile without collection support.

2002-07-17  Michael Meeks  <michael@ximian.com>

	* libeom/Makefile.am: use .server.in.in file instead, and
	do libexec sed job on it.

	* viewer/Makefile.am: install eom-image-view into libexec,
	as per seeing the light finally.

2002-07-10  Jens Finke <jens@triq.net>

	Fixes #85690.

	* libeom/eom-file-selection.[ch]: New files. An extended
	GtkFileSelection dialog, which shows the list of supported file
	types.

	* libeom/Makefile.am (SOURCES): Added new files.

	* shell/eom-window.c (eom_window_open_dialog): Use new file
	selector.

	* viewer/eom-image-view.c (filesel_ok_cb): Removed.
	(save_image_as_file): New function.
	(filesel_cancel_cb): Removed.
	(verb_SaveAs_cb): Use new file selector.

2002-07-09  Federico Mena Quintero  <federico@ximian.com>

	* idl/Eom.idl (MATE::EOM::Interpolation): Removed tiles
	interpolation, as it does not make sense for EOM.

	* viewer/eom-image-view.c (listener_Interpolation_cb): Likewise.
	(ui_id_strings_interp_type): Likewise.
	(eom_image_view_get_prop): Likewise.
	(eom_image_view_set_prop): Likewise.

	* viewer/eom-preview.c (eom_preview_update): Likewise.

	* viewer/preferences.c (prefs_interpolation): Likewise.

	* viewer/eom-image-view-ui.xml: Likewise.

	* viewer/eom-image-view.c (eom_image_view_create_ui): Use the
	computed number of elements for the interpolation types array, not
	a hardcoded constant.
	(eom_image_view_create_ui): Convert the interpolation value to a
	menu index before using it.
	(interp_type_changed_cb): Likewise.

	* viewer/eom-control.c (eom_control_construct): Do not add a
	property control interface.  The preferences code is highly
	convoluted and broken, so I'm removing it.

	* viewer/eom-imagew-view.c (eom_image_view_get_property_control):
	Removed.

	* viewer/Makefile.am (eom_image_viewer_SOURCES): Removed
	preferences.[ch].

	* viewer/preferences.[ch]: Removed.

	* shell/eom-shell-ui.xml: Removed the Edit/Preferernces item.

	* shell/eom-window.c: Removed the preferences machinery.

	* shell/Makefile.am (eom_SOURCES): Removed eom-preferences.[ch].

2002-06-26  Federico Mena Quintero  <federico@ximian.com>

	Fixes #86469.

	* shell/eom-window.c (eom_window_close_all): New function.
	(verb_FileExit_cb): Use eom_window_close_all(); this function was
	fantastically buggy.
	* shell/main.c (client_die_cb): Use eom_window_close_all().

2002-06-26  Yanko Kaneti <yaneti@declera.com>

	* configure.in: (ALL_LINGUAS) Added Bulgarian (bg).

2002-06-25  Federico Mena Quintero  <federico@ximian.com>

	Fixes #75889.

	* viewer/eom-image-view.c (setup_item_factory): Set up a
	GtkItemFactory for the image view's popup menu.
	(image_view_button_press_event_cb): Added a button press handler
	so that we can present a popup menu.
	(eom_image_view_class_init): Created a "close_item_activated"
	signal.

	* viewer/eom-full-screen.c (eom_full_screen_new): Connect to the
	"close_item_activated" signal of the image view.

	* libeom/image-view.c (image_view_button_press_event): Use
	IMAGE_VIEW_ZOOM_MULTIPLIER.
	(image_view_key_press_event): Likewise.
	(image_view_set_zoom): Added arguments to specify the zoom anchor.
	(image_view_set_zoom): Queue a resize even if we did not need to
	change the zoom factor.  This makes things work even when 1:1 and
	then zoom-fit would produce the same results.

2002-06-21  Jens Finke  <jens@triq.net>

	Fixes #72352 and #75713.

	* libeom/ui-image.c (ui_image_fit_to_screen): Removed.

	* shell/eom-window.c (adapt_shell_size_to_control): New function
	which tries to read the desired size of the control and to adapt
	the size of the eom window to it.
	(add_control_to_ui): Call adapt_shell_size_to_control.

	* viewer/eom-image-view.c (image_set_image_cb): Don't call
	ui_image_fit_to_screen.

2002-06-21  Peteris Krisjanis <pecisk@inbox.lv>

	* configure.in: Added Latvian language support.

2002-06-20  Federico Mena Quintero  <federico@ximian.com>

	* libeom/image-view.c: Removed obsolete comment.

	* libeom/MATE_EOM.server.in: Make the caja:view_as_name be
	"Image" so that Caja will say, "View as Image".  Fixes #73651.

2002-06-20  Federico Mena Quintero  <federico@ximian.com>

	* viewer/eom-image.c (load_image_from_file): Initialize the loader
	and rsvg_handle variables, otherwise we'll b0rk if we can't open
	the URI.  Fixes #85263.

2002-06-13  Federico Mena Quintero  <federico@ximian.com>

	Fixes #85216.

	* shell/eom-window.c (eom_window_destroy): Remove the window from
	the window list here, not in eom_window_close().

	* shell/main.c (client_die_cb): Use eom_window_close() rather than
	gtk_widget_destroy() to close the windows.  This will terminate
	the main loop when appropriate.

2002-06-12  Federico Mena Quintero  <federico@ximian.com>

	* shell/main.c (sort_startup_files): Create a list of filenames
	that had errors.  Call mate_vfs_file_info_clear() between files.
	(handle_cmdline_args): If there are files with errors, show an
	error dialog.  Fixes bug #84890.

2002-06-10  Jens Finke  <jens@triq.net>

	* Released version 1.0.0

2002-06-04  Federico Mena Quintero  <federico@ximian.com>

	* collection/Makefile.am (INCLUDES):
	* libeom/Makefile.am (INCLUDES):
	* shell/Makefile.am (INCLUDES):
	* viewer/Makefile.am (INCLUDES): Use
	$(prefix)/$(DATADIRNAME)/locale for -DMATELOCALEDIR.  Thanks to
	Hidetoshi Tajima <hidetoshi.tajima@sun.com> for pointing it out.
	Fixes #83642.

2002-06-03  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 0.119.0.

	* Released version 0.119.0.

2002-05-30  Federico Mena Quintero  <federico@ximian.com>

	Fixes #83233.  Note that this depends on an updated libmatecomponentui,
	as there was a buglet there that affected this.

	* shell/eom-window.c (add_control_to_ui): Do not add the control
	frame's widget to the box here, as it will always return the same
	socket widget.
	(eom_window_construct): Add the control frame's socket to the vbox
	here.

2002-05-30  Federico Mena Quintero  <federico@ximian.com>

	* shell/eom-window.c (verb_HelpAbout_cb): Made the translators
	translatable.

2002-05-30  Federico Mena Quintero  <federico@ximian.com>

	Fixes #82417.

	* libeom/image-view.c (unity_zoom): Oops, this was testing zoomx
	twice instead of zoomx and zoomy.
	(ImageViewPrivate): Now we only use a single microtile array.  It
	represents the dirty region for delayed drawing, which is only
	used when we are using interpolation --- the non-interpolated and
	zoom==1:1 cases are handled synchronously for speed and
	smoothness.
	(remove_dirty_region): Handle a single microtile.
	(paint_iteration_idle): Handle a single microtile.  Boy, is this
	simpler or what?
	(scroll_to): Use gdk_window_scroll() and process exposures
	synchronously.  This is basically the old EOM magic but now done
	cleanly with GDK stuff.
	(image_view_set_pixbuf): Remove the dirty region and reset the
	scrolling offsets.
	(image_view_get_zoom): Return both the X and Y zoom factors.
	(image_view_button_press_event): Do not grab the cursor now that
	we can use implicit grabs reliably.
	(image_view_button_release_event): Do not ungrab the cursor.

	* viewer/eom-image-view.c (eom_image_view_get_prop): Take the
	square root of the product of the X and Y zoom factors for the
	actual zoom factor.

	* viewer/eom-control.c (zoomable_set_zoom_level_cb): Likewise.
	(zoomable_zoom_in_cb): Likewise.
	(zoomable_zoom_out_cb): Likewise.
	(zoomable_zoom_to_fit_cb): Likewise.

	* viewer/eom-full-screen.c (eom_full_screen_button_press_event):
	Removed.

	* shell/eom-window.c (verb_HelpAbout_cb): Add the EOM icon and the
	documenters.

2002-05-29  Federico Mena Quintero  <federico@ximian.com>

	* libeom/image-view.h (ScrollType): Removed.
	(IMAGE_VIEW_ZOOM_MULTIPLIER): New constant.  We use this as the
	zoom factor multiplier when zooming.  We should be using this
	elsewhere in the program as well.

	* libeom/image-view.c (ImageViewPrivate): Removed scroll field.
	We now mandate two-pass scrolling as it Rules(tm).
	(image_view_set_scroll): Removed.
	(image_view_get_scroll): Removed.
	(image_view_get_property): Removed handling of the scroll
	property.
	(image_view_set_property): Likewise.
	(image_view_class_init): Likewise.
	(image_view_instance_init): Initialize all fields.  Set up the
	rendering defaults here.
	(image_view_instance_init): Set ourselves as not double buffered.
	(image_view_scroll_event): New handler for scroll events.  Fixes
	#79351.  N.B. The GIMP is on crack in the way it uses the scroll
	wheel.  Rationale:  images are not primarily vertical, and you can
	scroll the image around by dragging with some mouse button
	anyways.  So it is better to leave the scroll wheel for zooming.
	(scroll_by): New function to generalize scrolling by some offsets.
	(image_view_key_press_event): Use scroll_by().
	(scroll_to): Change the adjustments here, if needed, instead of
	all over the code.  Also, clamp the x/y values initially.
	(drag_to): Don't clamp now that scroll_to() does it.

	* viewer/eom-image-view.c (eom_image_view_construct): Do not set
	the scrolling method.

2002-05-29  Federico Mena Quintero  <federico@ximian.com>

	* libeom/image-view.h (FullScreenZoom): Removed.

	* libeom/image-view.c (ImageViewPrivate): Removed full_screen_zoom field.
	(image_view_set_full_screen_zoom): Removed.
	(image_view_get_full_screen_zoom): Removed.
	(image_view_set_property): Removed handling of the
	full_screen_zoom property.
	(image_view_get_property): Likewise.
	(image_view_class_init): Likewise.

2002-05-29  Jens Finke  <jens@triq.net>

	Applied patch from Ross Burton.

	* shell/eom-window.c (eom_window_construct): Submit datadir prefix
	to matecomponent_ui_util_set_ui. Fixes bug #83399.

2002-05-28  Federico Mena Quintero  <federico@ximian.com>

	* shell/session.c (session_save):
	(session_load): mate-config expects a section name in addition to
	the key name.  Fixes #82603.

	* shell/main.c (client_save_yourself_cb): Set the discard command.

2002-05-21  Federico Mena Quintero  <federico@ximian.com>

	* shell/eom-preferences.c (eom_preferences_new): Save the signal
	handler id for "destroy" on the parent window.
	(eom_preferences_destroy): Disconnect from the destroy signal of
	the parent window.  Fixes bug #82426.

2002-05-21  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 0.118.0.

	* NEWS: Updated.

	* Released version 0.118.0.

2002-05-21  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in (ALL_LINGUAS): added Walloon (wa)

2002-05-20  Federico Mena Quintero  <federico@ximian.com>

	Patch from Satyajit Kanungo <satyajit.kanungo@wipro.com> to
	include help in the preferences dialog, with some modifications.

	* shell/eom-preferences.c (eom_preferences_response): Added a
	handler for the help button.
	(eom_preferences_construct): Added a help button.
	(eom_preferences_construct): Do not let the user resize this
	window.

	* shell/eom-window.c (verb_HelpAbout_cb): Display an error dialog
	if we cannot show help.

	* help/C/eom.xml: Removed trailing carriage returns.

	* viewer/eom-image.c (load_image_from_file): Removed unused
	variable.

2002-05-15  Federico Mena Quintero  <federico@ximian.com>

	* viewer/eom-image-io.c (eom_image_save_png): We don't need to
	tell libpng to flip bytes around as pixbufs are always in RGB or
	RGBA order in memory.  Fixes #76239.

2002-05-14  Federico Mena Quintero  <federico@ximian.com>

	* viewer/eom-control.c (eom_control_construct): Do not set the
	shadow type of the scrolled window here.

	* libeom/ui-image.c (ui_image_init): Set the shadow type to
	GTK_SHADOW_IN here.
	(ui_image_zoom_fit): To avoid getting scrollbars even when we do
	"zoom to fit", set the scrollbar policy to NEVER, then change the
	zoom factor, then re-set the scrollbar policy to ALWAYS in the
	idle loop.  This is *not* a hack.  Read the comment in this
	function to see why.  Fixes bug #76406.

2002-05-14  jacob berkman  <jacob@ximian.com>

	* libeom/MATE_EOM.server.in: we can load image/svg now

	* viewer/eom-image.c (load_image_from_stream):
	(load_image_from_file): support loading svg images (and fix some
	memleaks)

	* configure.in: require librsvg

	fixes bug #81528

2002-05-13  Federico Mena Quintero  <federico@ximian.com>

	Merging the accessibility patches from Muktha Narayan
	<muktha.narayan@wipro.com>.

	* libeom/access.[ch]: New files with utility functions for
	accessibility.

	* viewer/preferences.c (create_label): Set up the LABEL_FOR and
	LABELLED_BY relations.

	* libeom/accessible-image-view.[ch]:
	* libeom/accessible-image-view-factory.[ch]: New files with the
	accessibility object and factory for the ImageView.

2002-05-13  MATE Hacker  <michael@mate>

	* libeom/image-view.c (request_paint_area): remove tedious debug.

2002-05-13  Jens Finke <jens@triq.net>

	* shell/eom-shell-ui.xml: Changed 'HelpContents' label to
	'Contents'. (Hope this is before the string freeze yet :).
	Swapped help Contents and About position.

2002-05-07  Jens Finke <jens@triq.net>

	* shell/session.c (session_save): Use next field to obtain succeeding
	list element. Bug #80911.

2002-05-07  Jens Finke <jens@triq.net>

	Applied slightly edited patch by Ronald Bultje
	<rbultje@ronald.bitfreak.net>

	* shell/Makefile.am,
	* libeom/Makefile.am,
	* viewer/Makefile.am,
	* collection/Makefile.am (INCLUDES):
	Removed -I$(includedir) and -I. .

2002-04-29  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in (ALL_LINGUAS): added Vietnamese (vi)

2002-04-29  Jens Finke <jens@triq.net>

	* configure.in: bumped version to 0.117.0.

	* NEWS: Added 0.117 entry.

	* Released version 0.117.0.

2002-04-25  Federico Mena Quintero  <federico@ximian.com>

	* viewer/eom-image-view.c (eom_image_view_construct): Call the
	image_set_image_cb() *after* we have created the property bag.
	We'll get notification of a zoom change from this function, and
	the zoom change callback does need the property bag to be
	present.  Fixes bug #73606.

2002-04-25  Jens Finke  <jens@triq.net>

	Applied patch from Satyajit Kanungo <satyajit.kanungo@wipro.com>.
	This fixes bug #79156.

	* shell/eom-window.c (verb_HelpContent_cb): New function.

	* shell/eom-shell-ui.xml: Added Help Contents menu item.

	* shell/Makefile.am: Added DATADIR to INCLUDES.

	* shell/Main.c (main): Added MATE_PARAM_APP_DATADIR to program
	init.

2002-04-24  Jens Finke  <jens@triq.net>

	* collection/eom-collection-control.[ch]: Made MateComponentControl the
	base class and use EomImageView as an attribute.

	* collection/eom-collection-view.c: Use
	MATECOMPONENT_CLASS_BOILERPLATE_FULL.
	* collection/eom-collection-view.h: Use G_TYPE_CHECK functions.

	* collection/eom-image-loader.c (eom_image_loader_class_init): Use
	g_signal_new.

	* collection/eom-wrap-list.c
	(eom_wrap_list_class_init): Signal fixes.
	(eom_wrap_list_set_model): Cast model to GObject.

2002-04-23  Murray Cumming  <murrayc@usa.net>

	* shell/eom-window.c eom_window_new():
	Use construct-time properties with g_object_new() instead of
	matecomponent_window_construct(), which should no longer be used.

2002-04-23  Jens Finke <jens@triq.net>

	* shell/eom-window.c: The changes in matecomponent_window has been
	reverted, so the properties aren't available anymore. To avoid a
	broken eom shell, I reverted the patch by Murray Cumming.

2002-04-23  Jens Finke <jens@triq.net>

	* configure.in: Updated required library versions.

2002-04-22  Federico Mena Quintero  <federico@ximian.com>

	* viewer/eom-image-io.c: Add workaround around broken libjpeg
	headers.  See bug #79010.

2002-04-22  Murray Cumming  <murrayc@usa.net>

	* shell/eom-window.c eom_window_new():
	Use construct-time properties with g_object_new() instead of
	matecomponent_window_construct(), which should no longer be used.

2002-04-19  Jens Finke  <jens@triq.net>

	* MATE_EOM_Collection.oaf.in: Renamed to
	MATE_EOM_Collection.server.in

	* .cvsignore: Ignore MATE_EOM_Collection.server and
	eom-collection-marshal.[ch].

	* eom-collection-marshal.list: New file.

2002-04-19  Jens Finke  <jens@triq.net>

	* collection/Makefile.am,
	* collection/*.c,
	* collection/*.h: Ported to Mate2 so that it at least compiles.

2002-04-17  Federico Mena Quintero  <federico@ximian.com>

	* viewer/eom-image-io.c (eom_image_save_png): If we are going to
	use a png_text property, fill out all the structure fields we
	need.  Fixes #77173.

2002-04-17  Federico Mena Quintero  <federico@ximian.com>

	* shell/session.c (session_save): Call mate_config_sync() when we
	are done.

2002-04-17  Michael Meeks  <michael@ximian.com>

	* Version 0.116.1

2002-04-16  Michael Meeks  <michael@ximian.com>

	* libeom/image-view.c
	(image_view_focus_in_event, image_view_focus_out_event),
	(image_view_class_init): stop bad re-rendering things
	happening on focus in / out.

2002-04-16  Michael Meeks  <michael@ximian.com>

	* viewer/eom-image-io.c: don't include setjmp before
	png.h or the png headers have a fit - for no good reason.

	* viewer/*.c: s/gdk_pixbuf_[un]ref/g_object_[un]ref/

	* collection/*.c: s/gdk_pixbuf_[un]ref/g_object_[un]ref/

2002-04-15  Jens Finke <jens@triq.net>

	* configure.in: version 0.116.0, updated version requirements of
	needed libraries.

2002-04-10  Iain <iain@ximian.com>

	* shell/eom-preferences.c (eom_preferences_construct): Turn off the
	border and tabs if there's only one tab.
	(eom_preferences_new): Destroy the preferences window when the main
	app window is destroyed.

2002-04-15  Michael Meeks  <michael@ximian.com>

	* Finally fully port to Mate 2.0 ( remove all deprecated
	stuff, but still no printing enabled as yet )

	* shell/eom-window.c (eom_window_construct): store
	the UI component on the private structure.
	(add_control_to_ui): don't use broken matecomponent_ui_engine
	API stolen past the deliberate encapsulation of this.

2002-04-12  Michael Meeks  <michael@ximian.com>

	* viewer/eom-full-screen.c: port.

	* viewer/eom-image-view.c: port.

	* viewer/eom-print-setup.c
	(on_dialog_response): upd.
	(eom_print_setup_new): port.

	* viewer/eom-image.c (load_image_from_stream): port.

	* libeom/ui-image.c (ui_image_fit_to_screen):
	don't set_usize, set_size_request.

	* libeom/cursors.c (cursor_get): upd.

	* libeom/image-view.c (image_view_init): rename
	(image_view_instance_init): to this, kill (get_type)
	and use the boilerplate macros.
	(image_view_class_init): use properties not GtkArgs.
	(image_view_set_property, image_view_get_property): impl.
	(image_view_dispose): upd.
	(scroll_to, image_view_size_allocate),
	(image_view_set_scroll_adjustments),
	(image_view_set_scroll_adjustments),
	(image_view_new): much porting action.

	* configure.in (EXTRA_WARNING_CFLAGS): add the disable
	deprecated bits.

2002-04-13  Rosanna Yuen  <zana@webwynk.net>

	* libeom/image-view.c: #include <gtksignal.h>

2002-04-12  Jens Finke <jens@triq.net>

	Applied patch from Alexander Larsson.

	* libeom/image-view.c (image_view_class_init): Removed
	deprecated gtk signal stuff.

2002-04-11  Federico Mena Quintero  <federico@ximian.com>

	* shell/session.[ch]: New files with session management code.

	* shell/main.c (main): Connect to the master client's signals.

	* shell/eom-window.c (eom_get_window_list): New function to get
	the window list from the outside.
	(eom_window_init): Set up a unique role for the window.

2002-04-11  Jens Finke <jens@triq.net>

	* shell/eom-window.c: Increased default window widht/height to
	make all the toolbar items visible even with small images.

2002-04-11  Jens Finke <jens@triq.net>

	Applied slightly modified patch by Iain Holmes, which fixes most
	of the remaining issues in bug #76430.

	* shell/eom-shell-ui.xml: Rename "Exit" to "Quit". Added "..." to
	preferences item, removed these from about item. Moved preferences
	item into Edit menu. Removed settings menu.

	* viewer/eom-image-view-ctrl-ui.xml: Renamed "Zoom to Default" to
	"Zoom 1:1".

	* viewer/eom-image-view-ui.xml: Removed all the redundant words
	from the menu, added accel to "Save As"

2002-04-10  Iain Holmes <iain@ximian.com>

	* viewer/preferences.c (create_label): Take a widget that will be
	activated by the labels mnemonic.
	(eom_create_preferences_page): Add mnemonics to each of the labels.

2002-04-08  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "ta" (Tamil) to the languages' list.

2002-03-24  Jens Finke  <jens@triq.net>

	* NEWS: Updated.

	* Released version 0.115.0.

2002-03-24  Jens Finke  <jens@triq.net>

        * configure.in: Bumped version to 0.115.0

2002-03-21  Jens Finke  <jens@triq.net>

	This patch fixes most of the issues in bug #73805.

	* shell/eom-preferences.[ch]: Switched to GtkDialog as parent
	class, which makes it more HIG conform.

	* shell/eom-window.c (preference_dlg_closed_cb): New function.
	(verb_Preferences_cb): If a preference dialog is already visible
	present it to the user. Otherwise create a new one.
	(verb_HelpAbout_cb): Added translator credits placeholder.
	(eom_window_init): Initialize pref_dlg attribute.

2002-03-21  Jens Finke  <jens@triq.net>

	* viewer/preferences.c (create_label): New function.
	(create_preferences_page): Align lables to the right, added
	row and column spacings.

2002-03-19  Jens Finke  <jens@triq.net>

	* shell/eom-window.c (eom_window_open): Pop up error dialog if the
	loading of a file fails.

2002-03-19  Jens Finke  <jens@triq.net>

	* shell/main.c (user_wants_collection): Use new gtk_message_dialog
	API. Added an alternative implementation for this function as long
	as the collection view doesn't work.
	(handle_cmdline_args): Reenabled the check for multiple files on
	the commandline. Due to the thawed string freeze we can handle
	this now with a dialog again.
	(main): Removed unused orb variable.

2002-03-12  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 0.114.0.

	* NEWS: updated

	* Released version 0.114.0

2002-03-12  Jens Finke  <jens@triq.net>

	* help/.cvsignore
	* help/C/.cvsignore
	* omf-install/.cvsignore: New files.

2002-03-12  Jens Finke  <jens@triq.net>

	This patch should fix bug #74083. It makes mateconf consistently the
	model for all preference settings.

	* eom.schemas (check_size), (dither): Changed default.

	* eom-image-view.[ch]
	(listener_Interpolation_cb),
	(listener_Dither_cb),
	(listener_CheckType_cb),
	(listener_CheckSize_cb): Removed the matecomponent property bag stuff,
	replaced it with a call to mateconf.
	(set_ui_group_item): New function, which syncs the mateconf value
	with the user interface.
	(eom_image_view_create_ui): Initialize preferences with the values
	stored in mateconf, simplified the code.
	(eom_image_view_get_prop): Get the value of the four settings from
	mateconf.
	(eom_image_view_set_prop): Update just the mateconf key.
	(eom_image_view_[gs]et_interpolation),
	(eom_image_view_[gs]et_dither),
	(eom_image_view_[gs]et_check_size),
	(eom_image_view_[gs]et_check_type): Removed these functions.
	(eom_image_view_get_client): New function.
	(interp_type_changed_cb),
	(dither_changed_cb),
	(check_type_changed_cb),
	(check_size_changed_cb): New functions, central handler for all
	changes to these properties. Take care of all ui updates.
	(eom_image_view_construct): Initialize mateconf, set image view
	properties to mateconf stored values.

	* preferences.c: Use mateconf for retrieving and setting the values
	in the preference dialog. Simplified the code.

2002-03-12  Laszlo Peter  <laca@ireland.sun.com>

	* configure.in: check for libpopt, define POPT_LIBS.

	* shell/Makefile.am: link to POPT_LIBS.

2002-03-11 Jens Finke <jens@triq.net>

	* shell/main.c (handle_cmdline_args): Bug #74012. I've commented
	out the check for multiple files and the dialog for asking the
	user about collection or single window mode. I am not quite
	comfortable with this, because eom opens now a window for every
	image file specified on the command line. But again the string/ui
	freeze prohibits an adapted dialog to these changes.
	(main): Removed commented out oaf_init call.

2002-03-10 John Fleck <jfleck@inkstain.net>

	* omf-install/Makefile.am
	fix mistake in Makefile.am - dest_dir was wrong

2002-03-09 John Fleck <jfleck@inkstain.net>

	add
	* help/Makefile.am
	* help/C/Makefile.am
	* help/C/eom-C.omf
	* help/C/eom.xml
	* help/C/legal.xml
	* help/C/figures/eom_start_window.png
	* omf-install/Makefile.am
	* xmldocs.make

	change
	* Makefile.am
	* configure.in
	adding new docs from Sun


2002-03-05  Jens Finke <jens@triq.net>

	* libeom/image-view.c (image_view_destroy): Use g_object_unref to
	free GdkPixbuf object and set pointer to NULL (to be safe).

	* viewer/eom-image-view.c (eom_image_view_destroy): Don't unref
	the widget, this is the job of the widgets parent.

	* viewer/eom-image.c (load_image_from_stream): Use g_object_unref
	to free pixbuf loader.
	(load_image_from_file): Free pixbuf loader.

2002-03-04  Jens Finke <jens@triq.net>

	* HACKING: Added explicit rules for the spec file and build fixes.

2002-03-02  Jens Finke <jens@triq.net>

	* libeom/ui-image.c (ui_image_zoom_fit): Adapt calculation of
	xthick, ythick to Gtk2.

2002-03-02  Jens Finke <jens@triq.net>

	* viewer/eom-controlc. (preferred_zoom_level_names): Updated the
	names of the zoom levels to fit previous change. Though I don't
	know if they are really anywhere used :).

2002-03-02  Jens Finke <jens@triq.net>

	* viewer/eom-control.c (preferred_zoom_levels):
	* libeom/image-view.c (MAX_ZOOM_FACTOR): Define consistent zoom
	range from 1 to 2000 percent.

2002-03-01  Jens Finke <jens@triq.net>

	Made the zooming work correctly if you use both the '+','-' Keys and
	the toolbar buttons.

	* viewer/eom-control.c: Renamed max_preferred_zoom_levels to
	n_zoom_levels to give it a meaningfull name.
	(zoomable_set_zoom_level_cb): Don't store zoom level privatly.
	(zoom_index_from_float): Removed function.
	(zoom_level_from_index): Better range checking, return sensible
	value on range error.
	(zoomable_zoom_in_cb), (zoomable_zoom_out_cb): Find the correct
	zoom level.
	(eom_control_construct): Don't initialise private zoom level
	attribute (it's no longer there), use n_zoom_levels variable.

2002-02-28  Jens Finke <jens@triq.net>

	* MAINTAINERS: Added myself with Federico's permission.

2002-02-27  Jens Finke <jens@triq.net>

	* configure.in: Don't create libeom/stock/Makefile.

2002-02-27  Jens Finke <jens@triq.net>

	* libeom/stock/*: Removed all the files in this dir. We use the
	gtk stock icons instead now.

	* libeom/Makefile.am (SUBDIRS): Removed stock dir.

2002-02-24  Jens Finke  <jens@triq.net>

	Released version 0.113.0

	* configure.in: Bumped version to 0.113.0

2002-02-24  Jens Finke  <jens@triq.net>

	* shell/eom-shell-ui.xml: Use gtk stock icon names.

	* viewer/eom-image-view-ctrl-ui.xml: Use gtk stock zoom icons.

2002-02-24  Jens Finke  <jens@triq.net>

	This patch fixes bug #72069. The image viewer component should now
	integrate smoothly into Caja.

	* shell/eom-shell-ui.xml: Made the placeholder compatible with
	caja. Added a 'View' submenu which is hidden by default and
	added new placeholders into it.

	* shell/eom-window.c (add_control_to_ui): Show 'View' menu.

	* viewer/eom-image-view-ctrl-ui.xml:
	* viewer/eom-image-view-ui.xml: Adaptions to changes in
	eom-shell-ui.xml, fixed indention.

2002-02-23  Jens Finke  <jens@triq.net>

	This fixes bug #72228. Due to the string freeze we can't add a
	more verbose error dialog.

	* shell/eom-window.c (get_viewer_control): Use g_warning instead
	of g_error.
	(eom_window_open): Check if the control object could be created
	before adding it to the window. Removed debug message.

2002-02-22  Jens Finke  <jens@triq.net>

	* configure.in: Check version numbers of required libraries.  Use
	PKG_CHECK_MODULES macro to obtain eom cflags and libs variables.

2002-02-20  Federico Mena Quintero  <federico@ximian.com>

	* ChangeLog: Got my head out of my butt and finally merged all the
	individual */ChangeLog files into this one.

	* idl/ChangeLog: Removed.

	* collection/ChangeLog: Removed.

	* libeom/ChangeLog: Removed.

	* shell/ChangeLog: Removed.

	* viewer/ChangeLog: Removed.

2002-02-19  Jens Finke <jens@triq.net>

	* shell/eom-window.c (property_changed_cb),
	(check_for_control_properties): Removed "MateComponent/Property:change:"
	prefix from the event names we are interested in. This makes the
	status bar updates work again.

2002-02-17  Jens Finke <jens@triq.net>

	* configure.in: bump version to 0.112.0

	* Released version 0.112.0

2002-02-17  jacob berkman  <jacob@ximian.com>

	* configure.in: bump the version to 0.111.1

2002-02-16  Jens Finke <jens@triq.net>

	* viewer/eom-image-view-ui.xml: Removed printing menu entries from
	user interface. They don't work for Mate2 yet and won't be in the
	initial Gnom2 desktop release.

2002-02-16  Jens Finke <jens@triq.net>

	* configure.in: Commented out the evolution and gnocam options.
	These aren't supported in the inital mate2 release.

	* Makefile.am: Install desktop file in $(datadir)/applications.

	* eom.desktop.in: Added Categories key.

2002-02-14  Laszlo Peter  <laca@ireland.sun.com>

	* viewer/eom-image-view.c: remove unused eom_image_view_signals
	array.  The zero length array breaks the build with Forte CC.

2002-02-14  Jens Finke <jens@triq.net>

	* viewer/eom-image-view-ctrl-ui.xml: Define labels for the zoom
	toolbar items explicitly. The default ones are too long and
	looking stupid in the toolbar.

2002-02-14  Jens Finke <jens@triq.net>

	* shell/eom-shell-ui.xml (commands/Preferences): Disable command
	by default.

	* shell/eom-window.c (add_control_to_ui): Check if the control has
	a Property_Control interface and enable/disable preference menu
	item according to this check. This fixes the useability issue in
	bug #70833.

2002-02-14  Jens Finke <jens@triq.net>

	* libeom/image-view.c (image_view_expose): Always repaint
	synchronously here, since the expose events are already send async
	by gtk+ 2.0. This fixes the flickering described in bug #70909.
	(redraw_all): Removed this function and replaced all calls to it
	with gtk_widget_queue_draw, which has the same effect.

	* libeom/gtkscrollframe.[ch]: Removed these long dead files.

2002-02-10  Jens Finke <jens@triq.net>

	* viewer/Makefile.am (ui_DATA): Added eom-image-view-ctrl-ui.xml.

	* viewer/eom-control.c (eom_control_create_ui): Use separate xml
	file for matecomponent ui description. This ensures we get translated
	menu items.

	* viewer/eom-image-view-ctrl-ui.xml: New file.

2002-02-10  Jens Finke <jens@triq.net>

	* shell/eom-shell-ui.xml: Added drag'n'drop popup definition.

	* shell/eom-window.c (open_dnd_files),
	(verb_DnDNewWindow_cb), (verb_DnDSameWindow_cb),
	(verb_DnDCancel_cb): New functions regarding to popup menu
	handling.
	(eom_window_drag_data_received): Use matecomponent to create popup menu,
	this ensures it get translated.
	(eom_window_construct): Code cleanup.

2002-02-10  Jens Finke <jens@triq.net>

	* configure.in: Bumped version to 0.111.0

	* Released version 0.111.0.

2002-02-09  Jens Finke <jens@triq.net>

	* viewer/preferences.c (create_prefs_menu): Call gettext for menu
	items to obtain translated string.

2002-02-06  Jens Finke <jens@triq.net>

	* viewer/eom-image-view.c (filesel_ok_cb): Fixed saving routine
	for mate2. Note: this needs CVS libbonbo, otherwise the component
	will crash.

2002-02-05  Abel Cheung  <maddog@linux.org.hk>

	* configure.in (ALL_LINGUAS): zh_CN.GB2312 -> zh_CN

2002-02-04  Jens Finke <jens@triq.net>

	* viewer/eom-full-screen.c (eom_full_screen_init): Don't show
	window decorations.

2002-02-04  Jens Finke <jens@triq.net>

	* viewer/main.c (main): Unrolled MATECOMPONENT_ACTIVATION_FACTORY macro
	content and added bindtextdomain and friends calls. This enables
	translations for this component.

2002-02-04  Jens Finke <jens@triq.net>

	* Released version 0.110.0.

2002-02-03  Jens Finke <jens@triq.net>

	* shell/eom-window.c (eom_window_drag_data_received): Use new
	mate vfs API to extract filenames. This fixes drag'n'drop
	handling for Mate2.

2002-02-03  Jens Finke <jens@triq.net>

	* shell/eom-window.c (eom_window_construct): Set sane default
	window size, fixed automatic window resizing.
	(auto_size),
	(sensitize_zoom_items): Removed dead code.

2002-02-03  Jens Finke <jens@triq.net>

	* configure.in: Bumped version to 0.110.0.

2002-02-02  Michael Meeks  <michael@ximian.com>

	* viewer/eom-control.c (eom_control_set_ui_container): only merge
	in the zoom menus if we don't have a zoomable frame.

2002-02-02  Jens Finke <jens@triq.net>

	* viewer/eom-image-view.c (eom_image_view_destroy): Use
	g_object_unref to free MateConfClient.

2002-02-02  Jens Finke <jens@triq.net>

	* shell/eom-preferences.c (add_property_control_page): Unref
	control object at end of function, code cleanup.
	(eom_preferences_construct): Unref prop_control object.

	* shell/eom-window.c (eom_window_destroy): Use matecomponent_object_unref
	to free control frame object.

2002-02-01  Michael Meeks  <michael@ximian.com>

	* libeom/MATE_EOM.server.in: add Unknown, ItemContainer,
	PersistStream, PersistFile, Persist to the Control.

2002-01-30  Jens Finke <jens@triq.net>

	* viewer/eom-control.c (eom_control_destroy): Removed 'Beware:'
	comment together with it's related matecomponent_object_unref calls. It's
	true these aren't neccessary.
	(eom_control_construct): Re-enabled the adding of the
	property_control interface.

	* viewer/eom-image-view.c (eom_image_view_get_property_control):
	Use matecomponent_property_control_new_full to set the MateComponentEventSource
	explictly. [This is very strange: If we only use
	matecomponent_property_control_new here the component hangs on shut
	down!?!?].
	(eom_image_view_destroy): Removed 'Beware' comment and related
	matecomponent_object_unref call.

2002-01-30  Jens Finke <jens@triq.net>

	* viewer/eom-control.c (eom_control_construct): Re-enabled the
	properties stuff and fixed reference problems there.

	* viewer/eom-image-view.c (eom_image_view_get_property_bag): Don't
	ref the object before returning.

2002-01-30  Jens Finke <jens@triq.net>

	* viewer/eom-control.c: (eom_control_create_ui),
	(eom_control_set_ui_container), (eom_control_unset_ui_container),
	(eom_control_construct): Removed uic pointer from the EomControl
	struct, obtain this by matecomponent_control_get_ui_component where it's
	needed.
	(zoomable_set_zoom_level_cb): Code cleanup.

	* viewer/eom-image-view.c: (eom_image_view_get_property_control),
	(eom_image_view_construct): Create control on demand, don't store
	global pointer in the EomImageView struct.

2002-01-30  Michael Meeks  <michael@ximian.com>

	* libeom/Makefile.am (idl_flags): kill bogus -D_MATECOMPONENT_COMPILATION
	this is not matecomponent compiling.

2002-01-30  Jens Finke <jens@triq.net>

	* libeom/Makefile.am (CLEANFILES): Added BUILT_SOURCES and
	server_DATA files.

2002-01-28  Havoc Pennington  <hp@pobox.com>

	* configure.in (png_ok): put brackets around AC_CHECK_HEADER
	for autoconf 2.5x

2002-01-25  Jens Finke <jens@triq.net>

	Clean up the references held by EomWindow.

	* shell/eom-preferences.c (eom_preferences_construct): Obtain ui
	container through standard matecomponent_window interface.

	* shell/eom-window.c (_EomWindowPrivate): Removed ui_container, ui
	and widget attributes from this struct. These are all accessable
	through the ctrl_frame object. Removed property_control attribute,
	this isn't neccessary here.
	(eom_window_destroy), (eom_window_init),
	(eom_window_has_contents), (eom_window_construct),
	(check_for_control_properties),
	(add_control_to_ui), (eom_window_open),
	(eom_window_get_property_control): Made these functions work
	without the removed global attributes.
	(eom_window_get_ui_container): Removed function, use standard
	matecomponent_window access method instead.

2002-01-25  Jens Finke <jens@triq.net>

	* shell/eom-window.c (verb_HelpAbout_cb): Updated authors list and
	copyright.
	(check_for_control_properties): Use new property bag API names.

2002-01-24  Hasbullah Bin Pit <sebol@ikhlas.com>

	* configure.ini: Added Malay (ms)to ALL_LINGUAS.
	* po/ms.po: Added Malay Translation.

2002-01-23  Jens Finke <jens@triq.net>

	* shell/main.c (main): Applied path from Shingo Akagaki regarding
	bind_textdomain issues. This closes bug #68842.

2002-01-20  Jens Finke <jens@triq.net>

	* configure.in: Added mateconftool-2 check and set the
	MATECONF_CONFIG_SOURCE variable. This is shamelessly stolen from
	mate-core/configure.in.

	* acconfig.h: Added MATECONF related variables.

	* Makefile.am: Fixed mateconf schema file installation.

2002-01-20  Jens Finke <jens@triq.net>

	* matecomponent/*, src/*/*: Removed all files in these long dead
	directories.

2002-01-17  Michael Meeks  <michael@ximian.com>

	* Version 0.109.1

2002-01-15  Michael Meeks  <michael@ximian.com>

	* viewer/eom-control.c (eom_control_construct): fix remaining
	GTK_OBJECT cast.

2002-01-15  Michael Meeks  <michael@ximian.com>

	* shell/eom-window.c (eom_window_construct): get rid of annoying
	auto-activation & concomitant flickering.
	(create_gtk_file_sel): use the (simpler) matecomponent file selection API
	- checkout mate-file-selector to make this really rock.
	(open_delete_event): kill.
	(open_cancel_clicked): kill.
	(open_ok_clicked): fold into
	(create_gtk_file_sel): here and fold into
	(eom_window_open_dialog): Remove all old crufty mate file
	selector code.

2002-01-15  Michael Meeks  <michael@ximian.com>

	* libeom/image-view.c (image_view_class_init): update
	"set_scroll_adjustments" signature to squash warnings.
	(_gtk_marshal_VOID__OBJECT_OBJECT): hack this in, due to extreme
	short-sightedness by gtk+/glib team.

2002-01-15  Michael Meeks  <michael@ximian.com>

	* Version 0.109.0

	* configure.in: update.

	* Makefile.am (install-data-local): make it pass
	distcheck.

2001-12-31  Earle Robert Nietzel <earlero@mi.madritel.es>

	* *.h: use G_BEGIN/END_DECLS instead of MATE_DECLS

	* *.c: switch to g_signal_new everywhere.

2001-12-28  Jens Finke <jens@triq.net>

	* viewer/eom-control.c (zoomable_zoom_in_cb),
	(zoomable_zoom_out_cb),
	(zoomable_zoom_to_fit_cb),
	(zoomable_zoom_to_default_cb),
	(verb_ZoomIn_cb),
	(verb_ZoomOut_cb),
	(verb_ZoomToDefault_cb),
	(verb_ZoomToFit_cb),
	(eom_control_construct): Fixed zoom handling for mate2.

2001-12-28  Jens Finke <jens@triq.net>

	* viewer/Makefile.am (uidir): Install ui xml files in
	$(datadir)/mate-2.0/ui

	* viewer/eom-control.c (eom_control_create_ui): Put zoom_menu into
	the path /menu/ViewPlaceholder/View.

	* viewer/eom-image-view-ui.xml: Define our own 'View' submenu
	within the 'ViewPlaceholder' placeholder.

2001-12-27  Jens Finke <jens@triq.net>

	* viewer/Makefile.am (eom_image_viewer_LDADD): Removed
	$(INTLLIBS). Link the static eom library with -leom. This reduces
	the link time a lot.
	(eom_image_viewer_DEPENDENCIES): Added dependency to libeom.a.

2001-12-27  Jens Finke <jens@triq.net>

	* libeom/Makefile.am: Build only a convenience library without
	libtool. This reduces the link time for the other eom components a
	lot.
	(oaf_DATA),
	(oafdir),
	(oaf_in_files): s/oaf/server. Changed file suffix to
	'.server'. Install .server files in $(libdir)/matecomponent/servers.
	(@INTLTOOL_OAF_RULE@): Use @INTLTOOL_SERVER_RULE@ instead.

	* libeom/MATE_EOM.oaf.in: Renamed to MATE_EOM.server.in.

	* libeom/ui-image[ch], image-view.[ch]: Ported to GObject type
	system.

2001-12-27  Jens Finke <jens@triq.net>

	* acconfig.h: Added #undef GETTEXT_PACKAGE

	* configure.in: Set GETTEXT_PACKAGE variable. Translations should
	work now again.

2001-12-27  Jens Finke <jens@triq.net>

	* configure.in: Removed AM_PROG_LIBTOOL. We just build a
	convinience library in libeom/ and don't need libtool for this.

	* Makefile.am (SUBDIRS): Don't visit collection/ dir. This isn't
	ready for mate2 and needs more porting effort.

2001-12-27  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added portuguese to ALL_LINGUAS

2001-12-28  Jens Finke <jens@triq.net>

	* shell/eom-shell-ui.xml: Renamed placeholder 'View' to
	'ViewPlaceholder'.

2001-12-27  Jens Finke <jens@triq.net>

	Ported EomWindow to the GObject based type system. Fixed warning
	and error messages when quitting the program directly after
	starting it.

	* shell/eom-window.[ch] (verb_FileExit_cb): Free window list after
	traversing.
	(eom_window_get_type): Use GType type system.
	(eom_window_destroy): This function is now callable multiple times
	on the same object without crashing. Don't remove window from the
	window list here.
	(eom_window_finalize): New function for freeing the
	EomWindowPrivate data structure.
	(eom_window_class_init): Added callback for GObject finalize
	method. Set property_control = CORBA_OBJECT_NIL.
	(eom_window_delete): Simplified function.
	(eom_window_new): Use g_object_new to create new instance.
	(eom_window_construct): Don't connect to delete event. This is
	already done in eom_window_class_init.
	(eom_window_close): Remove window from window list.

2001-12-27  Jens Finke <jens@triq.net>

	* shell/eom-window.c (eom_window_close): Use matecomponent_main_quit
	instead of gtk_main_quit.
	(get_viewer_control): Rewrote this function. We don't make a
	general matecomponent activation query here anymore, but specify the
	control through it's iid. This is because we want _our_ control
	here and because the query mechanism doesn't work correctly.

	* shell/main.c (handle_cmdline_args): Use matecomponent_main_quit instead
	of gtk_main_quit.

2001-12-27  Jens Finke <jens@triq.net>

	* shell/Makefile.am (eom_LDADD): Removed $(INTLLIBS). Link the
	static eom library with -leom. This reduces the link time a lot.
	(eom_DEPENDENCIES): Added dependency to libeom.a.

2001-12-26  Jens Finke <jens@triq.net>

	* viewer/.cvsignore: Added *~ and ~.o.

	* viewer/eom-control.[ch]: Ported to the gobject type system.
	(eom_control_construct): Commented out the property and zoom
	interface handling. This needs more mate2 porting.

	* viewer/eom-image-view.[ch]:
	* viewer/eom-image.[ch]: Ported to the gobject type system.

2001-12-22  Jens Finke <jens@triq.net>

	* viewer/main.c: Use BONOB_ACTIVATION_FACTORY macro instead of
	deprecated MATECOMPONENT_OAF_FACTORY_MULTI. Added #include
	<matecomponent/matecomponent-ui-main.h>, to let the macro initialize the gui
	stuff too.

2001-12-20  Jens Finke <jens@triq.net>

	* viewer/Makefile.am: Removed the sample-container stuff.
	(SOURCES): Removed the embeddable stuff for now. This needs more
	porting effort due to completely new matecomponent interfaces.

	* viewer/eom-image-view.c:
	s/matecomponent_property_bag_set_value/matecomponent_pbclient_set_value,
	s/matecomponent_property_bag_get_value/matecomponent_pbclient_get_value,
	(filesel_ok_cb): #if NEED_MATE_2_PORTING
	(print_page): Use mate_print_rgbimage functions.

	* viewer/eom-image.c (eom_image_class_init): Removed
	gtk_object_class_add_signals call. Does there exist a replacement
	for this in Gtk 2.0?
	(eom_image_get_object): Ignore embeddable requests.

	* viewer/eom-preview.c (eom_preview_update): Use
	matecomponent_pbclient_get_value.

	* viewer/eom-print-setup.c (get_paper_name_list): New function.
	(eom_print_setup_new): Use get_paper_name_list, the
	mate_paper_name_list function doesn't exist anymore in
	libmateprint.

	* viewer/eom-util.c (eom_util_load_print_settings),
	(eom_util_paper_size): libmateprint2 porting.

	* viewer/main.c (eom_image_viewer_factory): Ignore embeddable
	requests.

2001-12-06  Jens Finke <jens@triq.net>

	* shell/README: Removed it, it's totally outdated.

2001-12-06  Thomas Canty <tommydal@optushome.com.au>

	* shell/Makefile.am: directory for matecomponent xml files is mate-2.0
	not mate

2001-12-05  Jens Finke <jens@triq.net>

	* viewer/Makefile.am (INCLUDES): Use EOM_CFLAGS.
	(sample_container_LDADD),
	(eom_image_viewer_LDADD): Use EOM_LIBS.

2001-12-05  Jens Finke <jens@triq.net>

	* Makefile.am: Switch from xml-i18n-tools to intltool.
	(INCLUDES): Use EOM_CFLAGS.
	(eom_collection_LDADD): Use EOM_LIBS.

2001-12-13  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added "sk" to ALL_LINGUAS.

2001-12-06  Jens Finke <jens@triq.net>

	* .cvsignore,
	* Makefile.am: s/xml-i18n/intltool

2001-12-05  Jens Finke <jens@triq.net>

	* libeom/Makefile.am: (libeom_la_LIBADD): Use EOM_LIBS.
	(INCLUDES): Use EOM_CFLAGS.
	(idl_flags): Don't call mate-config.

2001-12-05  Jens Finke <jens@triq.net>

	* Makefile.am: Switch from xml-i18n-tools to intltool.
	(INCLUDES): Use EOM_CFLAGS.
	(eom_collection_LDADD): Use EOM_LIBS.

2001-12-05  Jens Finke <jens@triq.net>

	* Makefile.am (SUBDIRS): Removed intl directory.

	* configure.in: Replaced EXTRA_MATE_[CFLAGS|LIBS] and
	MATE_[CFLAGS|LIBS] with EOM_[CFLAGS|LIBS]. Don't create Makefile
	in intl directory.

2001-11-28  Seth Nickell  <snickell@stanford.edu>

	* viewer/Makefile.am:
	* viewer/eom-control.c: (eom_control_finalize),
	(zoomable_set_zoom_level_cb), (eom_control_set_ui_container),
	(eom_control_unset_ui_container), (eom_control_activate),
	(eom_control_class_init), (eom_control_construct):
	* viewer/eom-control.h:
	* viewer/eom-embeddable-view.c: (eom_embeddable_view_finalize),
	(eom_embeddable_view_class_init), (eom_embeddable_view_construct):
	* viewer/eom-embeddable-view.h:
	* viewer/eom-embeddable.c: (eom_embeddable_finalize),
	(eom_embeddable_class_init):
	* viewer/eom-embeddable.h:
	* viewer/eom-full-screen.c: (eom_full_screen_finalize),
	(eom_full_screen_class_init):
	* viewer/eom-full-screen.h:
	* viewer/eom-image-io.h:
	* viewer/eom-image-view.c: (filesel_ok_cb), (eom_image_view_print),
	(eom_image_view_create_ui), (eom_image_view_set_ui_container),
	(eom_image_view_unset_ui_container), (eom_image_view_finalize),
	(eom_image_view_class_init):
	* viewer/eom-image-view.h:
	* viewer/eom-image.c: (eom_image_finalize), (eom_image_class_init),
	(load_image_from_stream), (load_image_from_file),
	(eom_image_add_interfaces):
	* viewer/eom-image.h:
	* viewer/eom-preview-page.c:
	* viewer/eom-preview-page.h:
	* viewer/eom-preview.h:
	* viewer/eom-print-setup.c: (eom_print_setup_new):
	* viewer/eom-print-setup.h:
	* viewer/eom-util.c: (eom_util_load_print_settings),
	(eom_util_paper_size):
	* viewer/eom-util.h:
	* viewer/preferences.h:
	* viewer/sample-container.c:

	Initial port to MATE2.

2001-11-28  Seth Nickell  <snickell@stanford.edu>

	* libeom/Makefile.am:
	* libeom/image-view.c: (image_view_class_init), (image_view_finalize),
	(image_view_size_allocate):
	* libeom/image-view.h:
	* libeom/ui-image.c: (ui_image_get_type), (ui_image_class_init),
	(ui_image_init), (ui_image_zoom_fit):
	* libeom/ui-image.h:

	Initial port to MATE2.

2001-11-28  Seth Nickell  <snickell@stanford.edu>

	* Makefile.am:
	* autogen.sh:
	* configure.in:
	* collection/Makefile.am:

	Initial porting to MATE 2.

2001-11-05  Jens Finke <jens@triq.net>

	* shell/eom-window.[ch] (verb_FileExit_cb),
	(eom_window_destroy),
	(eom_window_construct),
	(add_control_to_ui): More MATE2 porting.
	(eom_window_get_ui_container): Return MateComponentUIContainer rather
	than MateComponent_UIContainer.
	(eom_window_drag_data_received): Disabled the uri list extracting
	for now so that it at least compiles. I suppose the whole function
	needs more porting effort.

	* shell/eom-preferences.c: s/MateComponent_UIContainer/MateComponentUIContainer,
	needed due to the changes in eom_window_get_ui_container.

	The eom shell should now compile and run with MATE2.

2001-11-05  Jens Finke <jens@triq.net>

	* shell/Makefile.am: Removed idl related parts, it's in libeom.
	(INCLUDES): Use EOM_CFLAGS.
	(eom_LDADD): Use EOM_LIBS.

2001-11-28  Seth Nickell  <snickell@stanford.edu>

	* shell/Makefile.am:
	* shell/eom-preferences.c: (eom_preferences_finalize),
	(eom_preferences_class_init):
	* shell/eom-preferences.h:
	* shell/eom-window.c: (verb_HelpAbout_cb),
	(eom_window_drag_data_received), (eom_window_new),
	(eom_window_construct), (get_viewer_control),
	(get_collection_control), (get_collection_control_list):
	* shell/eom-window.h:
	* shell/main.c: (main):

	Initial port to MATE2.

2001-09-30  Benedikt Roth  <Benedikt.Roth@gmx.net>

	* viewer/MATE_EOM.oaf.in: Removed unused duplicated file

2001-09-30  Benedikt Roth  <Benedikt.Roth@gmx.net>

	* libeom/MATE_EOM.oaf.in: Modified so "View as Embeddable EOM
	Image" won't show up in caja

2001-09-29  Michael Meeks  <michael@ximian.com>

	* viewer/*.h: fixup trailing gunk after endifs.

2001-09-27  Jody Goldberg <jgoldberg@home.com>

	* libeom/image-view.c (image_view_set_zoom) : add a minimum zoom
	  to avoid massive memory allocations in gdk-pixbuf.

2001-08-29  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* shell/eom-window.c (add_control_to_ui): If we fail to create a
	widget, print a warning and return instead of continuing (and
	crashing).

2001-08-21  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* collection/.cvsignore: Ignore Evolution-Composer*

	* collection/Makefile.am: if ENABLE_EVOLUTION, generate Evolution
	files

	* colleciton/cimage.c: (img != NULL) -> IS_CIMAGE (img)

	* collection/eom-collection-control.[c,h]:
	EomControl -> EomCollectionControl,
	eom_control -> eom_collection_control,
	EOM_CONTROL -> EOM_COLLECTION_CONTROL

	* collection/eom-collection-model.[c,h]: EOM_COLLECTION_MODEL_TYPE
	-> EOM_TYPE_COLLECTION_MODEL
	(eom_collection_model_foreach): New
	(eom_collection_model_remove_item): New
	(eom_collection_model_set_select_status): New

	* collection/eom-collection-view.[c,h]: Implement pop up menu with
	"Send" (only #ifdef ENABLE_EVOLUTION) and "Move to Trash" items.
	EOM_COLLECTION_VIEW_TYPE -> EOM_TYPE_COLLECTION_VIEW

	* collection/eom-item-factory.c: EOM_COLLECTION_MODEL_TYPE ->
	EOM_TYPE_...

	* collection/eom-wrap-list.[c,h]: We have now signals here:
	RIGHT_CLICK and DOUBLE_CLICK. Ifdef'd out unused code.

	* collection/main.c: eom_control_new -> eom_collection_control_new

2001-08-16  jacob berkman  <jacob@ximian.com>

	* shell/eom-window.c: update file sel stuff to new api

2001-08-14  Abel Cheung  <maddog@linux.org.hk>

	* configure.in(ALL_LINGUAS): zh_TW.Big5 -> zh_TW

2001-08-12  Abel Cheung  <maddog@linux.org.hk>

	* viewer/preferences.c: Fixed buglet in translation string.

2001-08-07  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image.c: Our parent class is MateComponentXObjectClass.

	* viewer/eom-image-view.c: Unref the camera if operation has been
	cancelled.

2001-08-07  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view.c: Remove the listener after capturing is
	done.

2001-08-03  jacob berkman  <jacob@ximian.com>

	* shell/eom-window.c (create_matecomponent_file_sel): _set_usize() the
	dialog since matecomponent size stuff happens after realize time
	(eom_window_open_dialog): set the window icon on the open dialog

2001-08-01  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view.c: Make capturing of images async.

2001-08-01  jacob berkman  <jacob@ximian.com>

	* shell/eom-window.c (verb_FileExit_cb): destroy the windows
	rather than unreffing them

2001-07-31  jacob berkman  <jacob@ximian.com>

	* shell/eom-window.c (eom_window_destroy): remove our listener,
	and release our event source
	(create_matecomponent_file_sel): retain pointers to our listener id and
	event source

2001-07-19  jacob berkman  <jacob@ximian.com>

	* shell/eom-window.c (create_matecomponent_file_sel): set multi-select to
	the open_new_window mateconf value
	(listener_cb): use the new api - string sequences

2001-07-18  jacob berkman  <jacob@ximian.com>

	* shell/eom-window.c (create_matecomponent_file_sel): set some of the new
	properties on the file sel

2001-07-17  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view.c: MATE_Camera_captureImage will just
	return a path.  Therefore, get the storage, capture the image, and
	then get a stream for the path.

2001-07-17  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/.cvsignore: Ignore GnoCam*.

	* viewer/Makefile.am: Build GnoCam[.h,-common.c,-skels.c,-stubs.c]
	if ENABLE_GNOCAM.

	* viewer/eom-image-view-ui.xml: Don't add the "Send" menu item
	here, do it...

	* viewer/eom-image-view.c: ... here only if ENABLE_EVOLUTION. If
	ENABLE_GNOCAM, add menu item "Acquire from camera" which lets you
	capture images with your camera and display it in EOM.

	* viewer/eom-image.[c,h]: Add (eom_image_load_image_from_stream)
	and make
	(eom_image_save_to_stream) consistent.

2001-07-17  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* shell/main.c: #include <libmateui/mate-window-icon.h>

2001-07-17  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* configure.in: Fix check for evolution (--without didn't work). Add
	check for GnoCam.idl
	* acconfig.h: #undef ENABLE_GNOCAM

2001-07-13  jacob berkman  <jacob@ximian.com>

	* shell/eom-window.c (eom_window_construct): don't set the default
	window icon, as matecomponent does this now
	(create_matecomponent_file_sel): delimit mime-types with : rather than ;
	(create_matecomponent_file_sel): use the new moniker way of setting
	properties

	* shell/main.c (main): set the default window icon

2001-07-13  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added nn to ALL_LINGUAS.

2001-07-11  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

        * viewer/Makefile.am: Remove EXTRA_[MATECOMPONENT,VFS]_[LIBS,CFLAGS],
	those are in EXTRA_MATE_[LIBS,CFLAGS] now.

	* viewer/eom-control.c: Set shadow type here.

2001-07-11  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

        * shell/Makefile.am: Remove EXTRA_[MATECOMPONENT,VFS]_[LIBS,CFLAGS], those are in
        EXTRA_MATE_[LIBS,CFLAGS] now.

	* shell/main.c: Remove glade_mate_init - we don't need it.

2001-07-11  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

        * libeom/Makefile.am: Remove EXTRA_[MATECOMPONENT,VFS]_[LIBS,CFLAGS],
	those are in EXTRA_MATE_[LIBS,CFLAGS] now.

	* libeom/image.[c,h]: Removed.
	* libeom/ui-image.c: Set shadow type to GTK_SHADOW_NONE.

2001-07-11  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* collection/Makefile.am: Remove EXTRA_[MATECOMPONENT,VFS]_[LIBS,CFLAGS],
	those are in EXTRA_MATE_[LIBS,CFLAGS] now.

2001-07-11  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* configure.in: Don't check for libglade - we don't use it. Remove
	EXTRA_VFS_LIBS and EXTRA_MATECOMPONENT_LIBS, put those into EXTRA_MATE_LIBS.
	Same with *_CFLAGS. This greatly reduces compilation time on my system.

2001-07-08  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	Now trying to plug ref counting leaks in gnumeric: even more debugging
	stuff (shows up when DEBUG_EOM=1).

	* viewer/eom-embeddable-view.c: Debugging stuff.

	* viewer/eom-image-view.c: Debugging stuff.

2001-07-08  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view.c: Use the filename for filename and
	description (attachment data).

2001-07-08  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-control.c: ZoomMenu -> ZoomOperations
	* viewer/eom-embeddable.c: Debugging stuff added.
	* viewer/eom-image-view-ui.xml: Print -> PrintOperations
	* viewer/eom-image-view.c: Debugging stuff added.

2001-07-08  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* shell/eom-shell-ui.xml: Print -> PrintOperations

2001-07-05  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image.c: Doh, free the old filename before loading a new image.
	Use MATECOMPONENT_EX. Clean up on error: unref the uri.

2001-07-05  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image.[c,h]: Don't rely on libeom/image.[c,h] to keep
	pixbuf and filename - we can do that ourselves.

	* viewer/eom-image-view.c: Get the pixbuf directly from eom-image,
	not through libeom/Image.

2001-07-05  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-data.[c,h]: Removed. Those two files have been
	renamed to eom-image-io.[c,h] a long time ago.

2001-07-05  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	Only show debugging messages if environment variable DEBUG_EOM is set
	to some value.

	* viewer/eom-control.c: Debugging stuff added.
	* viewer/eom-image-view.c: Debugging stuff added.
	* viewer/eom-image.c: Debugging stuff added. Don't create a new image each
	time something gets loaded. Recycle an existing one.
	* viewer/main.c: Debugging stuff added.

2001-07-05  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* shell/eom-window.c: Unref the old property control before
	getting a new one.

2001-07-04  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* configure.in: Use AC_CHECK_FILE instead of "test -f ...". This will
	let configure have access to cached values, reduce configure.in by 2
	lines and print a nice warning about cross compilation issues.

2001-07-03  Jens Finke <jens@gnome.org>

	Finally added a patch from
	Juan Pablo Mendoza <pablo_juan@yahoo.com>:

	* shell/eom-window.c (eom_window_drag_data_received): Add support
	for GDK_ACTION_ASK when draging files to EOM.
	(set_drag_dest): Also accept GDK_ACTION_ASK.

2001-06-30  Jens Finke <jens@gnome.org>

	* viewer/eom-image.c: Call gdk_pixbuf_loader_close before
	gdk_pixbuf_loader_get_pixbuf. Otherwise we fail to open xpm and
	tiff images, due to some hacks in gdk-pixbuf.

2001-06-30  Jens Finke <jens@gnome.org>

	* collection/eom-image-loader.c: Call gdk_pixbuf_loader_close
	before gdk_pixbuf_loader_get_pixbuf. Otherwise we fail to open xpm
	and tiff images, due to some hacks in gdk-pixbuf.

2001-06-30  Jens Finke <jens@gnome.org>

	* collection/eom-collection-control.c: Don't store reference to
	root widget.

2001-06-29  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-full-screen.[c,h]: New file (resurrected from eom/src).
	* viewer/Makefile.am: Add above files.
	* viewer/eom-image-view-ui.xml: Separate menus and commands. Add entry for
	full screen.
	* viewer/eom-image-view.c: Callback for full screen. Formatting.

2001-06-29  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* shell/eom-window.c: Remove debugging message which got checked in.

2001-06-29  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* shell/e-dialog-widgets.[c,h]:
	* shell/preferences.[c,h]:
	* shell/preferences-dialog.glade: Removed.

	* shell/eom-window.c:
	* shell/Makefile.am: Reflect above changes.

	* shell/eom-preferences.c: Plug leaks (i.e. unref the property bag
	so that our eom-image-viewer can exit).

2001-06-27  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	Ok, I got it. eom-image-viewer now exits when unused [1]. It basically
	boils down to adding stuff with matecomponent_object_add_interface only when
	ref_count == 1 _and_ not touching it afterwards
	(i.e. _not_ matecomponent_object_unref). God knows why...

	[1] Using "moniker-test -c file:/path/to/file". When using eom, the
	eom-image-viewer will still be alive after exiting eom. This has yet
	to be investigated.

	* viewer/eom-control.c: Small changes (see above).
	* viewer/eom-image-view.c Small changes (see above).

2001-06-27  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-control.c: Don't keep references to the widget (displayed by the
	control) and the image - we simply don't need them. Unref the
	image-view on destroy - we created it during construction.

2001-06-27  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/main.c: Kill 50% of all lines by using MATECOMPONENT_OAF_FACTORY_MULTI.
	* viewer/eom-image.c: Initialize mate-vfs here (if needed).

2001-06-27  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view.c: In an attempt to clean up in order to be able
	to find the ref-leaks, remove the (unused) MateComponentItemContainer.

2001-06-27  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/Makefile.am: Compile sample-container again (noinst)
	* viewer/sample-container.c: Rewrite to properly clean up behind. The
	eom-image-viewer is still alive after sample-container is done,
	therefore the ref-leaks seem to be in the eom-image-viewer and not
	in the shell.

2001-06-27  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* shell/eom-window.c: Unref the property control on destroy. Now,
	the eom-image-viewer shuts down after exiting eom. Don't ref the
	control widget - it'll get unref'd automatically on
	container_remove or exit.  All other changes to improve
	readability (I needed them in order to discover above problem).

2001-06-26  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/.cvsignore: Ignore generated Evolution* files

2001-06-26  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	While searching why eom-image-viewer is still alive even after exiting
	eom...

	* shell/eom-window.c: Fix two compile warnings
	(ENABLE_MATECOMPONENT_FILESEL), use MATECOMPONENT_EX and
	matecomponent_object_release_unref (makes code more readable)

2001-06-26  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* shell/.cvsignore: Ignore eom (formerly eom-shell)

2001-06-25  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view-ui.xml: Add menu entry "Send" for sending
	images via email

	* viewer/eom-image-view.c: (verb_Send_cb): new. Starts a composer
	and attaches the current image.
	(eom_image_view_create_ui): Connect signal to above function.

2001-06-25  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* configure.in: Check if evolution is there, but let the user override
	this check with --without-evolution.

2001-06-25  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* acconfig.h: #undef ENABLE_EVOLUTION
	* configure.in: Give the user the option to compile with evolution
	support (sending images via evolution's composer).

2001-06-14  Jens Finke <jens@gnome.org>

	* collection/eom-collection-preferences.c:
	(ecp_create_view_page): Merged code from
	ecp_create_(layout|color)_page into this new function, so we have
	all properties on one page. Also added mateconf support for storing
	the settings and beautified the dialog.
	(ecp_create_color_page), (ecp_create_layout_page): Removed.
	(ecp_activate_layout_cb), (ecp_activate_color_cb): Use mateconf for
	storing settings.
	(eom_collection_preferences_create_page): Create only one page
	through ecp_create_view_page.

	* collection/eom-collection-view.[ch]:
	(prop_control_get_prop): Handle only one property page.
	(layout_changed_cb), (color_changed_cb): New functions, callbacks
	for changes in the mateconf database.
	(set_configuration_values): New function, obtain values from mateconf
	database and install listeners to key changes.
	(eom_collection_view_construct): Init mateconf, use
	set_configuration_values.
	(eom_collection_view_set_layout_mode),
	(eom_collection_view_set_background_color): Removed.

2001-06-13  Stanislav Brabec  <utx@penguin.cz>

	* configure.in: Undef HAVE_STDDEF_H and HAVE_STDLIB_H in
	jpeglib.h test, otherwise file is not sometimes detected.
	Still causes warning while compiling in such case.

2001-06-12  jacob berkman  <jacob@ximian.com>

	* shell/eom-window.c (listener_cb): fix to use new event names,
	and handle when cancel is clicked

2001-06-07  jacob berkman  <jacob@ximian.com>

	* shell/eom-window.c (listener_cb): callback for events emitted by
	the file selector
	(create_matecomponent_file_sel): creates a matecomponent file selector.  if the
	control creation fails (due to the file selector seg faulting or
	not being present) a normal gtk one is created
	(eom_window_open_dialog): if matecomponent filesel is enabled, try to
	create one instead of the gtk one

	please note that this stuff leaks matecomponent references probably

2001-06-07  jacob berkman  <jacob@ximian.com>

	* configure.in: add configure option to enable new file selector
	(off by default)

2001-06-05  Jens Finke <jens@gnome.org>

	To see the effect of these changes go into a directory with a lot
	of .png's and type: eom *.png.

	* shell/eom-window.c (get_file_control): Renamed to
	get_viewer_control.
	(get_directory_control): Renamed to get_collection_control.
	(get_collection_control_list): New function, creates a collection
	with a list of multiple URIs.
	(add_control_to_ui): New helper function.
	(eom_window_open): Use add_control_to_ui helper function.
	(eom_window_open_list): New function, opens multiple URIs within a
	collection.

	* shell/eom-window.h (eom_window_open_list): New function.

	* shell/main.c (create_app): Free text uri.
	(create_app_list): Opens a new window with a list of URIs.
	(make_canonical_uri),
	(sort_startup_files),
	(open_in_single_windows),
	(user_wants_collection),
	(handle_cmdline_args): New helper functions.
	(main): Improved poptContext handling use handle_cmdline_args.

2001-06-05  Federico Mena Quintero  <federico@ximian.com>

	* Makefile.am: Removed schemadir and schema_DATA since the schemas
	are *NOT* to be installed manually; they need to be installed with
	MateConf's tools.

2001-06-05  Jens Finke <jens@gnome.org>

	* README: Updated URLs, dependencies and authors list.

2001-06-01  Jens Finke <jens@gnome.org>

	* collection/Makefile.am (INCLUDES), (eom_collection_LDADD): Added
	mate-vfs flags.

	* collection/cimage.[ch] (cimage_new): Create MateVFSURI from
	text uri and use cimage_new_uri.
	(cimage_new_uri): New function, creates an cimage from
	MateVFSURI.
	(cimage_get_uri): Return MateVFSURI object.
	(cimage_is_directory): Use MateVFS functions to determine file
	type.

	* collection/eom-collection-model.c (loading_context_free): New
	helper function.
	(directory_visit_cb): New function, opens a single file contained
	in a directory.
	(real_storage_loading): Renamed to real_dir_loading, uses MateVFS
	functions now, removed all the MateComponentStorage/Stream stuff.
	(directory_filter_cb): New function, determines what kind of files
	we can handle within a directory.
	(real_stream_loading): Renamed to real_file_loading, uses MateVFS
	functions now, removed all the MateComponentStorage/Stream stuff.
	(eom_collection_model_set_uri),
	(eom_collection_model_set_uri_list),
	(prepare_context): Use MateVFS functions, removed all the
	MateComponentStorage/Stream stuff.

	* collection/eom-collection-view.c (eom_collection_view_get_prop):
	Adapted to cimage changes.

	* collection/eom-image-loader.c (load_uri): Use MateVFS
	functions, removed all the MateComponentStorage/Stream stuff.

	* collection/eom-item-factory-simple.c (ii_factory_update_item):
	Adapted to cimage changes.

	* collection/main.c (init_server_factory): Call mate-vfs-init.

2001-05-31  Jens Finke <jens@gnome.org>

	* viewer/Makefile.am: Stop building the sample-container program.
	(INCLUDES), (eom_image_viewer_LDADD): Added MateVFS flags.

	* viewer/eom-image-view.c (load_image_from_file): The filename
	will be interpreted as an URI now, using gdk_pixbuf_loader system
	to load the image.

	* viewer/main.c (init_server_factory): Added mate_vfs_init call.

2001-05-31  Jens Finke <jens@gnome.org>

	* shell/Makefile.am (INCLUDES), (eom_LDADD): Added vfs flags.

	* shell/eom-window.c (get_file_control),
	(get_directory_control),
	(eom_window_open): We now use MateVFSURI for file handling here.

	* shell/main.c (main): Added mate_vfs_init () call.

2001-05-31  Jens Finke <jens@gnome.org>

	* shell/Makefile.am: Renamed binary from eom-shell to eom.

2001-05-31  Jens Finke <jens@gnome.org>

	* collection/Makefile.am (INCLUDES): Added $(EXTRA_MATE_CFLAGS)
	[all these extra flags are really a mess, maybe its time for a
	cleanup].
	(eom_collection_LDADD): Added $(EXTAR_MATE_LIBS).

2001-05-31  Jens Finke <jens@gnome.org>

	* configure.in: Added check for mate-vfs >= 1.0.0 and set
	appropriate variables.

2001-05-30  Jens Finke <jens@gnome.org>

	* collection/cimage.[ch]: (cimage_set_dimensions),
	(cimage_get_width), (cimage_get_height): New functions.

	* collection/eom-collection-model.[ch]:
	(eom_collection_model_get_selected_image): New function, which
	returns the single selected image.

	* collection/eom-collection-view.c:
	(eom_collection_view_get_prop): If only a single image is
	selected, provide detailed informations about it in the
	'window/status' text.

	* collection/eom-image-loader.c (loading_finished): Set image
	dimensions.

2001-05-29  Jens Finke <jens@gnome.org>

	* viewer/eom-image-view.c:
	(eom_image_view_get_prop): Set only image filename as window
	title, add handler for 'window/status' property.
	(image_view_zoom_changed_cb): New function, informs listeners to
	'window/status' about changed zoom factor.
	(eom_image_view_construct): Connect to 'zoom_changed' signal, add
	matecomponent property 'window/status'.

2001-05-29  Jens Finke <jens@gnome.org>

	* viewer/eom-image-view.c (eom_image_view_construct): Changed
	properties to 'image/width', 'image/height' and
	'window/title'. This is more consistent with the rest of the
	matecomponent property naming scheme.

2001-05-29  Jens Finke <jens@gnome.org>

	* shell/eom-window.c (eom_window_construct): Added a statusbar to
	the window bottom.
	(title_changed_cb): Renamed to property_changed_cb, which handles
	all changed control properties.
	(set_window_title): Renamed to check_for_control_properties. It
	checks for 'window/title' and 'window/status' which actually sets
	the window title and the status message and installs listeners to
	them.
	(eom_window_open): Make sure the path is an absolute path.

2001-05-29  Jens Finke <jens@gnome.org>

	* libeom/image-view.[ch]: Added new 'zoom_changed' signal.
	(image_view_key_pres): Use GDK_plus key as shortcut for zooming
	into an image (enables this also for non-american keyboards).
	(image_view_set_zoom): Emit 'zoom_changed' signal.

2001-05-29  Jens Finke <jens@gnome.org>

	* collection/eom-collection-model.[ch]:
	(eom_collection_model_class_init): Add 'base_uri_changed' signal.
	(eom_collection_model_set_uri),
	(eom_collection_model_set_uri_list): Emit 'base_uri_changed' if
	neccessary.
	(eom_collection_model_toggle_select_status),
	(select_all_images),
	(unselect_all_images): Emit 'selection_changed' signal.
	(eom_collection_model_get_selected_length): New function, which
	returns the number of selected images.

	* collection/eom-collection-view.c: Renamed properties to
	'window/title' and 'window/status', which is more consistent with
	the rest of the matecomponent property naming scheme.
	(eom_collection_view_get_prop): View only the base_uri of this
	collection, new handler for the PROP_WINDOW_STATUS property.
	(update_properties),
	(update_status_text),
	(update_title_text),
	(model_size_changed),
	(model_selection_changed),
	(model_base_uri_changed): New functions (or slightly renamed),
	which introduce a nice async property change client notification.
	(eom_collection_view_construct): Connect to new model signals.

2001-05-28  Jens Finke <jens@gnome.org>

	* viewer/eom-print-setup.c (eom_print_setup_new): Added gettext
	hint for translation. This should fix bug #55349.

2001-05-27  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* libeom/Makefile.am: $(BUILT_SOURCES) got added to CLEANFILES two
	times? I guess one time is enough...

2001-05-22  Jens Finke <jens@gnome.org>

	* collection/eom-collection-view.c: Oops, forgot it at last
	commit.

2001-05-21  Jens Finke <jens@gnome.org>

	* viewer/eom-image-view.c: Renamed matecomponent:title property to
	window_title, due to problems with the matecomponent_event_make_name
	function in matecomponent-listener.c.

2001-05-21  Jens Finke <jens@gnome.org>

	* viewer/eom-image.c (load_image_from_stream): Try to retrieve the
	name of the stream and set it as filename. We need this to
	assemble a nice matecomponent:title. Unfourtunately the matecomponent stream
	implementation is broken, so it doesn't work yet.

2001-05-21  Jens Finke <jens@gnome.org>

	* viewer/eom-image-view.c: Added three new read-only properties:
	'image_width', 'image_height' and 'matecomponent:title'.
	(eom_image_view_get_prop): Added handler for the new properties.
	(eom_image_view_construct): Add new properties to the
	property_bag.

	* viewer/eom-image.c (load_image_from_file): Initialize filename
	in the Image-struct.

2001-05-21  Jens Finke <jens@gnome.org>

	* shell/eom-window.c (title_changed_cb) New function to update the
	window title.
	(set_window_title): Listen to changes to the 'window_title'
	property of the embedded control.

2001-05-21  Jens Finke <jens@gnome.org>

	* shell/eom-window.c (set_window_title): New function, which
	retrieves the window title from the control property
	'matecomponent:title'.
	(eom_window_open): Call set_window_title.

2001-05-21  Jens Finke <jens@gnome.org>

	* collection/eom-collection-model.c:
	* collection/eom-image-loader.c:
	* collection/eom-item-factory-simple.c:
	* collection/eom-wrap-list.c: Guarded debug messages with #ifdef
	COLLECTION_DEBUG. Some were so unneccessary that I removed them
	completely.

2001-05-21  Jens Finke <jens@gnome.org>

	* collection/eom-collection-control.c (eom_control_construct): Add
	property bag to control.

	* collection/eom-collection-model.[ch]: Added a base_uri
	attribute, which stores the common part of all viewed URIs. Maybe
	this doesn't work under all conditions.
	(eom_collection_model_set_uri),
	(eom_collection_model_set_uri_list): Set base_uri.
	(eom_collection_model_get_base_uri): New function.

	* collection/eom-collection-view.[ch]: Added property bag
	attribute.
	(eom_collection_view_get_property_bag),
	(eom_collection_view_get_prop),
	(eom_collection_view_set_prop): New functions.
	(update_title_property),
	(model_interval_size_changed): New functions to update the
	'window_title' property correctly.
	(eom_collection_view_construct): Create property bag and listen to
	model interval changes.

2001-05-18  Jens Finke <jens@gnome.org>

	* viewer/eom-image-view.c (image_set_image_cb): Enlarge window to
	image size on loading.

2001-05-18  Jens Finke <jens@gnome.org>

	* shell/eom-window.c (eom_window_construct): Removed
	gtk_widget_set_usize function and replaced it with
	gtk_window_set_geometry_hints. Added window icon and allowed the
	window to shrink automatically.

2001-05-18  Jens Finke <jens@gnome.org>

	* libeom/image-view.[ch] (image_view_get_scaled_size): New
	function, which returns the image width and height, but takes also
	the zoom factor into account.

	* libeom/ui-image.[ch] (ui_image_fit_to_screen): New function,
	tries to show the whole image with zoom factor 1.0, if this
	doesn't fit onto the screen, then it scales the image down.

2001-05-07  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	Reduce complexity, make Image obsolete.

	* libeom/Makefile.am: Do not compile image.[c,h].

	* libeom/image-view.[c,h]: Don't use the Image to keep the
	pixbuf. We can do that ourselves.

	* libeom/ui-image.[c,h]: Get the pixbuf using the ImageView, not
	Image.

2001-04-27  Jens Finke <jens@gnome.org>

	* configure.in: Check for matecomponent version >= 1.0.0. We really need
	this, otherwise the collection crashes.

2001-04-23  Jens Finke <jens@gnome.org>

	* idl/Eom.idl (MATE::EOM:URIList): Added.
	(MATE::EOM::ImageCollection): New method openURIList.

2001-04-23  Jens Finke <jens@gnome.org>

	This patch enables the collection component to load a bunch of
	single files too. It's even possible to mix directory contents and
	simple files.

	* collection/eom-collection-model.c (EomCollectionModelPrivate):
	Removed storage, uri and idle_id attributes.
	(LoadingContext): New structure which holds all neccessary
	informations to load an URI.
	(real_image_loading): Removed.
	(eom_collection_model_set_uri_list),
	(prepare_context),
	(real_storage_loading),
	(real_stream_loading): New functions.
	(eom_collection_model_set_uri): Rewrote this one.

	* collection/eom-collection-view.c
	(impl_MATE_EOM_ImageCollection_openURIList): New function.

2001-04-23  Jens Finke <jens@gnome.org>

	* collection/cimage.[ch]: s/path/uri/

	* collection/eom_image_loader.c: Added queue and idle loop based
	loading. Due to this, the EomImageLoader doesn't depend on
	EomCollectionModel anymore.
	(eom_image_loader_set_model): Removed.
	(loading_canceled),
	(loading_finished),
	(setup_next_uri): New functions.
	(real_image_loading): Renamed to load_uri and revised.
	(eom_image_loader_start): Append image to load to queue, changed
	signature.

	* collection/eom_collection_model.c
	(eom_collection_model_get_next_loading_context): Removed.
	(eom_collection_model_real_image_loading): Assemble correct URI
	for cimage objects, call eom_image_loader_start and emit
	INTERVAL_ADDED signale for every single cimage object.
	(eom_collection_model_get_uri): Use cimage_get_uri function.

	* collection/eom_item_factory_simple.c (ii_factory_update_item): Use
	cimage_get_uri.

2001-04-18  Jens Finke <jens@gnome.org>

	* collection/eom-collection-preferences.[ch]:
	* collection/eom-item-factory-simple.[ch]:
	* collection/eom-item-factory.[ch]:
	* collection/eom-wrap-list.[ch]: Use standard program copyright
	notice at top of file.

2001-04-14  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-preview-page.c: Move all cutting helps to top-left
	when they are no longer shown. Like that, the lines will remain
	hidden even if the orientation or paper size is changed.

2001-04-14  Michael Meeks  <michael@ximian.com>

	* libeom/Makefile.am (dist-hook): add.

2001-04-12  Martin NorbÃ¤ck <d95mback@dtek.chalmers.se>

	* libeom/MATE_EOM.oaf.in: make caja_view_as values
	translatable.

2001-04-11  Jens Finke <jens@gnome.org>

	* collection/eom-collection-preferences.[ch]: New files.

	* collection/Makefile.am (SOURCES): Added the new files.

	* collection/eom-collection-view.[ch]:
	(eom_collection_view_set_layout_mode),
	(eom_collection_view_set_background_color),
	(prop_control_get_prop),
	(prop_control_get_cb): New functions.
	(eom_collection_view_construct): Create MateComponentPropertyControl
	object.

	* collection/eom_wrap_list.c: (eom_wrap_list_set_layout_mode),
	(eom_wrap_list_set_background_color): New function.
	(do_layout_check): Added support for different item layout
	flavours: vertical, horizontal and rectangle.
	(update): Check for new global update hint
	GLOBAL_LAYOUT_MODE_CHANGED.

	* collection/eom_wrap_list.h: (eom_wrap_list_set_layout_mode),
	(eom_wrap_list_set_background_color): New function declarations.
	(EomLayoutMode): New enumeration.

2001-04-10  Jens Finke <jens@gnome.org>

	I did the changes since 2001-04-02 on holidays in the south france
	sun without internet access, so I commit these at once now. Its
	likely that I forgot some minor changes.

	* collection/eom-item-factory-simple.c
	(eom_item_factory_simple_construct): New Function.
	(eom_item_factory_simple_new): Call construct method.
	(shade_bgr_destroy_notify_cb): New function.
	(ii_factory_update_item): Set item border to black, use shaded
	background for images, set font color to white.

2001-04-07  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view.c: Change gdouble to gint in order to get
	counting of pages right.

	* viewer/eom-print-setup.c: Fix typo that resulted in the wrong
	image for print order.

2001-04-07  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view.[ch]:
	* viewer/eom-preview-page.[ch]:
	* viewer/eom-preview.[ch]:
	* viewer/eom-print-setup.[ch]:
	* viewer/eom-util.[ch]: Implement overlap support. Moved the unit
	selection out of the notebook as it now affects overlap, too.

2001-04-07  Jens Finke <jens@gnome.org>

	* collection/eom-wrap-list.c (handle_item_event): Recognize CTRL
	and SHIFT key modifiers and behave accordingly.
	(get_item_view_position): New handy function.

	* collection/eom-collection-model.c
	(eom_collection_model_toggle_select_status): Takes a single id now
	instead of a GList of ids. The list isn't really needed and its
	much easier to use it this way.

2001-04-06  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/Makefile.am: Added $(MATECONF_LIBS) to sample_container as I
	put some mateconf stuff into...

	* viewer/eom-util.[ch]: Put some mateconf stuff here from...

	* viewer/eom-print-setup.[ch]: Give the user the option to cancel
	everything.  We now update the preview manually from here instead
	of doing it through mateconf. That makes a move away from mateconf
	easier.

	* viewer/eom-image-view.[ch]: Use the functions in eom-util.c to
	retreive the settings.

	* viewer/eom-preview-page.c: If cutting help is not wanted, move
	it to (0,0) where we can hide it even if the page size shrinks.

2001-04-06  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* eom-image-view.c:
	* eom-preview-page.[ch]:
	* eom-preview.c:
	Don't let the user specify margins that are too big for the page.
	Store margins as float (we should have done this from the beginning)
	so that unit conversions won't result in rounding errors.
	Internally handle everything but pixmap sizes in gdouble. Get preview
	and printing in sync again (not 100% done - but 99,9%...).

2001-04-05  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-preview-page.c: We don't need SCALE here anywhere.

	* viewer/eom-print-setup.c: Implement unit support.

2001-04-05  Jens Finke <jens@gnome.org>

	* collection/eom-wrap-list.c (EomWrapListPrivate struct): Added
	view_order list.
	(compare_item_caption): New function to create a sorted list of
	items according to their caption.
	(do_item_added_update): Attach caption to item object and insert
	it into the sorted view_order list.
	(do_item_rearrangement): Traverse view_order list instead of hash
	table.
	(rearrange_single_item): Use GFunc like signature.

2001-04-04  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-print-setup.c: First work towards supporting
	units. Not functional yet, though.

2001-04-04  Jens Finke <jens@gnome.org>

	* collection/cimage.[ch] (cimage_toggle_select_status): New
	function

	* collection/eom-collection-model.[ch]
	(eom_collection_model_toggle_select_status),
	(eom_collection_model_set_select_status_all)
	(select_all_images),
	(unselect_all_images): New functions.

	* collection/eom-wrap-list.c (handle_canvas_click): New function.
	(eom_wrap_list_construct): Connect to canvas "button-press-event"
	signal.
	(handle_item_event): Process GDK_BUTTON_PRESS event.

	* collection/eom-item-factory-simple.c (ii_factory_update_item):
	Indicate if the thumbnail is selected or not.

2001-04-03  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view.c:
	(print_page): Always move (0,0) to bottom left at the
	beginning. This makes the code cleaner. If needed, ...
	(print_cutting_help): ... print cutting help.

2001-04-03  Michael Meeks  <michael@ximian.com>

	* shell/main.c (main): bind text domain so we get translations.

2001-04-03  Michael Meeks  <michael@ximian.com>

	* shell/eom-window.c (eom_window_construct): setup configuration.

2001-04-02  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-preview.c:
	* viewer/eom-preview-page.[ch]:
	* viewer/eom-image-view.c: Resize the pixbuf once at the
	beginning. That lets us get rid of the distinction fit_to_page -
	adjust_to and we are able to determine the interpolation type
	(mate-print chooses its own otherwise).

2001-04-02  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-preview.c: Give the user the option to print a
	cutting help.

	* viewer/eom-preview-page.c: Show this cutting help if selected.

	* viewer/eom-image-view.c: Print a warning that we havent'
	implemented the printing of the cutting help yet...

2001-04-02  Jens Finke <jens@gnome.org>

	* collection/eom-wrap-list.c (do_item_added_update): Attach unique
	id to canvas item and connect to 'event' signal.
	(handle_item_event): Read unique id from item and propagate it
	together with emmited signal.

2001-04-01  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-preview-page.c: Show the margins as a red line. Red
	because those lines won't be printed. Shall we give the user the
	option to print them?

2001-03-31  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-preview-page.[ch]: New files

	* viewer/eom-preview.c: This is now a hbox with one or more vboxes
	containing eom-preview-pages. It creates, removes, and updates
	eom-preview-pages when mateconf-settings change. The whole thing is
	much cleaner now.

	* viewer/eom-print-setup: Just show a eom-preview instead of
	creating hboxes and vboxes.

2001-03-29  Jens Finke <jens@gnome.org>

	* collection/Makefile.am (SOURCES): Removed
	mate-icon-item-factory.[ch] and mate-list-item-factory.[ch],
	added eom-item-factory.[ch] and eom-item-factory-simple.[ch]

	* collection/mate-icon-item-factory.[ch],
	mate-list-item-factory.[ch]: Removed.

	* collection/eom-item-factory.[ch]: New files, improved abstract
	interface for item factories.

	* collection/eom-item-factory-simple.[ch]: New files, implements
	abstract factory interface.

	* collection/eom-collection-view.c
	(eom_collection_view_construct): Use EomItemFactorySimple.

	* collection/eom-wrap-list.c
	(eom_wrap_list_set_factory),
	(do_item_added_update),
	(do_item_changed_update): Use EomItemFactory interface.
	(eom_wrap_list_set_factory): Initialize item_width, item_height.
	(do_layout_check),
	(calculate_item_position),
	(do_item_rearrangement): Removed hardcoded item size values,
	instead use item_width and item_height variables.

2001-03-28  Jason Leach  <jasonleach@usa.net>

	* viewer/Makefile.am (INCLUDES): builddir != srcdir fix.

2001-03-28  Jason Leach  <jasonleach@usa.net>

	* shell/Makefile.am (INCLUDES): builddir != srcdir fix.

2001-03-28 Jens Finke <jens@gnome.org>

	* shell/Makefile.am (EXTRA_DIST): Removed glade_messages in order
	to create buildable tarballs.

2001-03-28  Jason Leach  <jasonleach@usa.net>

	* collection/Makefile.am (INCLUDES): builddir != srcdir fix.

2001-03-28  Jens Finke <jens@gnome.org>

	* autogen.sh: Use 'shell' and 'viewer/main.c' to check for eom
	toplevel directory.

	* configure.in (AC_OUTPUT): Removed 'src/*', added
	'libeom/cursors/Makefile' and 'libeom/stock/Makefile'.

	* Makefile.am (SUBDIRS): Finally removed src
	directory.

2001-03-27  Jens Finke <jens@gnome.org>

	* collection/eom-collection-model.c:
	* collection/eom-wrap-list.c: Use hash table to hold all the
	loaded images, instead of a simple list.

2001-03-27  Jens Finke <jens@gnome.org>

	* collection/eom-image-list.[ch]:
	* collection/eom-image-selection-model.[ch]:
	* collection/mate-icon-list-model.[ch]:
	* collection/mate-list-model.[ch]:
	* collection/mate-list-selection-model.[ch]:
	* collection/mate-list-view.[ch]:
	* collection/mate-position-list-model.[ch]:
	* collection/mate-wrap-list.[ch]: Removed files. These contained
	a lot of lagacy stuff, which isn't used anymore.

	* collection/eom-wrap-list.[ch]: New files. This substitutes the
	old mate-wrap-list, provides smooth scrolling, is faster and does
	correct layouting.

	* collection/Makefile.am (SOURCES): Adapted to above changes.

	* collection/eom-collection-model.[ch]: Use a GList of unique ids
	as parameter for the interval_added, interval_changed and
	interval_removed signals.

	* collection/eom-collection-view.c
	(eom_collection_view_construct): Use EomWrapList instead of
	MateWrapList.

	* collection/mate-icon-item-factory.c
	(ii_factory_configure_item): Renamed to ii_factory_update_item,
	adapted to work with EomWrapList.
	(ii_factory_create_item): Added unique_id to parameter list.

	* collection/mate-list-item-factory.[ch] (configure_item signal):
	Renamed to update_item, removed last 3 parameter.
	(create_item signal): Added unique_id to paramter list.

2001-03-27  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* art: New directory containing some icons (from gnumeric) the
	viewer needs.
	* configure.in: Build Makefile in art
	* Makefile.am: Add art to SUBDIRS

2001-03-26  Darin Adler  <darin@eazel.com>

	* collection/.cvsignore: Ignore the generated .oaf file.

2002-03-25  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-preview.[ch]: New files

	* viewer/Makefile.am: Added above files and -DICONDIR=..., as we
	use some icons there

	* viewer/eom-image-view.c: Support for printing one image over
	multiple pages.  Support for range specification.

	* viewer/eom-print-setup.c: Added preview. Support for print order
	specification. Support for multiple pages.

2001-03-21  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* shell/main.c (main): init_with_popt_table in order to be able to
	load given files. If we are given files (or directories), load
	each into a separate window.
	(create_app): If we are given a parameter (== filename), load it.

2001-03-20  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-print-setup.[ch]: New files

	* viewer/Makefile.am: Add above files and MATECONF_LIBS, as we use
	mateconf now

	* viewer/eom-image-view-ui.xml: Add menuitem "Print Setup"

	* viewer/eom-image-view.h:
	(eom_image_view_print): New function, was do_print, now used by
	eom-print-setup, too

	* viewer/eom-image-view.c: When printing, consider what the user
	specified via the new print-setup-dialog.

2001-03-18  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view-ui.xml: Added menuitems for printing
	operations.

	* viewer/eom-image-view.c:
	(do_print): New function, handles printing operations.
	(verb_PrintPreview_cb),
	(verb_Print_cb): New functions, redirect to above.

2001-03-18  Lutz MÃ¼ller  <urc8@rz.uni-karlsruhe.de>

	* shell/eom-shell-ui.xml: Added placeholder for printing
	operations.

2001-03-16  Michael Meeks  <michael@ximian.com>

	* viewer/eom-image-view.c (eom_image_view_construct): Use Bilinear
	as the default interpolation type - Hyperbolic is buggy at ~1.0
	zoom levels, no crashes - just a tartan texture.

2001-03-12  Jens Finke <jens@gnome.org>

	* shell/eom-window.c (eom_window_construct): Add
	MateComponentControlFrame interface to object.
	(activate_uri_cb): New function.
	(get_directory_control): Use new MATE:EOM:ImageCollection
	interface.
	(eom_window_open): Set MateComponentControlFrame for controls.

2001-03-12  Jens Finke <jens@gnome.org>

	* idl/Eom.idl (MATE::EOM::ImageCollection) Removed 'setStorage',
	added 'openURI'.

2001-03-12  Jens Finke <jens@gnome.org>

	* collection/eom-collection-control.[ch]: Parent class is
	EomCollectionView now. Use MateComponentXObject functionality.
	(handle_open_uri): New function.
	(eom_control_construct): Rewrote this completely.

	* collection/eom-collection-model.[ch]: Handle URIs now instead of
	MateComponent_Storage objects. URIs will be resolved to storages
	internally.
	(eom_control_set_storage): Removed.
	(eom_control_set_uri): New function.
	(eom_control_get_uri): New function.
	(eom_control_destroy): Set attributes to NULL after freeing.

	* collection/eom-collection-view.c
	(impl_MATE_EOM_ImageCollection_setStorage): Removed.
	(impl_MATE_EOM_ImageCollection_openURI): New function.
	(eom_collection_view_class_init): Add signal 'open_uri'.
	(handle_item_dbl_click): New function.
	(eom_collection_view_construct): Connect to signal
	'item_dbl_click'.

	* collection/eom-collection-view.h (_EomCollectionViewClass):
	Signal 'open_uri' added.

	* collection/eom_image_loader.c (real_image_loading): Removed
	unneccessary io buffer initialisation. Free the buffer correctly.

	* collection/mate-wrap-list.c (class_init): Add signal
	'item_dbl_click'.
	(handle_item_event): Added case for item double click.

	* collection/mate-wrap-list.h (_MateWrapListClass): Signal
	'item_dbl_click' added.

2001-03-09  Jens Finke <jens@gnome.org>

	* shell/eom-shell-ui.xml: Added stock pixmap to 'FileNewWindow'
	command and accelerators for 'FileNewWindow', 'FileOpen' and
	'FileCloseWindow'.

2001-03-07  Jens Finke <jens@gnome.org>

	* collection/Makefile.am: Added support for xml-i18n-tools.

	* collection/MATE_EOM_Collection.oafinfo: Renamed to
	MATE_EOM_Collection.oaf.in and marked strings for translation
	where appropriate.

2001-03-06  Jens Finke <jens@gnome.org>

	* shell/eom-window-c (get_dir_images) Removed.
	(get_file_control): Use MateComponent_Storage Objects and new
	ImageCollection interface.

2001-03-06  Jens Finke <jens@gnome.org>

	* idl/Eom.idl (typedef Files): Removed.
	(MATE::EOM::ImageCollection): Removed 'addFiles', added
	'setStorage'.

2001-03-06  Jens Finke <jens@gnome.org>

	* collection/MATE_EOM_Collection.oafinfo: Added
	'x-directory/normal' to list of supported mime types.

	* collection/Makefile.am (SOURCES): eom-collection-model.[ch]
	added.

	* collection/cimage.c (get_unique_id): Uncommented.
	(cimage_new): Set unique_id again. I think we need this to support
	basic file operations like 'rename' or 'remove'.

	* collection/eom-collection-view.c
	(impl_MATE_EOM_ImageCollection_addImages): Removed.
	(impl_MATE_EOM_ImageCollection_setStorage): New function.
	(eom_collection_view_destroy): Free 'model', 'sel_model' and
	'factory'.
	(eom_collection_view_class_init): Set correct parent class. This
	fixes the crash, which was introduced with the MateComponentXObject
	switch.
	(eom_collection_view_construct): Use EomCollectionModel now.

	* collection/eom-image-loader.c: Added 'loading_finished',
	'_canceled' and '_failed' signals.
	(eom_image_loader_set_model), (eom_image_loader_destroy): Use
	EomCollectionModel instead of EomImageListModel.
	(real_image_loading): Use MateComponent_Stream Objects instead of native
	file operations.

	* collection/eom-image-loader.h: Renamed
	'IS_EOM_IMAGE_LOADER[_CLASS]' to 'EOM_IS_IMAGE_LOADER[_CLASS]' for
	consistency.

	* collection/mate-icon-item-factory.c:
	* collection/mate-list-item-factory.[ch]:
	* collection/mate-list-view.[ch]:
	* collection/mate-wrap-list.c: Updated to use EomCollectionModel
	instead of EomImageListModel.

	* collection/eom-collection-model.[ch]: New files.

2001-03-01  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* viewer/eom-image-view-ui.xml: Added 'FileOperations' placeholder
	and menuitem 'SaveAs'.

	* viewer/eom-image-view.c
	(filesel_ok_cb), (filesel_cancel_cb), (verb_SaveAs_cb): New
	functions.
	(eom_image_view_create_ui): Added callback for 'SaveAs'.

	* viewer/eom-image.[ch]
	(save_image_to_stream): Handle type == CORBA_OBJECT_NIL.
	(eom_image_save_to_stream): New function, redirects to function
	above.

2001-03-01  Jens Finke <jens@gnome.org>

	* shell/eom-shell-ui.xml: Renamed 'Create New Window' to 'New
	Window' and 'Close Window' to 'Close'. So it's more consistent
	with other applications.

2001-03-01  Lutz MÃ¼ller <urc8@rz.uni-karlsruhe.de>

	* shell/eom-shell-ui.xml: Added 'FileOperations' placeholder and
	put 'FileOpen' in it.

2001-03-01  Jens Finke <jens@gnome.org>

	* collection/eom_collection_view.[ch]: Use MateComponentXObject.
	(eom_collection_view_get_epv): Removed.
	(init_eom_collection_view_corba_class): Removed.
	(eom_collection_view_construct): Removed 'corba_object' argument.
	(eom_collection_view_get_type): Replaced with
	MATECOMPONENT_X_TYPE_FUNC_FULL.
	(eom_collection_view_corba_object_create): Removed.

2001-02-28 Jens Finke <jens@gnome.org>

	* libeom/: Copied cursors and stock directories from ../src.

	* libeom/Makefile.am (SUBDIRS): Added cursors and stock directory.

2001-02-27  Jens Finke <jens@gnome.org>

	Applied patch from Lutz Mueller <urc8@rz.uni-karlsruhe.de>:

	* viewer/eom-control.c (eom_control_create_ui): New path for
	zoom_menu.

	* viewer/eom-image-view-ui.xml: Removed 'Component' placeholder.

2001-02-27  Jens Finke <jens@gnome.org>

	Applied patch from Lutz Mueller <urc8@rz.uni-karlsruhe.de>:

	* shell/eom-shell-ui.xml: Renamed placeholder to 'View' and moved
	it between 'File' and 'Settings' menu.

2001-02-20  Martin Baulig  <baulig@suse.de>

	* viewer/preferences.[ch]: New files.

	* viewer/eom-image-view.c
	(eom_image_view_get_property_control): New function.
	(eom_image_view_construct): Create the MateComponentPropertyControl.
	(eom_image_view_get/set_interpolation/dither/check_type/check_size):
	Get/set values from the PropertyBag and directly from the
	ImageView directly. This way we can "hide" the property bag in the
	implementation and transparently use the get/set function.
	(eom_image_view_get/set_prop): Operate directly on the ImageView.

	* viewer/eom-control.c (eom_control_construct): Get the
	PropertyControl from the EomImageView and
	matecomponent_object_add_interface() it.

	* viewer/eom-image.[ch]: Use MateComponentXObject.
	(eom_image_corba_object_create): Removed.
	(eom_image_construct): Removed `corba_object' argument.

	* viewer/eom-image-data.[ch]: Use MateComponentXObject.
	(eom_image_data_corba_object_create): Removed.
	(eom_image_data_construct): Removed `corba_object' argument.

	* viewer/eom-image-view.[ch]: Use MateComponentXObject.
	(eom_image_view_corba_object_create): Removed.
	(eom_image_view_construct): Removed `corba_object' argument.

	* viewer/eom-embeddable-view.h
	(eom_embeddable_view_corba_object_create): Removed prototype for
	non-existing function.

2001-02-22  Arik Devens  <arik@eazel.com>

	* viewer/Makefile.am: Added mateconf cflags so that we can build.

2001-02-20  Martin Baulig  <baulig@suse.de>

	* shell/eom-preferences.[ch]: New files.

	* shell/eom-window.h: Renamed IS_EOM_WINDOW -> EOM_IS_WINDOW,
	IS_EOM_WINDOW_CLASS -> EOM_IS_WINDOW_CLASS to make it consistent
	with how it's done everywhere else.

	* shell/eom-window.c (eom_window_get_property_control): New
	function.
	(eom_window_get_ui_container): New function.
	(verb_Preferences_cb): Use the PropertyControl from
	eom-preferences.c.

2001-02-20  Martin Baulig  <baulig@suse.de>

	* AUTHORS: Added Jens Finke, Michael Meeks and myself.

2001-02-18  Martin Baulig  <baulig@suse.de>

	* collection/Makefile.am: Don't build the CORBA stuff here but
	link against ../libeom/libeom.la.

2001-02-17  Martin Baulig  <baulig@suse.de>

	* shell/main.c (main): Don't call CORBA_Object_release (orb).

	* shell/eom-window.c (sensitive_zoom_items, auto_size): Commented
	out unused functions.

2001-02-16  Michael Meeks  <michael@ximian.com>

	* autogen.sh: fix so we actually configure.
	* configure.in: ditto.

2001-02-15  Jens Finke <jens@gnome.org>

	* viewer/eom-control.c (toolbar definition): Changed name to
	'Toolbar', set correct pixmaps for 'ZoomIn' and 'ZoomOut' items.

	* viewer/eom-image-view-ui.xml: Inserted placeholder 'Component',
	renamed submenu from 'EOM' to 'View'.

2001-02-15  Martin Baulig  <baulig@suse.de>

	* shell/e-dialog-widgets.[ch], preferences.[ch],
	preferences-dialog.glade, util.[ch]: Replaced with a direct CVS
	copy which has the full history.

2001-02-15  Jens Finke <jens@gnome.org>

	* shell/eom-window.[ch]:
	* shell/eom-shell-ui.xml:
	* shell/main.c: Rewrote this completely.

	* shell/e-dialog-widgets.[ch]: Verbatim copy from ../src.
	* shell/preferences.[ch]: Verbatim copy from ../src.
	* shell/preferences-dialog.glade[.h]: Verbatim copy from ../src.
	* shell/util.[ch]: Verbatim copy from ../src.

2001-02-15  Martin Baulig  <baulig@suse.de>

	* libeom/gtkscrollframe.[ch]:
	* libeom/image-view.[ch]:
	* libeom/image.[ch]:
	* libeom/uta.[ch]:
	* libeom/cursors.[ch]:
	* libeom/ui-image.[ch]:
	* libeom/zoom.[ch]: Copied here from ../src.

	* libeom/MATE_EOM.oaf.in: Copied here from ../viewer.

	* libeom/Makefile.am: Build the CORBA stuff here.

2001-02-15  Martin Baulig  <baulig@suse.de>

	* libeom/image-view.h
	(CheckType, CheckSize, ScrollType, FullScreenZoom): Moved here
	from preferences.h and don't include it.

2001-02-15  Jens Finke <jens@gnome.org>

	* idl/Eom.idl (typedef Files): Added.
        (MATE::EOM:ImageCollection): New interface.

2001-02-15  Martin Baulig  <baulig@suse.de>

	* collection/cimage.c (get_unique_id): Comment out unused
	function.
	(last_id): Moved into get_unique_id ().

2001-02-15  Jens Finke <jens@gnome.org>

	Imported first version of the image collection component.

	* collection/MATE_EOM_Collection.oafinfo: New file.
	* collection/cimage.[ch]: New files.
	* collection/eom-collection-control.[ch]: New files.
	* collection/eom-collection-view.[ch]: New files.
	* collection/eom-image-list-model.[ch]: New files.
	* collection/eom-image-loader.[ch]: New files.
	* collection/eom-image-selection-model.[ch]: New files.
	* collection/mate-icon-item-factory.[ch]: New files.
	* collection/mate-icon-list-model.[ch]: New files.
	* collection/mate-list-item-factory.[ch]: New files.
	* collection/mate-list-model.[ch]: New files.
	* collection/mate-list-selection-model.[ch]: New files.
	* collection/mate-list-view.[ch]: New files.
	* collection/mate-position-list-model.[ch]: New files.
	* collection/mate-wrap-list.[ch]: New files.
	* collection/main.c: New file.

2001-02-15  Martin Baulig  <baulig@suse.de>

	* libeom/: New directory.

2001-02-15  Jens Finke <jens@gnome.org>

	* collection/: New directory.

	* Makefile.am (SUBDIRS): Added 'shell' and 'collection'
	directories.

	* configure.in: Generate Makefiles in 'shell' and 'collection'
	dirs.

2001-02-15  Martin Baulig  <baulig@suse.de>

	Bumped version number to 0.7.

2001-02-15  Martin Baulig  <baulig@suse.de>

	* Released EOM 0.6 "Lactating Monkey".

2001-02-10  Gediminas Paulauskas <menesis@delfi.lt>

	* configure.in, Makefile.am, src/Makefile.am,
	viewer/Makefile.am, .cvsignore, src/.cvsignore,
	viewer/.cvsignore: use xml-i18n-tools for translations.
	* src/preferences-dialog.glade.h, eom.desktop,
	viewer/MATE_EOM.oafinfo: removed, now generated.
	* eom.desktop.in, viewer/MATE_EOM.oaf.in: new files.
	* viewer/main.c: call textdomain() to get localised menus in Caja.

2001-02-07  Martin Baulig  <baulig@suse.de>

	* viewer/Makefile.am (EXTRA_DIST): Added $(ui_DATA).

2001-02-07  Martin Baulig  <baulig@suse.de>

	* viewer/eom-embeddable.c
	(eom_embeddable_corba_object_create): Removed.
	(eom_embeddable_construct): Removed MateComponent_Embeddable argument.

2001-02-06  Martin Baulig  <baulig@suse.de>

	* viewer/eom-control.c (eom_control_corba_object_create): Removed.
	(eom_control_construct): Removed MateComponent_Control argument.

	* viewer/eom-embeddable-view.c
	(eom_embeddable_view_corba_object_create): Removed.
	(eom_embeddable_view_construct): Removed MateComponent_View argument.

2001-02-06  Martin Baulig  <baulig@suse.de>

	Bumped version number to 0.6.

	[Translators, this isn't the release yet; there'll
	be 2-3 days left since we need to wait for MateComponent.]

	* configure.in: Depend on MateComponent 0.35, MateConf 0.12,
	mate-print 0.25 and OAF 0.6.2.

2001-02-05  Martin Baulig  <baulig@suse.de>

	* shell/eom-window.[ch]: New files.

	* shell/eom-shell-ui.xml: New file.

	* shell/main.c: New file.

2001-01-26  Simos Xenitellis  <simos@hellug.gr>

	* eom.desktop: Added entries for el.

2001-01-21  Michael Meeks  <michael@helixcode.com>

	* viewer/eom-image.c (eom_image_get_pixbuf): only ref if we have a
	pixbuf.

	* viewer/eom-embeddable-view.c (configure_size): unref pixbuf.

	* viewer/eom-embeddable.c (render_fn): ditto.

	* viewer/main.c (matecomponent_object_destroy_cb): remove expliti running
	object counting.
	(init_eom_image_viewer_factory): use a modern unref method.

2001-01-17  Michael Meeks  <michael@helixcode.com>

	* viewer/eom-image-view.c (eom_image_view_set_prop),
	(eom_image_view_get_prop): update to new property bag API.

2001-01-17  Michael Meeks  <michael@helixcode.com>

	* viewer/eom-embeddable-view.c (eom_embeddable_view_construct):
	don't allow scroll bars ever.
	(configure_size): upd.

	* viewer/eom-image-view.c (eom_image_view_set_zoom): impl.

2001-01-17  Michael Meeks  <michael@helixcode.com>

	* configure.in (have_matecomponent): depend on MateComponent 0.32

2001-01-16  Michael Meeks  <michael@helixcode.com>

	* viewer/eom-embeddable-view.c (eom_embeddable_view_construct):
	connect to view_size_allocation. (configure_size): impl.
	(view_size_allocate_cb): hook up.

	* viewer/eom-image-view.c (eom_image_view_set_prop),
	(eom_image_view_get_prop): update to new property bag API.

2001-01-05  Michael Meeks  <michael@helixcode.com>

	* viewer/eom-embeddable.c (render_fn): impl.
	(eom_embeddable_construct): hook up print interface.

2000-12-19  Michael Meeks  <michael@helixcode.com>

	* configure.in (have_matecomponent): depend on MateComponent 0.31

2000-12-11  Michael Meeks  <michael@helixcode.com>

	* viewer/main.c (matecomponent_object_destroy_cb): remove eroneous cast.

2000-12-10  Michael Meeks  <michael@helixcode.com>

	* viewer/eom-image-view.c (eom_image_view_construct): add some
	sensible defaults for nicer rendering speed & performance.

2000-12-09  Michael Meeks  <michael@helixcode.com>

	* viewer/eom-image.c (eom_image_get_image): only ref if image !=
	NULL.

	* viewer/eom-image-view.c (eom_image_view_new),
	(eom_image_view_construct): add control, add image_set_image_cb
	call, so we can actualy see the image if we load data then request
	a view, or create new views later on.

	* viewer/eom-embeddable-view.c (eom_embeddable_view_destroy): upd.
	(eom_embeddable_view_construct): upd.

	* viewer/eom-embeddable.c (eom_embeddable_construct): update.

	* viewer/eom-image-view.c (eom_image_view_set_dither),
	(eom_image_view_get_interpolation),
	(eom_image_view_set_interpolation),
	(eom_image_view_get_dither),
	(eom_image_view_set_check_type),
	(eom_image_view_get_check_type),
	(eom_image_view_get_check_size),
	(eom_image_view_set_check_size): kill warnings.  misc. cleans.

	* viewer/eom-control.c (eom_control_construct): drasticaly prune.
	(eom_control_destroy): prune with a hook.

	* viewer/eom-image.c (eom_image_add_interfaces): split from
	(eom_image_construct): here.
	(eom_image_destroy): don't double unref item container.

	* viewer/main.c (matecomponent_object_data_t): expunge substantial
	cleans.

	* viewer/eom-image.c (eom_image_construct): use
	matecomponent_object_unref.

	* viewer/eom-util.c (eom_util_add_interfaces): remove.

	* viewer/MATE_EOM.oafinfo: update naming convention.

	* viewer/main.c (eom_image_viewer_factory): ditto.

2000-12-08  Michael Meeks  <michael@helixcode.com>

	* viewer/eom-image-view.c (eom_image_view_destroy): don't unref
	other parts of the aggregate, they are fused with the view.

	* viewer/sample-container.c (main): frendlify

2000-12-08  Arik Devens  <arik@gnome.org>

	* README: Added myself as an author.

2000-12-07  Arik Devens  <arik@gnome.org>

	* THANKS: Ditto.

	* AUTHORS: Changed email address to be current.

2000-12-05  Michael Meeks  <michael@helixcode.com>

	* viewer/Makefile.am: install MATE_EOM.oafinfo instead of
	eom-image-viewer.oafinfo.

2000-11-23  Yukihiro Nakai  <nakai@mate.gr.jp>

	* configure.in: Add zh_CN.GB2312 to ALL_LINGUAS

2000-11-20  Martin Baulig  <baulig@suse.de>

	* viewer/eom-image-io.[ch]: New files. This provides saving code
	for XPM, PNG and JPEG.

	* viewer/eom-image.c (save_image_to_stream): New static function;
	calls one of the eom-image-io.c function depending on the content
	type.

2000-11-20  Martin Baulig  <baulig@suse.de>

	* viewer/eom-image-data.[ch]: Removed.

	* viewer/eom-image.[ch]: Moved everything from eom-image-data.[ch]
	here.
	(eom_image_get_image): Formerly known as
	eom_image_data_get_image().
	(eom_image_get_pixbuf): New function.

2000-11-20  Martin Baulig  <baulig@suse.de>

	* idl/Eom.idl (MATE::EOM::ImageData): Removed.
	(MATE::EOM::Image): Derive this directly from MateComponent::Unknown.

2000-11-20  Martin Baulig  <baulig@suse.de>

	* configure.in: Check for libpng and libjpeg.

2000-11-19  Martin Baulig  <baulig@suse.de>

	* viewer/eom-util.[ch]: New files.
	(eom_util_add_interfaces): New function.
	(eom_util_split_string): New function.

	* viewer/eom-embeddable.c (eom_embeddable_add_interfaces):
	Removed, use eom_util_add_interfaces() instead.

	* viewer/eom-control.c (eom_control_add_interfaces): Likewise.

	* viewer/eom-embeddable-view.c
	(eom_embeddable_view_add_interfaces): Likewise.

	* viewer/eom-image.c (eom_image_construct): Create a
	MateComponentItemContainer and provide two arguments - `control' which
	calls eom_control_new() on the EomImage to return a new
	MateComponentControl and `embeddable' which does the same with
	eom_embeddable_new().

	* viewer/eom-image-view.c (eom_image_view_construct): Create a
	MateComponentItemContainer.

	* viewer/eom-control.c (eom_control_construct): Pass down the
	MateComponentItemContainer from the EomImageView.

	* viewer/eom-embeddable-view.c (eom_embeddable_view_construct):
	Likewise.

	* viewer/main.c (eom_image_viewer_factory): Added factory for
	MATE::EOM::Image.
	(main): Don't force fatal warnings.

	* viewer/sample-container.c: New file.

2000-11-19  Martin Baulig  <baulig@suse.de>

	Moved the zoomable from the EomImageView into the EomControl.

	* viewer/eom-image-view.h (eom_image_view_get_zoomable): Removed.
	(eom_image_view_get_zoom_factor): New function.
        (eom_image_view_set_zoom_factor): New function.
        (eom_image_view_zoom_to_fit): New function.

	* viewer/eom-control.c (eom_control_create_ui): New static
	function. This creates the zoom menus and toolbar.
	(eom_control_set_ui_container): New static function. This calls
	eom_image_view_set_ui_container() and then
	eom_control_create_ui().
	(eom_control_unset_ui_container): New static function. This calls
	eom_image_view_unset_ui_container().
	(eom_control_activate): Call eom_control_set/unset_ui_container()
	instead of eom_image_view_set/unset_ui_container().
	(eom_control_construct): Create the MateComponentZoomable here.

	* viewer/eom-image-view.c
	(zoomable_set_frame_cb, zoomable_set_zoom_level_cb,
	zoom_index_from_float, zoom_level_from_index, zoomable_zoom_in_cb,
	zoomable_zoom_out_cb, zoomable_zoom_to_fit_cb,
	zoomable_zoom_to_default_cb, verb_ZoomIn_cb, verb_ZoomOut_cb,
	verb_ZoomToDefault_cb, verb_ZoomToFit_cb): Moved to eom-control.c.

	* viewer/eom-control.c:
	(zoomable_set_frame_cb, zoomable_set_zoom_level_cb,
	zoom_index_from_float, zoom_level_from_index, zoomable_zoom_in_cb,
	zoomable_zoom_out_cb, zoomable_zoom_to_fit_cb,
	zoomable_zoom_to_default_cb, verb_ZoomIn_cb, verb_ZoomOut_cb,
	verb_ZoomToDefault_cb, verb_ZoomToFit_cb): Moved here.

2000-11-19  Martin Baulig  <baulig@suse.de>

	* viewer/eom-image.[ch]: New files. This implements
	MATE::EOM::Image which is (currently) derived from
	MATE::EOM::ImageData.

	* viewer/eom-image-view.c (eom_image_view_new,
	eom_image_view_construct): This now takes a MATE::EOM::Image, not
	a MATE::EOM::ImageData.
	(eom_image_view_get_image_data): Renamed to
	eom_image_view_get_image().

	* viewer/eom-control.c (eom_control_new, eom_control_construct):
	This now takes a MATE::EOM::Image, not a MATE::EOM::ImageData.
	* eom-embeddable.c (eom_embeddable_new): Likewise.
	(eom_embeddable_construct): Likewise.  * eom-embeddable-view.c
	(eom_embeddable_view_new): Likewise.
	(eom_embeddable_view_construct): Likewise.

2000-11-19  Martin Baulig  <baulig@suse.de>

	* idl/Eom.idl (MATE::EOM::Image): New interface which is derived
	from MATE::EOM::Image (FIXME: do we really need to distinguish
	between MATE::EOM::ImageData and MATE::EOM::Image or can't we
	just use MATE::EOM::Image for everything?).
	(MATE::EOM::ImageView): Renamed getImageData() to getImage() and
	made it return a MATE::EOM::Image.

2000-11-18  Martin Baulig  <baulig@suse.de>

	* viewer/eom-image-view.c (EomImageViewPrivate): Added
	`has_zoomable_frame'.
	(zoomable_set_frame_cb): New callback function for the "set_frame"
	signal on the Zoomable; this sets
	image_view->priv->has_zoomable_frame.
	(eom_image_view_create_ui): Manually create the UI for the zoom
	toolbar and the zoom menu entries here, but only if
	`has_zoomable_frame'.

	* viewer/eom-image-view-ui.xml: Removed the EomZoomToolbar and the
	zoom menus.

2000-11-17  Martin Baulig  <baulig@suse.de>

	* viewer/eom-image-view.c (verb_ZoomIn_cb, verb_ZoomOut_cb,
	verb_ZoomToDefault_cb, verb_ZoomToFit_cb): New callback functions;
	they emit the corresponding signals on the zoomable.
	(eom_image_viewer_verbs): Added "ZoomIn", "ZoomOut",
	"ZoomToDefault" and "ZoomToFit".

	* viewer/eom-image-view-ui.xml: Moved the config stuff into
	submenus, added some menu items for zooming and a
	"EomZoomToolbar".

2000-11-17  Martin Baulig  <baulig@suse.de>

	* idl/Eom.idl (MATE::EOM::ImageView): Removed getZoomable(),
	getPropertyBag(), setUIContainer() and unsetUIContainer().

2000-11-17  Martin Baulig  <baulig@suse.de>

	The big while-I-was-listening-to-some-music API rename:

	- namespace: Use MATE::EOM instead of EOM.
	- removed EOM::Control, EOM::Embeddable and EOM::EmbeddableView,
	instead we now use the MateComponent interfaces directly.
	- studlyCapsification.

2000-11-16  Martin Baulig  <baulig@suse.de>

	* viewer/eom-image-view.c (zoomable_zoom_to_fit_cb): Implemented;
	first call ui_image_zoom_fit(), then get the new zoom level from
	the ImageView and emit the "set_zoom_level" signal on the
	zoomable.
	(eom_image_view_construct): Set `has_min_zoom_level' and
	`has_max_zoom_level' on the zoomable.

2000-11-16  Martin Baulig  <baulig@suse.de>

	* matecomponent/: Disable build of this directory, the
	matecomponent-image-generic has been merged into the
	caja-image-viewer.

	* configure.in: Require MateComponent >= 0.28

2000-11-02  Michael Meeks  <michael@helixcode.com>

	* configure.in: Require MateComponent >= 0.27

2000-10-27  Martin Baulig  <baulig@suse.de>

	* viewer/eom-image-control.[ch]: Renamed to eom-control.[ch].

	* viewer/eom-embeddable.[ch]: New files.

	* viewer/eom-embeddable-view.[ch]: New files.

2000-10-27  Martin Baulig  <baulig@suse.de>

	* idl/Eom.idl (EOM::ImageControl): Renamed to EOM::Control.
	(EOM::ImageEmbeddable): Renamed to EOM::Embeddable.
	(EOM::EmbeddableView): New interface.

2000-10-27  Martin Baulig  <baulig@suse.de>

	* CVSVERSION: New file.

	* configure.in (--enable-more-warnings): New configure command line
	argument to enable additional compiler warnings.
	(EXTRA_WARNING_CFLAGS): Set and AC_SUBST this to the extra warnings.

2000-10-26  Martin Baulig  <baulig@suse.de>

	Imported first version of my new eom-image-viewer component.

	* viewer/eom-image-data.[ch]: New files.
	* viewer/eom-image-view.[ch]: New files.
	* viewer/eom-image-control.[ch]: New files.
	* viewer/eom-image-view-ui.xml: New file.
	* viewer/eom-image-viewer.oafinfo: New file.
	* viewer/main.c: New file.

2000-10-26  Martin Baulig  <baulig@suse.de>

	* idl/: New directory.
	* viewer/: New directory.

	* idl/Eom.idl: New file.

	* configure.in: Require matecomponent, mate-print and oaf.

2000-10-14  Martin Baulig  <baulig@suse.de>

	* matecomponent/ChangeLog: New file.

2000-10-10  Jacob "Ulysses" Berkman  <jacob@helixcode.com>

	* configure.in: add pt_BR to ALL_LINGUAS

2000-09-25  Yukihiro Nakai  <nakai@mate.gr.jp>

	* eom.desktop: Add Japanese entry.

2000-04-25  Christophe Merlet  <christophe@merlet.net>

	* eom.desktop : Added [fr] section .

2000-09-04  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in: Bumped version number to 0.5.

	* configure.in: Require gdk-pixbuf 0.9.0 or later.

	* eom.spec.in: Sort of updated the specfile; I have not bothered
	to test it.  If you are lazy enough to expect rpm -ta to work, you
	deserve to lose.

2000-08-20  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in (AC_OUTPUT): Added doc/Makefile and doc/C/Makefile.

	* Makefile.am (SUBDIRS): Added doc.

2000-08-16  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in: Bumped version number to 0.4.  Removed stale
	gnumeric_executable cruft from the initial cut & paste.

	* README: Updates.

	* DEPENDS: List mateconf and libglade.

2000-08-10  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in: Require mateconf 0.8.  HAH.

2000-08-09  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in: Require mateconf 0.7 or later.

	* eom.schemas: Completed the schema descriptions.

2000-08-03  Michael Meeks  <michael@helixcode.com>

	* configure.in (have_gprint): update for MateComponentX

2000-07-24  Dan Winship  <danw@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (load_image_from_stream): Fix the
	sense of a comparison so we set a CORBA exception when something
	goes wrong, rather than when something goes right.

2000-07-10  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in: Added the MATECONF_CONFIG_SOURCE stuff, from Havoc.

	* Makefile.am (install-data-local): Ditto.

2000-07-06  Michael Meeks  <michael@helixcode.com>

	* matecomponent/io-png.[ch]: Create; nicked from gdk-pixbuf-save
	and updated.

	* matecomponent/matecomponent-image-generic.c: turn off debug [ doh ]
	(load_image_from_stream): fix some sillyness and clean, kill
	leak. (save_image_to_stream): implement.
	(destroy_view): free various widgets.

	* matecomponent/Makefile.am (matecomponent_image_generic_SOURCES): add io-png.[ch]

2000-07-04  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (configure_size): set allocation.
	(view_size_allocate_cb): change interpolation depending on size.

2000-06-13  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (redraw_all_cb): rename to
	(resize_all_cb): and update to just resize.
	(load_image_from_stream): use it.
	(animation_destroy): don't kill timeout.
	(animation_state_clean): instead do it here.
	(animation_init): make it start at the beggining of the
	animation. (skip_frame): re-order frame walking.
	(animation_cur_frame): implement.
	(animation_area_exposed): use it here.

2000-06-12  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (view_size_allocate_cb): set
	size_allocated to false initially. (configure_size): set size
	allocated flag.

2000-06-26  Federico Mena Quintero  <federico@helixcode.com>

	* eom.schemas: Beautified and completed the schema file.

2000-06-21  Federico Mena Quintero  <federico@helixcode.com>

	* Makefile.am: Added the MateConf schema instalation foo.

	* configure.in: Likewise.

2000-06-21  Darin Adler  <darin@eazel.com>

	* configure.in: Added zm_TW.Big5 to ALL_LINGUAS.  Perhaps this is
	a mistake and the .po file should be removed.  I can't tell. But
	without this change people can't build.

2000-06-20  Arik Devens  <arik@helixcode.com>

	* configure.in: added mateconf support

	* Makefile.am: added mateconf support

	* src/main.c: added mateconf_init

	* src/preferences.c (prefs_init): added loading of mateconf values
	from database...

	* eom.schemas: added eom defaults for the mateconf database

2000-06-12  Maciej Stachowiak  <mjs@eazel.com>

	* matecomponent/image-generic.oafinfo: Replaced image/x with a set of
	mime types for the image types actually supported by gdk-pixbuf.

2000-06-11  Eskil Heyn Olsen  <eskil@eazel.com>

	* eom.spec.in: Added a specfile for EOM
	* configure.in: Generate the specfile
	* Makefile.am: DIST the spec.in and spec.

2000-05-29  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (load_image_from_stream): Fix
	stupid bug misordering the arguments, kill redundant exception init.

2000-05-26  Dan Winship  <danw@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (load_image_from_stream): fix up
	CORBA exception usage.

2000-05-25  Gene Z. Ragan  <gzr@eazel.com>

	* matecomponent/matecomponent-image-generic.c: (load_image_from_stream),
	(matecomponent_object_factory):
	Modifed this code to work with the changes made to MateComponent by
	Dan Winship.  This is untested and should be revisited.

2000-05-18  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in: Added checks for Glade.

2000-05-13  Iain Holmes  <ih@csd.abdn.ac.uk>

	* matecomponent/matecomponent-image-generic.c (view_factory_common): increment
	running objects to stop random death syndrome.

2000-05-01  Michael Meeks  <michael@helixcode.com>

	* configure.in (Configuration): add oaf_support printout.

2000-05-08  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in: Moved the mate-config flags around.

2000-05-03  Pablo Saratxaga <pablo@mandrakesoft.com>

	* src/window.c: replaced 5% with 5%% in messages, to avoid false
	positives when checking the po translations files

2000-05-01  Anders Carlsson  <andersca@gnu.org>

	* configure.in: Check if matecomponent uses oaf so you don't have to
	specify --enable-oaf.

2000-04-27  Maciej Stachowiak  <mjs@eazel.com>

	* matecomponent/image-generic.oafinfo: Added standard MateComponent and Caja
	attributes so this can be automatically selected as the caja
	image viewer, not hardcoded.

2000-04-23  Maciej Stachowiak  <mjs@eazel.com>

	Optionally use OAF:

	* configure.in, acconfig.h: Add --enable-oaf configure option to
	allow building the matecomponent control OAF-enabled instead of
	GOAD-enabled.

	* matecomponent/Makefile.am: Link against OAf and install .oafinfo file when
	configured with --enable-oaf

	* matecomponent/matecomponent-image-generic.c: Use OAF calls and IIDs when
	configured with --enable-oaf.

	* matecomponent/image-generic.oafinfo: New OAF activation record.

2000-04-23  Federico Mena Quintero  <federico@helixcode.com>

	* THANKS: Thanks.

2000-04-22  Fatih Demir	<kabalak@gmx.net>

	* eom.desktop : Added [tr] section .

2000-04-20  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in: Bumped version number to 0.3.
	(AC_INIT): src/render.c does not exist anymore; use
	src/image-view.c as the test file.

	* DEPENDS: Added mate-print.

	* configure.in (have_gprint): We require mate-print 0.18 or
	later.

2000-04-19 Ville Hautamaki <villeh@cs.joensuu.fi>

	* configure.in: (ALL_LINGUAS): added Finnish

2000-04-19 Jarkko Ranta <jjranta@cc.joensuu.fi>

	* ee.desktop: Finnish update

2000-04-18  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in (ALL_LINGUAS): added Catalan

2000-04-17  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (render_fn): add rgba mate-print
	support; this means you need HEAD mate-print.

2000-04-17 Jarkko Ranta <jjranta@cc.joensuu.fi>

	* ee.desktop: Finnish update

2000-04-13  Federico Mena Quintero  <federico@helixcode.com>

	* Makefile.am (EXTRA_DIST): Added TODO.

	* TODO: New file.

	* configure.in: Added check for gdk-pixbuf-0.7.0.

2000-04-13  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (render_fn): update for new print API.

2000-04-11  Darin Adler  <darin@eazel.com>

	* matecomponent/matecomponent-image-generic.c (render_pixbuf), (configure_size),
	(view_size_allocate_cb), (skip_frame), (animation_init),
	(animation_area_exposed): Update for new GdkPixbuf.
	* src/image-view.c (paint_rectangle): Update for new GdkPixbuf.

2000-04-09  Michael Meeks  <michael@helixcode.com>

	* acconfig.h: cover ENABLE_GPRINT

	* configure.in: mate print support.

	* matecomponent/matecomponent-image-generic.c (render_fn): implement print.

2000-04-07  Pablo Saratxaga <pablo@mandrakesoft.com>

	* cofnigure.in (ALL_LINGUAS): added Lithuanian

2000-04-05  Dan Damian  <dand@dnttm.ro>

	* configure.in: Added "ro" to ALL_LINGUAS.

2000-04-01  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (get_prop, set_prop): new property API.

2000-04-01  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (scaled_view_factory): nail silly bug.
	(view_size_allocate_cb): kill annoying debug.

2000-03-27  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (view_factory_common): re-engineer to
	setup scaled and use the window more intelligently.

2000-03-26  ERDI Gergo  <cactus@cactus.rulez.org>

	* configure.in (ALL_LINGUAS): Added Hungarian (hu) translation

2000-03-22  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (animation_area_exposed): brutal hack
	for a demo at GUADEC, it seems this provides a better solution at least
	for now.

2000-03-11 Alastair McKinstry <mckinstry@computer.org>

	* configure.in (ALL_LINGUAS): Added Irish translation.

	* eom.desktop. Added Irish translation.

2000-03-07  Maciej Stachowiak  <mjs@eazel.com>

	* matecomponent/matecomponent-image-generic.c: Split embeddable:image-generic
	into two different views, one which always scales the image to
	available space, and one which always shows it at natural size and
	provides scrollbars if necessary.
	* matecomponent/image-generic.gnorba (eom-image-viewer): new embeddable
	type, also generated from embeddable-factory:image-generic.

2000-02-26  Federico Mena Quintero  <federico@helixcode.com>

	* DEPENDS: We depend on MateComponent, too.

2000-02-16  Lauris Kaplinski  <lauris@ariman.ee>

	* configure.in: added et to ALL_LINGUAS
	* eom.desktop: added et translation

2000-02-15  Michael Meeks  <michael@helixcode.com>

	* matecomponent/matecomponent-image-generic.c (matecomponent_animator_control_prop_value_changed_cb):
	restart animation. (skip_frame): stop it.

2000-02-11  Mathieu Lacage <mathieu@advogato.org>

	* src/.cvsignore: chuuut.
	* matecomponent/.cvsignore: chuuuuuut.
	* configure.in: check against matecomponent 0.7 instead of 0.4.

2000-02-04  Michael Meeks  <mmeeks@gnu.org>

	* matecomponent/matecomponent-image-generic.c (animation_init): fixup alpha.
	(skip_frame): fix leaks.
	Various misc. fixes all over.

2000-01-28  Michael Meeks  <michael@mejm2.dow.cam.ac.uk>

	* matecomponent/matecomponent-image-generic.c (render_pixbuf): split out.

2000-01-28  Michael Meeks  <michael@mejm2.dow.cam.ac.uk>

	* matecomponent/matecomponent-image-generic.c: Update for new matecomponent API.
	Use gdk_pixbuf_scale_simple.

2000-01-16  Federico Mena Quintero  <federico@helixcode.com>

	* configure.in: Include the matecanvaspixbuf library in calls to
	mate-config.

	* matecomponent/Makefile.am (gnorba_DATA): Do not install the stuff in
	gnorba_DATA if we are not using matecomponent.

1999-12-30  Tomasz KÂ³oczko  <kloczek@pld.org.pl>

	* configure.in, eom.desktop, po/pl.po: added Polish translation (based
	on MATE PL translation resources).

1999-12-29  Richard Hult  <rhult@hem.passagen.se>

	* configure.in (ALL_LINGUAS): Added Swedish translation (sv).

	* eom.desktop: Dito.

1999-12-27  Yuri Syrota  <rasta@renome.rovno.ua>

        * configure.in: Added "uk" to ALL_LINGUAS.

1999-12-17  Michael Meeks  <mmeeks@gnu.org>

	* matecomponent/matecomponent-image-generic.c (matecomponent_object_factory): update
	to new matecomponent. (init_matecomponent_image_generic_factory): global factory.
	(bod_destroy_cb): implement. (bod_destroy): kill.
	(view_size_query_cb): kill. (view_factory): ditto.
	(destroy_view): implement. (copy_to_file): kill nasty kludge.
	(view_size_allocate_cb): failure cases.
	Killed polymorhpic cached reproid throught.
	Scads more preconditions.

	* matecomponent/image-generic.gnorba: prune guff.

	* matecomponent/Makefile.am (gnorba_DATA): kill annoying warning.

1999-12-03  Federico Mena Quintero  <federico@redhat.com>

	* eom.desktop: Added .desktop file from n0mada@wanadoo.es.

	* Makefile.am: Install eom.desktop, and distribute that file and
	Tigert's turbo-studly icon.

1999-11-22  Tuomas Kuosmanen  <tigert@gimp.org>

	* mate-eom.png: Added an icon for Eye of Mate. Federico, I hope
	you like it? :)

1999-11-09  Michael Meeks  <mmeeks@gnu.org>

	* matecomponent/matecomponent-image-generic.c: Mangle up.
	(gdk_pixbuf_scale): Snarf from gdk-pixbuf ( cheat )

1999-11-09  Michael Meeks  <mmeeks@gnu.org>

	* Makefile.am: add matecomponent

	* configure.in (gnumeric_executable): add MateComponent detection.

	* config.h.in: Add ENABLE_MATECOMPONENT.

1999-11-08  Matthias Warkus  <mawa@iname.com>

	* configure.in: Added "de" to ALL_LINGUAS.

1999-10-29  Sergey Panov  <sipan@mit.edu>

        * configure.in: Added "ru" to ALL_LINGUAS.

1999-10-12  Jesus Bravo Alvarez  <jba@pobox.com>

	* configure.in: Added "gl" to ALL_LINGUAS.

1999-10-04  Yukihiro Nakai <nacai@iname.com>

	* configure.in: Added "ja" to ALL_LINGUAS.

1999-10-02  Sung-Hyun Nam  <namsh@kldp.org>

	* configure.in: Added "ko" to ALL_LINGUAS.

1999-09-28  Federico Mena Quintero  <federico@redhat.com>

	* configure.in: Added "es" to ALL_LINGUAS.

1999-09-28  Kjartan Maraas  <kmaraas@online.no>

	* configure.in: Added "da" to ALL_LINGUAS.

1999-09-28  Tristan Tarrant  <ttarrant@etnoteam.it>

	* Added "it" to ALL_LINGUAS.

1999-09-27  Federico Mena Quintero  <federico@redhat.com>

	Prepared version 0.1.

	* HACKING: Included hacking policies for the Eye of Mate.

	* NEWS: Updated for the first 0.1 release.

	* Makefile.am: Added a number of files to EXTRA_DIST.

1999-09-23  Kjartan Maraas  <kmaraas@online.no>

	* no.po: Added "no" to ALL_LINGUAS.

1999-09-23  Federico Mena Quintero  <federico@redhat.com>

	* configure.in: Output the src/stock/Makefile as well.

1999-09-15  Federico Mena Quintero  <federico@redhat.com>

	* Started the ChangeLog.

